(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62924,(e,t,r)=>{t.exports=e.r(37109)},7972,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},76805,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},11927,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},58932,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");let r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(58932),i=e.r(11927);r.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];e=n.toString(e);let t=[],r=e.length;if(0===r)return t;let o=0,a="",l="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),o++);o<r;){let n=e[o];l?"\\"===n&&o+1<r?a+=e[++o]:n===l?l="":a+=n:s?'"'===n||"'"===n?l=n:"]"===n?(s=!1,t.push(a),a=""):a+=n:"["===n?(s=!0,a&&(t.push(a),a="")):"."===n?a&&(t.push(a),a=""):a+=n,o++}return a&&t.push(a),t}},3244,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(7972),i=e.r(76805),o=e.r(11927),a=e.r(15111);r.get=function e(t,r,l){if(null==t)return l;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return l;let o=t[r];if(void 0===o)if(i.isDeepKey(r))return e(t,a.toPath(r),l);else return l;return o}case"number":case"symbol":{"number"==typeof r&&(r=o.toKey(r));let e=t[r];if(void 0===e)return l;return e}default:{if(Array.isArray(r)){var s=t,u=r,c=l;if(0===u.length)return c;let e=s;for(let t=0;t<u.length;t++){if(null==e||n.isUnsafeProperty(u[t]))return c;e=e[u[t]]}return void 0===e?c:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return l;let e=t[r];if(void 0===e)return l;return e}}}},46411,(e,t,r)=>{t.exports=e.r(3244).get},66631,(e,t,r)=>{"use strict";var n=e.r(44440),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,s=n.useMemo,u=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var p=a(null);if(null===p.current){var f={hasValue:!1,value:null};p.current=f}else f=p.current;var d=o(e,(p=s(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(o=e,t):(o=e,a=r)}var o,a,l=!1,s=void 0===r?null:r;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,r,n,c]))[0],p[1]);return l(function(){f.hasValue=!0,f.value=d},[d]),u(d),d}},64675,(e,t,r)=>{"use strict";t.exports=e.r(66631)},25661,(e,t,r)=>{"use strict";var n=e.r(44440),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return l(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),s(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},56032,(e,t,r)=>{"use strict";t.exports=e.r(25661)},20206,(e,t,r)=>{"use strict";var n=e.r(44440),i=e.r(56032),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,l=n.useRef,s=n.useEffect,u=n.useMemo,c=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var p=l(null);if(null===p.current){var f={hasValue:!1,value:null};p.current=f}else f=p.current;var d=a(e,(p=u(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,l=r)}var a,l,s=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]))[0],p[1]);return s(function(){f.hasValue=!0,f.value=d},[d]),c(d),d}},96482,(e,t,r)=>{"use strict";t.exports=e.r(20206)},405,(e,t,r)=>{"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let i=n(e),o=n(t);if(i===o&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?o-i:i-o}return 0}},17968,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},31152,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(17968),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||n.isSymbol(e))||"string"==typeof e&&(o.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},64666,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(405),i=e.r(31152),o=e.r(15111);r.orderBy=function(e,t,r,a){if(null==e)return[];r=a?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let l=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},s=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e))?e:{key:e,path:o.toPath(e)});return e.map(e=>({original:e,criteria:s.map(t=>{var r,n;return r=t,null==(n=e)||null==r?n:"object"==typeof r&&"key"in r?Object.hasOwn(n,r.key)?n[r.key]:l(n,r.path):"function"==typeof r?r(n):Array.isArray(r)?l(n,r):"object"==typeof n?n[r]:n})})).slice().sort((e,t)=>{for(let i=0;i<s.length;i++){let o=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==o)return o}return 0}).map(e=>e.original)}},8668,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],n=Math.floor(t),i=(e,t)=>{for(let o=0;o<e.length;o++){let a=e[o];Array.isArray(a)&&t<n?i(a,t+1):r.push(a)}};return i(e,0),r}},33348,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},98089,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},9477,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(98089);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&n.isLength(e.length)}},93511,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},29905,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isEqualsSameValueZero=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},38592,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(33348),i=e.r(9477),o=e.r(93511),a=e.r(29905);r.isIterateeCall=function(e,t,r){return!!o.isObject(r)&&(!!("number"==typeof t&&i.isArrayLike(r)&&n.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&a.isEqualsSameValueZero(r[t],e)}},62456,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(64666),i=e.r(8668),o=e.r(38592);r.sortBy=function(e,...t){let r=t.length;return r>1&&o.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&o.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),n.orderBy(e,i.flatten(t),["asc"])}},42326,(e,t,r)=>{t.exports=e.r(62456).sortBy},72607,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:n}={}){let i,o=null,a=null!=n&&n.includes("leading"),l=null==n||n.includes("trailing"),s=()=>{null!==o&&(e.apply(i,o),i=void 0,o=null)},u=null,c=()=>{null!=u&&clearTimeout(u),u=setTimeout(()=>{u=null,l&&s(),p()},t)},p=()=>{null!==u&&(clearTimeout(u),u=null),i=void 0,o=null},f=function(...e){if(r?.aborted)return;i=this,o=e;let t=null==u;c(),a&&t&&s()};return f.schedule=c,f.cancel=p,f.flush=()=>{s()},r?.addEventListener("abort",p,{once:!0}),f}},58078,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(72607);r.debounce=function(e,t=0,r={}){let i;"object"!=typeof r&&(r={});let{leading:o=!1,trailing:a=!0,maxWait:l}=r,s=[,,];o&&(s[0]="leading"),a&&(s[1]="trailing");let u=null,c=n.debounce(function(...t){i=e.apply(this,t),u=null},t,{edges:s}),p=function(...t){return null!=l&&(null===u&&(u=Date.now()),Date.now()-u>=l)?(i=e.apply(this,t),u=Date.now(),c.cancel(),c.schedule(),i):(c.apply(this,t),i)};return p.cancel=c.cancel,p.flush=()=>(c.flush(),i),p}},97616,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(58078);r.throttle=function(e,t=0,r={}){let{leading:i=!0,trailing:o=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:o})}},77934,(e,t,r)=>{t.exports=e.r(97616).throttle},90200,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(17968);r.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},43691,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(90200);r.toFinite=function(e){return e?(e=n.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},39935,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(38592),i=e.r(43691);r.range=function(e,t,r){r&&"number"!=typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);let o=Math.max(Math.ceil((t-e)/(r||1)),0),a=Array(o);for(let t=0;t<o;t++)a[t]=e,e+=r;return a}},18661,(e,t,r)=>{t.exports=e.r(39935).range},60600,(e,t,r)=>{!function(r){"use strict";var n,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,a="[DecimalError] ",l=a+"Invalid argument: ",s=a+"Exponent out of range: ",u=Math.floor,c=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=u(1286742750677284.5),d={};function h(e,t){var r,n,i,a,l,s,u,c,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),o?x(t,f):t;if(u=e.d,c=t.d,l=e.e,i=t.e,u=u.slice(),a=l-i){for(a<0?(n=u,a=-a,s=c.length):(n=c,i=l,s=u.length),a>(s=(l=Math.ceil(f/7))>s?l+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=u.length)-(a=c.length)<0&&(a=s,n=c,c=u,u=n),r=0;a;)r=(u[--a]=u[a]+c[a]+r)/1e7|0,u[a]%=1e7;for(r&&(u.unshift(r),++i),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=i,o?x(t,f):t}function y(e,t,r){if(e!==~~e||e<t||e>r)throw Error(l+e)}function m(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=O(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=O(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}d.absoluteValue=d.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},d.comparedTo=d.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},d.decimalPlaces=d.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},d.dividedBy=d.div=function(e){return g(this,new this.constructor(e))},d.dividedToIntegerBy=d.idiv=function(e){var t=this.constructor;return x(g(this,new t(e),0,1),t.precision)},d.equals=d.eq=function(e){return!this.cmp(e)},d.exponent=function(){return b(this)},d.greaterThan=d.gt=function(e){return this.cmp(e)>0},d.greaterThanOrEqualTo=d.gte=function(e){return this.cmp(e)>=0},d.isInteger=d.isint=function(){return this.e>this.d.length-2},d.isNegative=d.isneg=function(){return this.s<0},d.isPositive=d.ispos=function(){return this.s>0},d.isZero=function(){return 0===this.s},d.lessThan=d.lt=function(e){return 0>this.cmp(e)},d.lessThanOrEqualTo=d.lte=function(e){return 1>this.cmp(e)},d.logarithm=d.log=function(e){var t,r=this.constructor,i=r.precision,l=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(n))throw Error(a+"NaN");if(this.s<1)throw Error(a+(this.s?"NaN":"-Infinity"));return this.eq(n)?new r(0):(o=!1,t=g(w(this,l),w(e,l),l),o=!0,x(t,i))},d.minus=d.sub=function(e){return e=new this.constructor(e),this.s==e.s?S(this,e):h(this,(e.s=-e.s,e))},d.modulo=d.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(a+"NaN");return this.s?(o=!1,t=g(this,e,0,1).times(e),o=!0,this.minus(t)):x(new r(this),n)},d.naturalExponential=d.exp=function(){return v(this)},d.naturalLogarithm=d.ln=function(){return w(this)},d.negated=d.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},d.plus=d.add=function(e){return e=new this.constructor(e),this.s==e.s?h(this,e):S(this,(e.s=-e.s,e))},d.precision=d.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(l+e);if(t=b(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},d.squareRoot=d.sqrt=function(){var e,t,r,n,i,l,s,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(a+"NaN")}for(e=b(this),o=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=m(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new c(i.toString()),i=s=(r=c.precision)+3;;)if(n=(l=n).plus(g(this,l,s+2)).times(.5),m(l.d).slice(0,s)===(t=m(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(x(l,r+1,0),l.times(l).eq(this)){n=l;break}}else if("9999"!=t)break;s+=4}return o=!0,x(n,r)},d.times=d.mul=function(e){var t,r,n,i,a,l,s,u,c,p=this.constructor,f=this.d,d=(e=new p(e)).d;if(!this.s||!e.s)return new p(0);for(e.s*=this.s,r=this.e+e.e,(u=f.length)<(c=d.length)&&(a=f,f=d,d=a,l=u,u=c,c=l),a=[],n=l=u+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+d[n]*f[i-n-1]+t,a[i--]=s%1e7|0,t=s/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--l];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,o?x(e,p.precision):e},d.toDecimalPlaces=d.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(y(e,0,1e9),void 0===t?t=n.rounding:y(t,0,8),x(r,e+b(r)+1,t))},d.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=A(n,!0):(y(e,0,1e9),void 0===t?t=i.rounding:y(t,0,8),r=A(n=x(new i(n),e+1,t),!0,e+1)),r},d.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?A(this):(y(e,0,1e9),void 0===t?t=i.rounding:y(t,0,8),r=A((n=x(new i(this),e+b(this)+1,t)).abs(),!1,e+b(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},d.toInteger=d.toint=function(){var e=this.constructor;return x(new e(this),b(this)+1,e.rounding)},d.toNumber=function(){return+this},d.toPower=d.pow=function(e){var t,r,i,l,s,c,p=this,f=p.constructor,d=+(e=new f(e));if(!e.s)return new f(n);if(!(p=new f(p)).s){if(e.s<1)throw Error(a+"Infinity");return p}if(p.eq(n))return p;if(i=f.precision,e.eq(n))return x(p,i);if(c=(t=e.e)>=(r=e.d.length-1),s=p.s,c){if((r=d<0?-d:d)<=0x1fffffffffffff){for(l=new f(n),t=Math.ceil(i/7+4),o=!1;r%2&&I((l=l.times(p)).d,t),0!==(r=u(r/2));)I((p=p.times(p)).d,t);return o=!0,e.s<0?new f(n).div(l):x(l,i)}}else if(s<0)throw Error(a+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,p.s=1,o=!1,l=e.times(w(p,i+12)),o=!0,(l=v(l)).s=s,l},d.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?(r=b(i),n=A(i,r<=o.toExpNeg||r>=o.toExpPos)):(y(e,1,1e9),void 0===t?t=o.rounding:y(t,0,8),r=b(i=x(new o(i),e,t)),n=A(i,e<=r||r<=o.toExpNeg,e)),n},d.toSignificantDigits=d.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(y(e,1,1e9),void 0===t?t=r.rounding:y(t,0,8)),x(new r(this),e,t)},d.toString=d.valueOf=d.val=d.toJSON=function(){var e=b(this),t=this.constructor;return A(this,e<=t.toExpNeg||e>=t.toExpPos)};var g=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,l){var s,u,c,p,f,d,h,y,m,g,v,E,O,w,_,S,A,I,T=n.constructor,C=n.s==i.s?1:-1,P=n.d,N=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(a+"Division by zero");for(c=0,u=n.e-i.e,A=N.length,_=P.length,y=(h=new T(C)).d=[];N[c]==(P[c]||0);)++c;if(N[c]>(P[c]||0)&&--u,(E=null==o?o=T.precision:l?o+(b(n)-b(i))+1:o)<0)return new T(0);if(E=E/7+2|0,c=0,1==A)for(p=0,N=N[0],E++;(c<_||p)&&E--;c++)O=1e7*p+(P[c]||0),y[c]=O/N|0,p=O%N|0;else{for((p=1e7/(N[0]+1)|0)>1&&(N=e(N,p),P=e(P,p),A=N.length,_=P.length),w=A,g=(m=P.slice(0,A)).length;g<A;)m[g++]=0;(I=N.slice()).unshift(0),S=N[0],N[1]>=1e7/2&&++S;do p=0,(s=t(N,m,A,g))<0?(v=m[0],A!=g&&(v=1e7*v+(m[1]||0)),(p=v/S|0)>1?(p>=1e7&&(p=1e7-1),d=(f=e(N,p)).length,g=m.length,1==(s=t(f,m,d,g))&&(p--,r(f,A<d?I:N,d))):(0==p&&(s=p=1),f=N.slice()),(d=f.length)<g&&f.unshift(0),r(m,f,g),-1==s&&(g=m.length,(s=t(N,m,A,g))<1&&(p++,r(m,A<g?I:N,g))),g=m.length):0===s&&(p++,m=[0]),y[c++]=p,s&&m[0]?m[g++]=P[w]||0:(m=[P[w]],g=1);while((w++<_||void 0!==m[0])&&E--)}return y[0]||y.shift(),h.e=u,x(h,l?o+b(h)+1:o)}}();function v(e,t){var r,i,a,l,u,p=0,f=0,d=e.constructor,h=d.precision;if(b(e)>16)throw Error(s+b(e));if(!e.s)return new d(n);for(null==t?(o=!1,u=h):u=t,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(u+=Math.log(c(2,f))/Math.LN10*2+5|0,r=i=a=new d(n),d.precision=u;;){if(i=x(i.times(e),u),r=r.times(++p),m((l=a.plus(g(i,r,u))).d).slice(0,u)===m(a.d).slice(0,u)){for(;f--;)a=x(a.times(a),u);return d.precision=h,null==t?(o=!0,x(a,h)):a}a=l}}function b(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function E(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(a+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function O(e){for(var t="";e--;)t+="0";return t}function w(e,t){var r,i,l,s,u,c,p,f,d,h=1,y=e,v=y.d,O=y.constructor,_=O.precision;if(y.s<1)throw Error(a+(y.s?"NaN":"-Infinity"));if(y.eq(n))return new O(0);if(null==t?(o=!1,f=_):f=t,y.eq(10))return null==t&&(o=!0),E(O,f);if(O.precision=f+=10,i=(r=m(v)).charAt(0),!(15e14>Math.abs(s=b(y))))return p=E(O,f+2,_).times(s+""),y=w(new O(i+"."+r.slice(1)),f-10).plus(p),O.precision=_,null==t?(o=!0,x(y,_)):y;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=m((y=y.times(e)).d)).charAt(0),h++;for(s=b(y),i>1?(y=new O("0."+r),s++):y=new O(i+"."+r.slice(1)),c=u=y=g(y.minus(n),y.plus(n),f),d=x(y.times(y),f),l=3;;){if(u=x(u.times(d),f),m((p=c.plus(g(u,new O(l),f))).d).slice(0,f)===m(c.d).slice(0,f))return c=c.times(2),0!==s&&(c=c.plus(E(O,f+2,_).times(s+""))),c=g(c,new O(h),f),O.precision=_,null==t?(o=!0,x(c,_)):c;c=p,l+=2}}function _(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=u((r=r-n-1)/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>f||e.e<-f))throw Error(s+r)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,r){var n,i,a,l,p,d,h,y,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if((n=t-l)<0)n+=7,i=t,h=m[y=0];else{if((y=Math.ceil((n+1)/7))>=(a=m.length))return e;for(l=1,h=a=m[y];a>=10;a/=10)l++;n%=7,i=n-7+l}if(void 0!==r&&(p=h/(a=c(10,l-i-1))%10|0,d=t<0||void 0!==m[y+1]||h%a,d=r<4?(p||d)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||d||6==r&&(n>0?i>0?h/c(10,l-i):0:m[y-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(a=b(e),m.length=1,t=t-a-1,m[0]=c(10,(7-t%7)%7),e.e=u(-t/7)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(0==n?(m.length=y,a=1,y--):(m.length=y+1,a=c(10,7-n),m[y]=i>0?(h/c(10,l-i)%c(10,i)|0)*a:0),d)for(;;)if(0==y){1e7==(m[0]+=a)&&(m[0]=1,++e.e);break}else{if(m[y]+=a,1e7!=m[y])break;m[y--]=0,a=1}for(n=m.length;0===m[--n];)m.pop();if(o&&(e.e>f||e.e<-f))throw Error(s+b(e));return e}function S(e,t){var r,n,i,a,l,s,u,c,p,f,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),o?x(t,h):t;if(u=e.d,f=t.d,n=t.e,c=e.e,u=u.slice(),l=c-n){for((p=l<0)?(r=u,l=-l,s=f.length):(r=f,n=c,s=u.length),l>(i=Math.max(Math.ceil(h/7),s)+2)&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for((p=(i=u.length)<(s=f.length))&&(s=i),i=0;i<s;i++)if(u[i]!=f[i]){p=u[i]<f[i];break}l=0}for(p&&(r=u,u=f,f=r,t.s=-t.s),s=u.length,i=f.length-s;i>0;--i)u[s++]=0;for(i=f.length;i>l;){if(u[--i]<f[i]){for(a=i;a&&0===u[--a];)u[a]=1e7-1;--u[a],u[i]+=1e7}u[i]-=f[i]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=n,o?x(t,h):t):new d(0)}function A(e,t,r){var n,i=b(e),o=m(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+O(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+O(-i-1)+o,r&&(n=r-a)>0&&(o+=O(n))):i>=a?(o+=O(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+O(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=O(n))),e.s<0?"-"+o:o}function I(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!=typeof e)throw Error(a+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(u(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(l+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(l+r+": "+n);return this}if((i=function e(t){var r,n,i;function o(e){if(!(this instanceof o))return new o(e);if(this.constructor=o,e instanceof o){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return _(this,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,p.test(e))_(this,e);else throw Error(l+e)}if(o.prototype=d,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=T,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(i)).default=i.Decimal=i,n=new i(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=i)&&e.v(t)}else t.exports?t.exports=i:(r||(r="u">typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=i)}(e.e)},71650,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function l(e,t,r,n,o){if("function"!=typeof r)throw TypeError("The listener must be a function");var l=new a(r,n||e,o),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=Array(o);n<o;n++)a[n]=r[n].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,o,a){var l=i?i+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(u=1,s=Array(p-1);u<p;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!s)for(f=1,s=Array(p-1);f<p;f++)s[f-1]=arguments[f];c[u].fn.apply(c[u].context,s)}}return!0},u.prototype.on=function(e,t,r){return l(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return l(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||n&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},68720,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},8554,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},24229,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(68720),i=e.r(8554),o=e.r(9477);r.last=function(e){if(o.isArrayLike(e))return n.last(i.toArray(e))}},1755,(e,t,r)=>{t.exports=e.r(24229).last},15467,(e,t,r)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case l:case a:case p:case f:case y:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case d:case s:return e;default:return t}}case i:return t}}}r.ContextConsumer=s,r.ContextProvider=u,r.Element=n,r.ForwardRef=c,r.Fragment=o,r.Lazy=h,r.Memo=d,r.Portal=i,r.Profiler=l,r.StrictMode=a,r.Suspense=p,r.SuspenseList=f,r.isContextConsumer=function(e){return g(e)===s},r.isContextProvider=function(e){return g(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return g(e)===c},r.isFragment=function(e){return g(e)===o},r.isLazy=function(e){return g(e)===h},r.isMemo=function(e){return g(e)===d},r.isPortal=function(e){return g(e)===i},r.isProfiler=function(e){return g(e)===l},r.isStrictMode=function(e){return g(e)===a},r.isSuspense=function(e){return g(e)===p},r.isSuspenseList=function(e){return g(e)===f},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===a||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)||!1},r.typeOf=g},47707,(e,t,r)=>{"use strict";t.exports=e.r(15467)},76398,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.uniqBy=function(e,t){let r=new Map;for(let n=0;n<e.length;n++){let i=e[n],o=t(i,n,e);r.has(o)||r.set(o,i)}return Array.from(r.values())}},63040,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.ary=function(e,t){return function(...r){return e.apply(this,r.slice(0,t))}}},22309,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},66468,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObjectLike=function(e){return"object"==typeof e&&null!==e}},73205,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9477),i=e.r(66468);r.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},64216,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3244);r.property=function(e){return function(t){return n.get(t,e)}}},32049,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},66458,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(93511),i=e.r(32049),o=e.r(29905);function a(e,t,r,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map){var o=e,a=t,u=r,c=n;if(0===a.size)return!0;if(!(o instanceof Map))return!1;for(let[e,t]of a.entries())if(!1===u(o.get(e),t,e,o,a,c))return!1;return!0}if(t instanceof Set)return s(e,t,r,n);let p=Object.keys(t);if(null==e||i.isPrimitive(e))return 0===p.length;if(0===p.length)return!0;if(n?.has(t))return n.get(t)===e;n?.set(t,e);try{for(let o=0;o<p.length;o++){let a=p[o];if(!i.isPrimitive(e)&&!(a in e)||void 0===t[a]&&void 0!==e[a]||null===t[a]&&null!==e[a]||!r(e[a],t[a],a,e,t,n))return!1}return!0}finally{n?.delete(t)}}(e,t,r,u);case"function":if(Object.keys(t).length>0)return a(e,{...t},r,u);return o.isEqualsSameValueZero(e,t);default:if(!n.isObject(e))return o.isEqualsSameValueZero(e,t);if("string"==typeof t)return""===t;return!0}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let o=0;o<t.length;o++){let a=t[o],l=!1;for(let s=0;s<e.length;s++){if(i.has(s))continue;let u=e[s],c=!1;if(r(u,a,o,e,t,n)&&(c=!0),c){i.add(s),l=!0;break}}if(!l)return!1}return!0}function s(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}r.isMatchWith=function e(t,r,n){return"function"!=typeof n?e(t,r,()=>void 0):a(t,r,function e(t,r,i,o,l,s){let u=n(t,r,i,o,l,s);return void 0!==u?!!u:a(t,r,e,s)},new Map)},r.isSetMatch=s},26140,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(66458);r.isMatch=function(e,t){return n.isMatchWith(e,t,()=>void 0)}},87057,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],l=o[1],u=new i((a+l)*3/4-l),c=0,p=l>0?a-4:a;for(r=0;r<p;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,l=n-i;a<l;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>l?l:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!l.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|d(n,i),s=a(o),u=s.write(n,i);return u!==o&&(s=s.slice(0,u)),s}if(ArrayBuffer.isView(e))return p(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),l.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return l.from(c,t,r);var h=function(e){if(l.isBuffer(e)){var t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(h)return h;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|f(e))}function p(e){for(var t=e.length<0?0:0|f(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!l.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},l.allocUnsafe=function(e){return c(e)},l.allocUnsafeSlow=function(e){return c(e)};function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(i)return n?-1:S(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,r){var i,o,a,l=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=P[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,a=r,0===o&&a===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(l)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,a=1,l=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,l/=2,s/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<l;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*a}else -1!==c&&(o-=o-c),c=-1}else for(r+s>l&&(r=l-s),o=r;o>=0;o--){for(var p=!0,f=0;f<s;f++)if(u(e,o+f)!==u(t,f)){p=!1;break}if(p)return o}return -1}l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(C(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(C(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):h.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(C(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),p=0;p<s;++p)if(u[p]!==c[p]){o=u[p],a=c[p];break}return o<a?-1:+(a<o)},l.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,l,s,u=e[i],c=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=r)switch(p){case 1:u<128&&(c=u);break;case 2:(192&(o=e[i+1]))==128&&(s=(31&u)<<6|63&o)>127&&(c=s);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(s=(15&u)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=e[i+1],a=e[i+2],l=e[i+3],(192&o)==128&&(192&a)==128&&(192&l)==128&&(s=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&l)>65535&&s<1114112&&(c=s)}null===c?(c=65533,p=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=p}var f=n,d=f.length;if(d<=4096)return String.fromCharCode.apply(String,f);for(var h="",y=0;y<d;)h+=String.fromCharCode.apply(String,f.slice(y,y+=4096));return h}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,i,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function O(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function w(e,t,r,n,o){return t*=1,r>>>=0,o||O(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function _(e,t,r,n,o){return t*=1,r>>>=0,o||O(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,l,s,u,c,p,f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var l,s=parseInt(t.substr(2*a,2),16);if((l=s)!=l)break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,T(S(e,this.length-i),this,i,o);case"ascii":return a=t,l=r,T(A(e),this,a,l);case"latin1":case"binary":return function(e,t,r,n){return T(A(t),e,r,n)}(this,e,t,r);case"base64":return s=t,u=r,T(I(e),this,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,p=r,T(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,p);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;E(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;E(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);E(this,e,t,r,i-1,-i)}var o=0,a=1,l=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/a|0)-l&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);E(this,e,t,r,i-1,-i)}var o=r-1,a=1,l=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/a|0)-l&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||E(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return w(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return w(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return _(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return _(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=l.isBuffer(e)?e:l.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var x=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function A(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function I(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var P=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,a,l=8*i-n-1,s=(1<<l)-1,u=s>>1,c=-7,p=r?i-1:0,f=r?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-c)-1,d>>=-c,c+=l;c>0;o=256*o+e[t+p],p+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,l,s,u=8*o-i-1,c=(1<<u)-1,p=c>>1,f=5960464477539062e-23*(23===i),d=n?0:o-1,h=n?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(l=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),a+p>=1?t+=f/s:t+=f*Math.pow(2,1-p),t*s>=2&&(a++,s/=2),a+p>=c?(l=0,a=c):a+p>=1?(l=(t*s-1)*Math.pow(2,i),a+=p):(l=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&l,d+=h,l/=256,i-=8);for(a=a<<i|l,u+=i;u>0;e[r+d]=255&a,d+=h,a/=256,u-=8);e[r+d-h]|=128*y}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e](r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab="/ROOT/node_modules/.pnpm/next@16.1.6_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},87163,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},14969,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},42120,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},16062,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},99627,(e,t,r)=>{"use strict";var n=e.i(87057);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let i=e.r(87163),o=e.r(14969),a=e.r(42120),l=e.r(32049),s=e.r(16062);function u(e,t,r,i=new Map,p){let f=p?.(e,t,r,i);if(void 0!==f)return f;if(l.isPrimitive(e))return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){let t=Array(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=u(e[n],n,r,i,p);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[n,o]of(i.set(e,t),e))t.set(n,u(o,n,r,i,p));return t}if(e instanceof Set){let t=new Set;for(let n of(i.set(e,t),e))t.add(u(n,void 0,r,i,p));return t}if(void 0!==n.Buffer&&n.Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=u(e[n],n,r,i,p);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return i.set(e,t),c(t,e,r,i,p),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return i.set(e,t),c(t,e,r,i,p),t}if("u">typeof Blob&&e instanceof Blob){let t=new Blob([e],{type:e.type});return i.set(e,t),c(t,e,r,i,p),t}if(e instanceof Error){let t=new e.constructor;return i.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,i,p),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return i.set(e,t),c(t,e,r,i,p),t}if(e instanceof Number){let t=new Number(e.valueOf());return i.set(e,t),c(t,e,r,i,p),t}if(e instanceof String){let t=new String(e.valueOf());return i.set(e,t),c(t,e,r,i,p),t}if("object"==typeof e&&function(e){switch(o.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return i.set(e,t),c(t,e,r,i,p),t}return e}function c(e,t,r=e,n,o){let a=[...Object.keys(t),...i.getSymbols(t)];for(let i=0;i<a.length;i++){let l=a[i],s=Object.getOwnPropertyDescriptor(e,l);(null==s||s.writable)&&(e[l]=u(t[l],l,r,n,o))}}r.cloneDeepWith=function(e,t){return u(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=u,r.copyProperties=c},44302,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(99627);r.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},22803,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(26140),i=e.r(44302);r.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},49467,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(99627),i=e.r(14969),o=e.r(42120);r.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,l,s)=>{let u=t?.(r,a,l,s);if(void 0!==u)return u;if("object"==typeof e){if(i.getTag(e)===o.objectTag&&"function"!=typeof e.constructor){let t={};return s.set(e,t),n.copyProperties(t,e,l,s),t}switch(Object.prototype.toString.call(e)){case o.numberTag:case o.stringTag:case o.booleanTag:{let t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case o.argumentsTag:{let t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}})}},71287,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(49467);r.cloneDeep=function(e){return n.cloneDeepWith(e)}},60560,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(14969);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===n.getTag(e)}},432,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(76805),i=e.r(33348),o=e.r(60560),a=e.r(15111);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&n.isDeepKey(t)&&e?.[t]==null?a.toPath(t):[t]).length)return!1;let l=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==l||!Object.hasOwn(l,t))&&!((Array.isArray(l)||o.isArguments(l))&&i.isIndex(t)&&t<l.length))return!1;l=l[t]}return!0}},73346,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(26140),i=e.r(11927),o=e.r(71287),a=e.r(3244),l=e.r(432);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=o.cloneDeep(t),function(r){let i=a.get(r,e);return void 0===i?l.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},47240,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(22309),i=e.r(64216),o=e.r(22803),a=e.r(73346);r.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return a.matchesProperty(e[0],e[1]);return o.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},20548,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(76398),i=e.r(63040),o=e.r(22309),a=e.r(73205),l=e.r(47240);r.uniqBy=function(e,t=o.identity){return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),i.ary(l.iteratee(t),1)):[]}},2798,(e,t,r)=>{t.exports=e.r(20548).uniqBy},30154,e=>{"use strict";let t,r,n,i,o;var a,l,s,u,c,p,f,d,h,y,m,g,v,b,E,O,w,_,x,S,A,I,T,C,P,N,M,j,k,R,D,U,L,q,F,G,H,B,V,z,$,K,W,J,Y,X,Z,Q,ee,et,er,en,ei,eo,ea,el,es,eu,ec,ep,ef,ed,eh,ey,em,eg,ev,eb,eE,eO,ew,e_,ex,eS,eA,eI,eT,eC,eP,eN,eM,ej,ek,eR,eD,eU,eL,eq,eF,eG,eH,eB,eV,ez,e$,eK,eW,eJ,eY,eX,eZ,eQ,e0,e1,e2,e3,e5,e6,e4,e8,e7,e9,te,tt,tr,tn,ti,to,ta,tl,ts,tu,tc,tp,tf,td,th,ty,tm,tg,tv,tb,tE,tO,tw,t_,tx,tS,tA,tI,tT,tC,tP,tN,tM,tj,tk=e.i(87433),tR=e.i(44440),tD=e.i(62924),tU=e.i(70065),tL=e.i(47800),tq=e.i(98701),tF=e.i(81542),tG=e.i(53260),tH=e.i(3645);let tB=(0,tH.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var tV=e.i(18532);let tz=(0,tH.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),t$=(0,tH.default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),tK=(0,tH.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),tW=(0,tH.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tJ=(0,tH.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),tY=(0,tH.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),tX=(0,tH.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var tZ=e.i(17141);let tQ=Object.prototype.toString,t0=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function t1(e,t,{min:r=0,allowInfinity:n=!1}={}){if(void 0!==t){if("number"!=typeof t||Number.isNaN(t))throw TypeError(`Expected \`${e}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(t))throw TypeError(`Expected \`${e}\` to be a finite number.`);if(t<r)throw TypeError(`Expected \`${e}\` to be \u2265 ${r}.`)}}class t2 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function t3(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function t5({error:e,attemptNumber:t,retriesConsumed:r,startTime:n,options:i}){let o,a=e instanceof Error?e:TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(a instanceof t2)throw a.originalError;let l=Number.isFinite(i.retries)?Math.max(0,i.retries-r):i.retries,s=i.maxRetryTime??1/0,u=Object.freeze({error:a,attemptNumber:t,retriesLeft:l,retriesConsumed:r});if(await i.onFailedAttempt(u),0>=t3(n,s))throw a;let c=await i.shouldConsumeRetry(u),p=t3(n,s);if(p<=0||l<=0)throw a;if(a instanceof TypeError&&!function(e){if(!(e&&"[object Error]"===tQ.call(e)&&"TypeError"===e.name&&"string"==typeof e.message))return!1;let{message:t,stack:r}=e;return"Load failed"===t?void 0===r||"__sentry_captured__"in e:!!t.startsWith("error sending request for url")||t0.has(t)}(a)){if(c)throw a;return i.signal?.throwIfAborted(),!1}if(!await i.shouldRetry(u))throw a;if(!c)return i.signal?.throwIfAborted(),!1;let f=Math.min((o=Math.max(1,r+1),Math.min(Math.round((i.randomize?Math.random()+1:1)*i.minTimeout*i.factor**(o-1)),i.maxTimeout)),p);return i.signal?.throwIfAborted(),f>0&&await new Promise((e,t)=>{let r=()=>{clearTimeout(n),i.signal?.removeEventListener("abort",r),t(i.signal.reason)},n=setTimeout(()=>{i.signal?.removeEventListener("abort",r),e()},f);i.unref&&n.unref?.(),i.signal?.addEventListener("abort",r,{once:!0})}),i.signal?.throwIfAborted(),!0}async function t6(e,t={}){var r=(t={...t}).retries;if("number"==typeof r){if(r<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(r))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(void 0!==r)throw TypeError("Expected `retries` to be a number or Infinity.");if(Object.hasOwn(t,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=1/0,t.maxRetryTime??=1/0,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,t1("factor",t.factor,{min:0,allowInfinity:!1}),t1("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),t1("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),t1("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),t.signal?.throwIfAborted();let n=0,i=0,o=performance.now();for(;!Number.isFinite(t.retries)||i<=t.retries;){n++;try{t.signal?.throwIfAborted();let r=await e(n);return t.signal?.throwIfAborted(),r}catch(e){await t5({error:e,attemptNumber:n,retriesConsumed:i,startTime:o,options:t})&&i++}}throw Error("Retry attempts exhausted without throwing an error.")}class t4{}function t8(e,t){return e.replace(/\{([^}]+)\}/g,(e,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){let e=t[r];return null!=e?String(e):""}throw Error(`Key '${r}' not found in valueMap.`)})}function t7(e,t,r){for(let n=0;n<t.length-1;n++){let i=t[n];if(i.endsWith("[]")){let o=i.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[o])){let i=e[o];if(Array.isArray(r))for(let e=0;e<i.length;e++)t7(i[e],t.slice(n+1),r[e]);else for(let e of i)t7(e,t.slice(n+1),r)}return}if(i.endsWith("[0]")){let o=i.slice(0,-3);o in e||(e[o]=[{}]),t7(e[o][0],t.slice(n+1),r);return}e[i]&&"object"==typeof e[i]||(e[i]={}),e=e[i]}let n=t[t.length-1],i=e[n];if(void 0!==i){if(!r||"object"==typeof r&&0===Object.keys(r).length||r===i)return;if("object"==typeof i&&"object"==typeof r&&null!==i&&null!==r)Object.assign(i,r);else throw Error(`Cannot set value for an existing key. Key: ${n}`)}else"_self"!==n||"object"!=typeof r||null===r||Array.isArray(r)?e[n]=r:Object.assign(e,r)}function t9(e,t,r){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!=typeof e||null===e)return r;let i=t[n];if(i.endsWith("[]")){let o=i.slice(0,-2);if(!(o in e))return r;{let i=e[o];if(!Array.isArray(i))return r;return i.map(e=>t9(e,t.slice(n+1),r))}}e=e[i]}return e}catch(e){if(e instanceof TypeError)return r;throw e}}function re(e){if("string"!=typeof e)throw Error("fromImageBytes must be a string");return e}function rt(e){var t;let r,n,i,o,a={},l=t9(e,["name"]);null!=l&&t7(a,["name"],l);let s=t9(e,["metadata"]);null!=s&&t7(a,["metadata"],s);let u=t9(e,["done"]);null!=u&&t7(a,["done"],u);let c=t9(e,["error"]);null!=c&&t7(a,["error"],c);let p=t9(e,["response"]);return null!=p&&t7(a,["response"],(r={},null!=(n=t9(t=p,["sdkHttpResponse"]))&&t7(r,["sdkHttpResponse"],n),null!=(i=t9(t,["parent"]))&&t7(r,["parent"],i),null!=(o=t9(t,["documentName"]))&&t7(r,["documentName"],o),r)),a}(l=ed||(ed={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(s=eh||(eh={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON",(u=ey||(ey={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",u.SILENT="SILENT",u.WHEN_IDLE="WHEN_IDLE",u.INTERRUPT="INTERRUPT",(c=em||(em={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",c.STRING="STRING",c.NUMBER="NUMBER",c.INTEGER="INTEGER",c.BOOLEAN="BOOLEAN",c.ARRAY="ARRAY",c.OBJECT="OBJECT",c.NULL="NULL",(p=eg||(eg={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",p.SIMPLE_SEARCH="SIMPLE_SEARCH",p.ELASTIC_SEARCH="ELASTIC_SEARCH",(f=ev||(ev={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",f.NO_AUTH="NO_AUTH",f.API_KEY_AUTH="API_KEY_AUTH",f.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",f.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",f.OAUTH="OAUTH",f.OIDC_AUTH="OIDC_AUTH",(d=eb||(eb={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",d.HTTP_IN_QUERY="HTTP_IN_QUERY",d.HTTP_IN_HEADER="HTTP_IN_HEADER",d.HTTP_IN_PATH="HTTP_IN_PATH",d.HTTP_IN_BODY="HTTP_IN_BODY",d.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(h=eE||(eE={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",h.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",h.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",h.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",h.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",h.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",h.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(y=eO||(eO={})).UNSPECIFIED="UNSPECIFIED",y.BLOCKING="BLOCKING",y.NON_BLOCKING="NON_BLOCKING",(m=ew||(ew={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",m.MODE_DYNAMIC="MODE_DYNAMIC",(g=e_||(e_={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",g.AUTO="AUTO",g.ANY="ANY",g.NONE="NONE",g.VALIDATED="VALIDATED",(v=ex||(ex={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",v.LOW="LOW",v.MEDIUM="MEDIUM",v.HIGH="HIGH",v.MINIMAL="MINIMAL",(b=eS||(eS={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",b.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",b.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",b.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",b.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",b.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",b.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",b.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",b.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",b.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",b.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(E=eA||(eA={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",E.SEVERITY="SEVERITY",E.PROBABILITY="PROBABILITY",(O=eI||(eI={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",O.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",O.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",O.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",O.BLOCK_NONE="BLOCK_NONE",O.OFF="OFF",(w=eT||(eT={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",w.STOP="STOP",w.MAX_TOKENS="MAX_TOKENS",w.SAFETY="SAFETY",w.RECITATION="RECITATION",w.LANGUAGE="LANGUAGE",w.OTHER="OTHER",w.BLOCKLIST="BLOCKLIST",w.PROHIBITED_CONTENT="PROHIBITED_CONTENT",w.SPII="SPII",w.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",w.IMAGE_SAFETY="IMAGE_SAFETY",w.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",w.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",w.NO_IMAGE="NO_IMAGE",w.IMAGE_RECITATION="IMAGE_RECITATION",w.IMAGE_OTHER="IMAGE_OTHER",(_=eC||(eC={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",_.NEGLIGIBLE="NEGLIGIBLE",_.LOW="LOW",_.MEDIUM="MEDIUM",_.HIGH="HIGH",(x=eP||(eP={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",x.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",x.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",x.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",x.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(S=eN||(eN={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",S.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",S.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",S.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",S.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(A=eM||(eM={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",A.SAFETY="SAFETY",A.OTHER="OTHER",A.BLOCKLIST="BLOCKLIST",A.PROHIBITED_CONTENT="PROHIBITED_CONTENT",A.IMAGE_SAFETY="IMAGE_SAFETY",A.MODEL_ARMOR="MODEL_ARMOR",A.JAILBREAK="JAILBREAK",(I=ej||(ej={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",I.ON_DEMAND="ON_DEMAND",I.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(T=ek||(ek={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",T.TEXT="TEXT",T.IMAGE="IMAGE",T.AUDIO="AUDIO",(C=eR||(eR={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",C.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",C.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",C.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(P=eD||(eD={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",P.TUNING_MODE_FULL="TUNING_MODE_FULL",P.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(N=eU||(eU={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",N.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",N.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",N.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",N.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",N.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",N.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(M=eL||(eL={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",M.JOB_STATE_QUEUED="JOB_STATE_QUEUED",M.JOB_STATE_PENDING="JOB_STATE_PENDING",M.JOB_STATE_RUNNING="JOB_STATE_RUNNING",M.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",M.JOB_STATE_FAILED="JOB_STATE_FAILED",M.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",M.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",M.JOB_STATE_PAUSED="JOB_STATE_PAUSED",M.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",M.JOB_STATE_UPDATING="JOB_STATE_UPDATING",M.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(j=eq||(eq={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",j.TUNING_TASK_I2V="TUNING_TASK_I2V",j.TUNING_TASK_T2V="TUNING_TASK_T2V",j.TUNING_TASK_R2V="TUNING_TASK_R2V",(k=eF||(eF={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",k.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",k.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",k.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",k.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(eG||(eG={})).COLLECTION="COLLECTION",(R=eH||(eH={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",R.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",R.BALANCED="BALANCED",R.PRIORITIZE_COST="PRIORITIZE_COST",(D=eB||(eB={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",D.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(U=eV||(eV={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",U.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",U.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",U.BLOCK_NONE="BLOCK_NONE",(L=ez||(ez={})).DONT_ALLOW="DONT_ALLOW",L.ALLOW_ADULT="ALLOW_ADULT",L.ALLOW_ALL="ALLOW_ALL",(q=e$||(e$={})).auto="auto",q.en="en",q.ja="ja",q.ko="ko",q.hi="hi",q.zh="zh",q.pt="pt",q.es="es",(F=eK||(eK={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",F.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",F.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",F.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",F.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(G=eW||(eW={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",G.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",G.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",G.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(H=eJ||(eJ={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",H.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",H.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",H.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(B=eY||(eY={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",B.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",B.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",B.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",B.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",B.EDIT_MODE_STYLE="EDIT_MODE_STYLE",B.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",B.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(V=eX||(eX={})).FOREGROUND="FOREGROUND",V.BACKGROUND="BACKGROUND",V.PROMPT="PROMPT",V.SEMANTIC="SEMANTIC",V.INTERACTIVE="INTERACTIVE",(z=eZ||(eZ={})).ASSET="ASSET",z.STYLE="STYLE",($=eQ||(eQ={})).INSERT="INSERT",$.REMOVE="REMOVE",$.REMOVE_STATIC="REMOVE_STATIC",$.OUTPAINT="OUTPAINT",(K=e0||(e0={})).OPTIMIZED="OPTIMIZED",K.LOSSLESS="LOSSLESS",(W=e1||(e1={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",W.PREFERENCE_TUNING="PREFERENCE_TUNING",W.DISTILLATION="DISTILLATION",(J=e2||(e2={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",J.STATE_PENDING="STATE_PENDING",J.STATE_ACTIVE="STATE_ACTIVE",J.STATE_FAILED="STATE_FAILED",(Y=e3||(e3={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Y.PROCESSING="PROCESSING",Y.ACTIVE="ACTIVE",Y.FAILED="FAILED",(X=e5||(e5={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",X.UPLOADED="UPLOADED",X.GENERATED="GENERATED",X.REGISTERED="REGISTERED",(Z=e6||(e6={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",Z.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Z.RESPONSE_REJECTED="RESPONSE_REJECTED",Z.NEED_MORE_INPUT="NEED_MORE_INPUT",(Q=e4||(e4={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Q.TEXT="TEXT",Q.IMAGE="IMAGE",Q.VIDEO="VIDEO",Q.AUDIO="AUDIO",Q.DOCUMENT="DOCUMENT",(ee=e8||(e8={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",ee.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",ee.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(et=e7||(e7={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",et.ACTIVITY_START="ACTIVITY_START",et.ACTIVITY_END="ACTIVITY_END",(er=e9||(e9={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",er.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",er.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(en=te||(te={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",en.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",en.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(ei=tt||(tt={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",ei.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",ei.NO_INTERRUPTION="NO_INTERRUPTION",(eo=tr||(tr={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",eo.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",eo.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(ea=tn||(tn={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",ea.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",ea.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",ea.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",ea.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",ea.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",ea.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",ea.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",ea.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",ea.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",ea.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",ea.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",ea.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(el=ti||(ti={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",el.QUALITY="QUALITY",el.DIVERSITY="DIVERSITY",el.VOCALIZATION="VOCALIZATION",(es=to||(to={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",es.PLAY="PLAY",es.PAUSE="PAUSE",es.STOP="STOP",es.RESET_CONTEXT="RESET_CONTEXT";class rr{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class rn{get text(){var e,t,r,n,i,o,a,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1,c=[];for(let e of null!=(l=null==(a=null==(o=null==(i=this.candidates)?void 0:i[0])?void 0:o.content)?void 0:a.parts)?l:[]){for(let[t,r]of Object.entries(e))"text"!==t&&"thought"!==t&&"thoughtSignature"!==t&&(null!==r||void 0!==r)&&c.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;u=!0,s+=e.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,t,r,n,i,o,a,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="",u=[];for(let e of null!=(l=null==(a=null==(o=null==(i=this.candidates)?void 0:i[0])?void 0:o.content)?void 0:a.parts)?l:[]){for(let[t,r]of Object.entries(e))"inlineData"!==t&&(null!==r||void 0!==r)&&u.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(s+=atob(e.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,r,n,i,o,a,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let s=null==(l=null==(a=null==(o=null==(i=this.candidates)?void 0:i[0])?void 0:o.content)?void 0:a.parts)?void 0:l.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);if((null==s?void 0:s.length)!==0)return s}get executableCode(){var e,t,r,n,i,o,a,l,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let u=null==(l=null==(a=null==(o=null==(i=this.candidates)?void 0:i[0])?void 0:o.content)?void 0:a.parts)?void 0:l.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);if((null==u?void 0:u.length)!==0)return null==(s=null==u?void 0:u[0])?void 0:s.code}get codeExecutionResult(){var e,t,r,n,i,o,a,l,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let u=null==(l=null==(a=null==(o=null==(i=this.candidates)?void 0:i[0])?void 0:o.content)?void 0:a.parts)?void 0:l.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);if((null==u?void 0:u.length)!==0)return null==(s=null==u?void 0:u[0])?void 0:s.output}}class ri{}class ro{}class ra{}class rl{}class rs{}class ru{}class rc{}class rp{}class rf{}class rd{}class rh{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let r,n=new rh;if(t){let t,n,i,o,a,l;t={},null!=(n=t9(e,["name"]))&&t7(t,["name"],n),null!=(i=t9(e,["metadata"]))&&t7(t,["metadata"],i),null!=(o=t9(e,["done"]))&&t7(t,["done"],o),null!=(a=t9(e,["error"]))&&t7(t,["error"],a),null!=(l=t9(e,["response"]))&&t7(t,["response"],function(e){let t={},r=t9(e,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l;return r={},null!=(n=t9(e,["_self"]))&&t7(r,["video"],(i={},null!=(o=t9(t=n,["gcsUri"]))&&t7(i,["uri"],o),null!=(a=t9(t,["bytesBase64Encoded"]))&&t7(i,["videoBytes"],re(a)),null!=(l=t9(t,["mimeType"]))&&t7(i,["mimeType"],l),i)),r})),t7(t,["generatedVideos"],e)}let n=t9(e,["raiMediaFilteredCount"]);null!=n&&t7(t,["raiMediaFilteredCount"],n);let i=t9(e,["raiMediaFilteredReasons"]);return null!=i&&t7(t,["raiMediaFilteredReasons"],i),t}(l)),r=t}else{let t,n,i,o,a,l;t={},null!=(n=t9(e,["name"]))&&t7(t,["name"],n),null!=(i=t9(e,["metadata"]))&&t7(t,["metadata"],i),null!=(o=t9(e,["done"]))&&t7(t,["done"],o),null!=(a=t9(e,["error"]))&&t7(t,["error"],a),null!=(l=t9(e,["response","generateVideoResponse"]))&&t7(t,["response"],function(e){let t={},r=t9(e,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l;return r={},null!=(n=t9(e,["video"]))&&t7(r,["video"],(i={},null!=(o=t9(t=n,["uri"]))&&t7(i,["uri"],o),null!=(a=t9(t,["encodedVideo"]))&&t7(i,["videoBytes"],re(a)),null!=(l=t9(t,["encoding"]))&&t7(i,["mimeType"],l),i)),r})),t7(t,["generatedVideos"],e)}let n=t9(e,["raiMediaFilteredCount"]);null!=n&&t7(t,["raiMediaFilteredCount"],n);let i=t9(e,["raiMediaFilteredReasons"]);return null!=i&&t7(t,["raiMediaFilteredReasons"],i),t}(l)),r=t}return Object.assign(n,r),n}}class ry{}class rm{}class rg{}class rv{}class rb{}class rE{}class rO{}class rw{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){var r;let n,i,o,a,l,s,u,c,p,f,d=new rw;return Object.assign(d,(l={},null!=(s=t9(e,["name"]))&&t7(l,["name"],s),null!=(u=t9(e,["metadata"]))&&t7(l,["metadata"],u),null!=(c=t9(e,["done"]))&&t7(l,["done"],c),null!=(p=t9(e,["error"]))&&t7(l,["error"],p),null!=(f=t9(e,["response"]))&&t7(l,["response"],(n={},null!=(i=t9(r=f,["sdkHttpResponse"]))&&t7(n,["sdkHttpResponse"],i),null!=(o=t9(r,["parent"]))&&t7(n,["parent"],o),null!=(a=t9(r,["documentName"]))&&t7(n,["documentName"],a),n)),l)),d}}class r_{}class rx{}class rS{}class rA{}class rI{}class rT{get text(){var e,t,r;let n="",i=!1,o=[];for(let a of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&o.push(e);if("string"==typeof a.text){if("boolean"==typeof a.thought&&a.thought)continue;i=!0,n+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?n:void 0}get data(){var e,t,r;let n="",i=[];for(let o of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(o))"inlineData"!==e&&null!==t&&i.push(e);o.inlineData&&"string"==typeof o.inlineData.data&&(n+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),n.length>0?btoa(n):void 0}}class rC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rP{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let r=new rP;return Object.assign(r,rt(e)),r}}function rN(e,t){if(!t||"string"!=typeof t)throw Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw Error("invalid model parameter");if(e.isVertexAI())if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;else{if(!(t.indexOf("/")>=0))return`publishers/google/models/${t}`;let e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function rM(e,t){let r=rN(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function rj(e){return Array.isArray(e)?e.map(e=>rk(e)):[rk(e)]}function rk(e){if("object"==typeof e&&null!==e)return e;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function rR(e){let t=rk(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function rD(e){let t=rk(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function rU(e){if(null==e)throw Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw Error(`Unsupported part type: ${typeof e}`)}function rL(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>rU(e)):[rU(e)]}function rq(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function rF(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function rG(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function rH(e){if(null==e)throw Error("ContentUnion is required");return rq(e)?e:{role:"user",parts:rL(e)}}function rB(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{let t=rH(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){let e=rH(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>rH(e)):[rH(t)]}function rV(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("contents are required");if(!Array.isArray(e)){if(rF(e)||rG(e))throw Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rH(e)]}let t=[],r=[],n=rq(e[0]);for(let i of e){let e=rq(i);if(e!=n)throw Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(i);else if(rF(i)||rG(i))throw Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");else r.push(i)}return n||t.push({role:"user",parts:rL(r)}),t}function rz(e){let t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw Error("type and anyOf cannot be both populated.");let o=e.anyOf;for(let[a,l]of(null!=o&&2==o.length&&("null"===o[0].type?(t.nullable=!0,e=o[1]):"null"===o[1].type&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);let r=e.filter(e=>"null"!==e);if(1===r.length)t.type=Object.values(em).includes(r[0].toUpperCase())?r[0].toUpperCase():em.TYPE_UNSPECIFIED;else for(let e of(t.anyOf=[],r))t.anyOf.push({type:Object.values(em).includes(e.toUpperCase())?e.toUpperCase():em.TYPE_UNSPECIFIED})}(e.type,t),Object.entries(e)))if(null!=l)if("type"==a){if("null"===l)throw Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(em).includes(l.toUpperCase())?l.toUpperCase():em.TYPE_UNSPECIFIED}else if(r.includes(a))t[a]=rz(l);else if(n.includes(a)){let e=[];for(let r of l){if("null"==r.type){t.nullable=!0;continue}e.push(rz(r))}t[a]=e}else if(i.includes(a)){let e={};for(let[t,r]of Object.entries(l))e[t]=rz(r);t[a]=e}else{if("additionalProperties"===a)continue;t[a]=l}return t}function r$(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw Error(`Unsupported speechConfig type: ${typeof e}`)}function rK(e){if("multiSpeakerVoiceConfig"in e)throw Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function rW(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=rz(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=rz(t.response));return e}function rJ(e){if(null==e)throw Error("tools is required");if(!Array.isArray(e))throw Error("tools is required and must be an array of Tools");let t=[];for(let r of e)t.push(r);return t}function rY(e,t){if("string"!=typeof t)throw Error("name must be a string");return function(e,t,r,n=1){let i=!t.startsWith(`${r}/`)&&t.split("/").length===n;if(e.isVertexAI())if(t.startsWith("projects/"))return t;else if(t.startsWith("locations/"))return`projects/${e.getProject()}/${t}`;else if(t.startsWith(`${r}/`))return`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`;else if(i)return`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`;else return t;return i?`${r}/${t}`:t}(e,t,"cachedContents")}function rX(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function rZ(e){var t;let r;if(null!=e&&"object"==typeof e&&"name"in e&&(r=e.name),null==e||"object"!=typeof e||!("uri"in e)||void 0!==(r=e.uri)){if(null==e||"object"!=typeof e||!("video"in e)||void 0!==(r=null==(t=e.video)?void 0:t.uri)){if("string"==typeof e&&(r=e),void 0===r)throw Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){let e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}}function rQ(e,t){return e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels"}function r0(e){for(let n of["models","tunedModels","publisherModels"]){var t,r;if(t=e,r=n,null!==t&&"object"==typeof t&&r in t)return e[n]}return[]}function r1(e,t){let r;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;let n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||1!==n)throw Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||1!==i)throw Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function r2(e){if("object"!=typeof e||null===e)return{};let t=e.inlinedResponses;if("object"!=typeof t||null===t)return e;let r=t.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let n=!1;for(let e of r){if("object"!=typeof e||null===e)continue;let t=e.response;if("object"==typeof t&&null!==t&&void 0!==t.embedding){n=!0;break}}return n&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),e}function r3(e,t){if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw Error(`Invalid batch job name: ${t}.`)}function r5(e){if("BATCH_STATE_UNSPECIFIED"===e)return"JOB_STATE_UNSPECIFIED";if("BATCH_STATE_PENDING"===e)return"JOB_STATE_PENDING";if("BATCH_STATE_RUNNING"===e)return"JOB_STATE_RUNNING";if("BATCH_STATE_SUCCEEDED"===e)return"JOB_STATE_SUCCEEDED";if("BATCH_STATE_FAILED"===e)return"JOB_STATE_FAILED";else if("BATCH_STATE_CANCELLED"===e)return"JOB_STATE_CANCELLED";else if("BATCH_STATE_EXPIRED"===e)return"JOB_STATE_EXPIRED";else return e}function r6(e){let t={},r=t9(e,["name"]);null!=r&&t7(t,["name"],r);let n=t9(e,["metadata","displayName"]);null!=n&&t7(t,["displayName"],n);let i=t9(e,["metadata","state"]);null!=i&&t7(t,["state"],r5(i));let o=t9(e,["metadata","createTime"]);null!=o&&t7(t,["createTime"],o);let a=t9(e,["metadata","endTime"]);null!=a&&t7(t,["endTime"],a);let l=t9(e,["metadata","updateTime"]);null!=l&&t7(t,["updateTime"],l);let s=t9(e,["metadata","model"]);null!=s&&t7(t,["model"],s);let u=t9(e,["metadata","output"]);return null!=u&&t7(t,["dest"],function(e){let t={},r=t9(e,["responsesFile"]);null!=r&&t7(t,["fileName"],r);let n=t9(e,["inlinedResponses","inlinedResponses"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o;return r={},null!=(n=t9(t=e,["response"]))&&t7(r,["response"],function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["content"]);null!=r&&t7(t,["content"],r);let n=t9(e,["citationMetadata"]);null!=n&&t7(t,["citationMetadata"],function(e){let t={},r=t9(e,["citationSources"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["citations"],e)}return t}(n));let i=t9(e,["tokenCount"]);null!=i&&t7(t,["tokenCount"],i);let o=t9(e,["finishReason"]);null!=o&&t7(t,["finishReason"],o);let a=t9(e,["avgLogprobs"]);null!=a&&t7(t,["avgLogprobs"],a);let l=t9(e,["groundingMetadata"]);null!=l&&t7(t,["groundingMetadata"],l);let s=t9(e,["index"]);null!=s&&t7(t,["index"],s);let u=t9(e,["logprobsResult"]);null!=u&&t7(t,["logprobsResult"],u);let c=t9(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["safetyRatings"],e)}let p=t9(e,["urlContextMetadata"]);return null!=p&&t7(t,["urlContextMetadata"],p),t})(e))),t7(t,["candidates"],e)}let i=t9(e,["modelVersion"]);null!=i&&t7(t,["modelVersion"],i);let o=t9(e,["promptFeedback"]);null!=o&&t7(t,["promptFeedback"],o);let a=t9(e,["responseId"]);null!=a&&t7(t,["responseId"],a);let l=t9(e,["usageMetadata"]);return null!=l&&t7(t,["usageMetadata"],l),t}(n)),null!=(i=t9(t,["metadata"]))&&t7(r,["metadata"],i),null!=(o=t9(t,["error"]))&&t7(r,["error"],o),r})),t7(t,["inlinedResponses"],e)}let i=t9(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["inlinedEmbedContentResponses"],e)}return t}(r2(u))),t}function r4(e){var t,r;let n,i,o,a,l,s,u,c,p={},f=t9(e,["name"]);null!=f&&t7(p,["name"],f);let d=t9(e,["displayName"]);null!=d&&t7(p,["displayName"],d);let h=t9(e,["state"]);null!=h&&t7(p,["state"],r5(h));let y=t9(e,["error"]);null!=y&&t7(p,["error"],y);let m=t9(e,["createTime"]);null!=m&&t7(p,["createTime"],m);let g=t9(e,["startTime"]);null!=g&&t7(p,["startTime"],g);let v=t9(e,["endTime"]);null!=v&&t7(p,["endTime"],v);let b=t9(e,["updateTime"]);null!=b&&t7(p,["updateTime"],b);let E=t9(e,["model"]);null!=E&&t7(p,["model"],E);let O=t9(e,["inputConfig"]);null!=O&&t7(p,["src"],(n={},null!=(i=t9(r=O,["instancesFormat"]))&&t7(n,["format"],i),null!=(o=t9(r,["gcsSource","uris"]))&&t7(n,["gcsUri"],o),null!=(a=t9(r,["bigquerySource","inputUri"]))&&t7(n,["bigqueryUri"],a),n));let w=t9(e,["outputConfig"]);null!=w&&t7(p,["dest"],(t=r2(w),l={},null!=(s=t9(t,["predictionsFormat"]))&&t7(l,["format"],s),null!=(u=t9(t,["gcsDestination","outputUriPrefix"]))&&t7(l,["gcsUri"],u),null!=(c=t9(t,["bigqueryDestination","outputUri"]))&&t7(l,["bigqueryUri"],c),l));let _=t9(e,["completionStats"]);return null!=_&&t7(p,["completionStats"],_),p}function r8(e){let t={},r=t9(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f,d;return r={},null!=(n=t9(t=e,["mediaResolution"]))&&t7(r,["mediaResolution"],n),null!=(i=t9(t,["codeExecutionResult"]))&&t7(r,["codeExecutionResult"],i),null!=(o=t9(t,["executableCode"]))&&t7(r,["executableCode"],o),null!=(a=t9(t,["fileData"]))&&t7(r,["fileData"],function(e){let t={};if(void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=t9(e,["fileUri"]);null!=r&&t7(t,["fileUri"],r);let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(a)),null!=(l=t9(t,["functionCall"]))&&t7(r,["functionCall"],function(e){let t={},r=t9(e,["id"]);null!=r&&t7(t,["id"],r);let n=t9(e,["args"]);null!=n&&t7(t,["args"],n);let i=t9(e,["name"]);if(null!=i&&t7(t,["name"],i),void 0!==t9(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==t9(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(l)),null!=(s=t9(t,["functionResponse"]))&&t7(r,["functionResponse"],s),null!=(u=t9(t,["inlineData"]))&&t7(r,["inlineData"],function(e){let t={},r=t9(e,["data"]);if(null!=r&&t7(t,["data"],r),void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(u)),null!=(c=t9(t,["text"]))&&t7(r,["text"],c),null!=(p=t9(t,["thought"]))&&t7(r,["thought"],p),null!=(f=t9(t,["thoughtSignature"]))&&t7(r,["thoughtSignature"],f),null!=(d=t9(t,["videoMetadata"]))&&t7(r,["videoMetadata"],d),r})),t7(t,["parts"],e)}let n=t9(e,["role"]);return null!=n&&t7(t,["role"],n),t}function r7(e,t){let r={},n=t9(t,["model"]);null!=n&&t7(r,["_url","model"],rN(e,n));let i=t9(t,["src"]);null!=i&&t7(r,["batch","inputConfig"],function(e,t){let r={};if(void 0!==t9(t,["format"]))throw Error("format parameter is not supported in Gemini API.");if(void 0!==t9(t,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==t9(t,["bigqueryUri"]))throw Error("bigqueryUri parameter is not supported in Gemini API.");let n=t9(t,["fileName"]);null!=n&&t7(r,["fileName"],n);let i=t9(t,["inlinedRequests"]);if(null!=i){let t=i;Array.isArray(t)&&(t=t.map(t=>(function(e,t){let r={},n=t9(t,["model"]);null!=n&&t7(r,["request","model"],rN(e,n));let i=t9(t,["contents"]);if(null!=i){let e=rV(i);Array.isArray(e)&&(e=e.map(e=>r8(e))),t7(r,["request","contents"],e)}let o=t9(t,["metadata"]);null!=o&&t7(r,["metadata"],o);let a=t9(t,["config"]);return null!=a&&t7(r,["request","generationConfig"],function(e,t,r){var n;let i,o,a,l={},s=t9(t,["systemInstruction"]);void 0!==r&&null!=s&&t7(r,["systemInstruction"],r8(rH(s)));let u=t9(t,["temperature"]);null!=u&&t7(l,["temperature"],u);let c=t9(t,["topP"]);null!=c&&t7(l,["topP"],c);let p=t9(t,["topK"]);null!=p&&t7(l,["topK"],p);let f=t9(t,["candidateCount"]);null!=f&&t7(l,["candidateCount"],f);let d=t9(t,["maxOutputTokens"]);null!=d&&t7(l,["maxOutputTokens"],d);let h=t9(t,["stopSequences"]);null!=h&&t7(l,["stopSequences"],h);let y=t9(t,["responseLogprobs"]);null!=y&&t7(l,["responseLogprobs"],y);let m=t9(t,["logprobs"]);null!=m&&t7(l,["logprobs"],m);let g=t9(t,["presencePenalty"]);null!=g&&t7(l,["presencePenalty"],g);let v=t9(t,["frequencyPenalty"]);null!=v&&t7(l,["frequencyPenalty"],v);let b=t9(t,["seed"]);null!=b&&t7(l,["seed"],b);let E=t9(t,["responseMimeType"]);null!=E&&t7(l,["responseMimeType"],E);let O=t9(t,["responseSchema"]);null!=O&&t7(l,["responseSchema"],rz(O));let w=t9(t,["responseJsonSchema"]);if(null!=w&&t7(l,["responseJsonSchema"],w),void 0!==t9(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==t9(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let _=t9(t,["safetySettings"]);if(void 0!==r&&null!=_){let e=_;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["category"]);if(null!=r&&t7(t,["category"],r),void 0!==t9(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let n=t9(e,["threshold"]);return null!=n&&t7(t,["threshold"],n),t})(e))),t7(r,["safetySettings"],e)}let x=t9(t,["tools"]);if(void 0!==r&&null!=x){let e=rJ(x);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==t9(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let r=t9(e,["computerUse"]);null!=r&&t7(t,["computerUse"],r);let n=t9(e,["fileSearch"]);null!=n&&t7(t,["fileSearch"],n);let i=t9(e,["codeExecution"]);if(null!=i&&t7(t,["codeExecution"],i),void 0!==t9(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let o=t9(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["functionDeclarations"],e)}let a=t9(e,["googleMaps"]);null!=a&&t7(t,["googleMaps"],function(e){let t={};if(void 0!==t9(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=t9(e,["enableWidget"]);return null!=r&&t7(t,["enableWidget"],r),t}(a));let l=t9(e,["googleSearch"]);null!=l&&t7(t,["googleSearch"],function(e){let t={};if(void 0!==t9(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==t9(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=t9(e,["timeRangeFilter"]);return null!=r&&t7(t,["timeRangeFilter"],r),t}(l));let s=t9(e,["googleSearchRetrieval"]);null!=s&&t7(t,["googleSearchRetrieval"],s);let u=t9(e,["urlContext"]);return null!=u&&t7(t,["urlContext"],u),t})(rW(e)))),t7(r,["tools"],e)}let S=t9(t,["toolConfig"]);if(void 0!==r&&null!=S&&t7(r,["toolConfig"],(i={},null!=(o=t9(n=S,["retrievalConfig"]))&&t7(i,["retrievalConfig"],o),null!=(a=t9(n,["functionCallingConfig"]))&&t7(i,["functionCallingConfig"],function(e){let t={},r=t9(e,["allowedFunctionNames"]);null!=r&&t7(t,["allowedFunctionNames"],r);let n=t9(e,["mode"]);if(null!=n&&t7(t,["mode"],n),void 0!==t9(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(a)),i)),void 0!==t9(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let A=t9(t,["cachedContent"]);void 0!==r&&null!=A&&t7(r,["cachedContent"],rY(e,A));let I=t9(t,["responseModalities"]);null!=I&&t7(l,["responseModalities"],I);let T=t9(t,["mediaResolution"]);null!=T&&t7(l,["mediaResolution"],T);let C=t9(t,["speechConfig"]);if(null!=C&&t7(l,["speechConfig"],r$(C)),void 0!==t9(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let P=t9(t,["thinkingConfig"]);null!=P&&t7(l,["thinkingConfig"],P);let N=t9(t,["imageConfig"]);null!=N&&t7(l,["imageConfig"],function(e){let t={},r=t9(e,["aspectRatio"]);null!=r&&t7(t,["aspectRatio"],r);let n=t9(e,["imageSize"]);if(null!=n&&t7(t,["imageSize"],n),void 0!==t9(e,["personGeneration"]))throw Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==t9(e,["outputMimeType"]))throw Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==t9(e,["outputCompressionQuality"]))throw Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(N));let M=t9(t,["enableEnhancedCivicAnswers"]);if(null!=M&&t7(l,["enableEnhancedCivicAnswers"],M),void 0!==t9(t,["modelArmorConfig"]))throw Error("modelArmorConfig parameter is not supported in Gemini API.");return l}(e,a,t9(r,["request"],{}))),r})(e,t))),t7(r,["requests","requests"],t)}return r}(e,r1(e,i)));let o=t9(t,["config"]);return null!=o&&function(e,t){let r=t9(e,["displayName"]);if(void 0!==t&&null!=r&&t7(t,["batch","displayName"],r),void 0!==t9(e,["dest"]))throw Error("dest parameter is not supported in Gemini API.")}(o,r),r}(eu=ta||(ta={})).PAGED_ITEM_BATCH_JOBS="batchJobs",eu.PAGED_ITEM_MODELS="models",eu.PAGED_ITEM_TUNING_JOBS="tuningJobs",eu.PAGED_ITEM_FILES="files",eu.PAGED_ITEM_CACHED_CONTENTS="cachedContents",eu.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",eu.PAGED_ITEM_DOCUMENTS="documents";class r9{constructor(e,t,r,n){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,n)}init(e,t,r){var n,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};(o=r&&0!==Object.keys(r).length?"object"==typeof r?Object.assign({},r):r:{config:{}}).config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=null!=(i=null==(n=o.config)?void 0:n.pageSize)?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(!this.hasNextPage())return{value:void 0,done:!0};else await this.nextPage();let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return(null==(e=this.params.config)?void 0:e.pageToken)!==void 0}}class ne extends t4{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new r9(ta.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){let t=r7(this.apiClient,e),r=t8("{model}:batchGenerateContent",t._url),n=t.batch.inputConfig.requests,i=n.requests,o=[];for(let e of i){let t=Object.assign({},e);if(t.systemInstruction){let e=t.systemInstruction;delete t.systemInstruction;let r=t.request;r.systemInstruction=e,t.request=r}o.push(t)}return n.requests=o,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){let r=t?Object.assign({},t):{},n=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${n}`),void 0===r.dest){let t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?r.dest=`${t.slice(0,-6)}/dest`:r.dest=`${t}_dest_${n}`;else if(i)r.dest=`${i}_dest_${n}`;else throw Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,n,i,o;let a="",l={};if(this.apiClient.isVertexAI()){let n,i,s,u,c,p,f=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["model"],rN(o,i)),null!=(s=t9(e,["src"]))&&t7(n,["inputConfig"],function(e){let t={},r=t9(e,["format"]);null!=r&&t7(t,["instancesFormat"],r);let n=t9(e,["gcsUri"]);null!=n&&t7(t,["gcsSource","uris"],n);let i=t9(e,["bigqueryUri"]);if(null!=i&&t7(t,["bigquerySource","inputUri"],i),void 0!==t9(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==t9(e,["inlinedRequests"]))throw Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(r1(o,s))),null!=(u=t9(e,["config"]))&&(c=t9(u,["displayName"]),void 0!==n&&null!=c&&t7(n,["displayName"],c),p=t9(u,["dest"]),void 0!==n&&null!=p&&t7(n,["outputConfig"],function(e){let t={},r=t9(e,["format"]);null!=r&&t7(t,["predictionsFormat"],r);let n=t9(e,["gcsUri"]);null!=n&&t7(t,["gcsDestination","outputUriPrefix"],n);let i=t9(e,["bigqueryUri"]);if(null!=i&&t7(t,["bigqueryDestination","outputUri"],i),void 0!==t9(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==t9(e,["inlinedResponses"]))throw Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==t9(e,["inlinedEmbedContentResponses"]))throw Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw Error(`Unsupported destination: ${e}`)}(p)))),n);return a=t8("batchPredictionJobs",f._url),l=f._query,delete f._url,delete f._query,this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>r4(e))}{let t=r7(this.apiClient,e);return a=t8("{model}:batchGenerateContent",t._url),l=t._query,delete t._url,delete t._query,this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>r6(e))}}async createEmbeddingsInternal(e){var t,r,n,i,o;let a="",l={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let s,u,c,p,f,d,h,y,m=(n=this.apiClient,p={},null!=(f=t9(e,["model"]))&&t7(p,["_url","model"],rN(n,f)),null!=(d=t9(e,["src"]))&&t7(p,["batch","inputConfig"],(i=n,s={},null!=(u=t9(o=d,["fileName"]))&&t7(s,["file_name"],u),null!=(c=t9(o,["inlinedRequests"]))&&t7(s,["requests"],function(e,t){let r={},n=t9(t,["contents"]);if(null!=n){let t=rB(e,n);Array.isArray(t)&&(t=t.map(e=>e)),t7(r,["requests[]","request","content"],t)}let i=t9(t,["config"]);return null!=i&&(t7(r,["_self"],function(e,t){let r=t9(e,["taskType"]);void 0!==t&&null!=r&&t7(t,["requests[]","taskType"],r);let n=t9(e,["title"]);void 0!==t&&null!=n&&t7(t,["requests[]","title"],n);let i=t9(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&t7(t,["requests[]","outputDimensionality"],i),void 0!==t9(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==t9(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,r)),!function(e,t){for(let[r,n]of Object.entries(t)){let t=r.split("."),i=n.split("."),o=new Set,a=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){a=e;break}if(-1!==a&&i.length>a)for(let e=a;e<i.length;e++){let t=i[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||o.add(t)}!function e(t,r,n,i,o){if(i>=r.length||"object"!=typeof t||null===t)return;let a=r[i];if(a.endsWith("[]")){let l=a.slice(0,-2);if(l in t&&Array.isArray(t[l]))for(let a of t[l])e(a,r,n,i+1,o)}else if("*"===a){if("object"==typeof t&&null!==t&&!Array.isArray(t)){let e=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),r={};for(let n of e)r[n]=t[n];for(let[e,o]of Object.entries(r)){let r=[];for(let t of n.slice(i))"*"===t?r.push(e):r.push(t);t7(t,r,o)}for(let r of e)delete t[r]}}else a in t&&e(t[a],r,n,i+1,o)}(e,t,i,0,o)}}(r,{"requests[].*":"requests[].request.*"})),r}(i,c)),s)),null!=(h=t9(e,["config"]))&&(y=t9(h,["displayName"]),void 0!==p&&null!=y&&t7(p,["batch","displayName"],y)),p);return a=t8("{model}:asyncBatchEmbedContent",m._url),l=m._query,delete m._url,delete m._query,this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(m),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>r6(e))}}async get(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],r3(o,i)),n);return l=t8("batchPredictionJobs/{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>r4(e))}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],r3(a,r)),t);return l=t8("batches/{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>r6(e))}}async cancel(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],r3(o,i)),n);l=t8("batchPredictionJobs/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}else{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],r3(a,r)),t);l=t8("batches/{name}:cancel",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal})}}async listInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l,s,u,c=(n={},null!=(i=t9(e,["config"]))&&(l=t9(i,["pageSize"]),void 0!==n&&null!=l&&t7(n,["_query","pageSize"],l),s=t9(i,["pageToken"]),void 0!==n&&null!=s&&t7(n,["_query","pageToken"],s),u=t9(i,["filter"]),void 0!==n&&null!=u&&t7(n,["_query","filter"],u)),n);return o=t8("batchPredictionJobs",c._url),a=c._query,delete c._url,delete c._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>r4(e))),t7(t,["batchJobs"],e)}return t}(e),r=new rI;return Object.assign(r,t),r})}{let t,r,l=(t={},null!=(r=t9(e,["config"]))&&function(e,t){let r=t9(e,["pageSize"]);void 0!==t&&null!=r&&t7(t,["_query","pageSize"],r);let n=t9(e,["pageToken"]);if(void 0!==t&&null!=n&&t7(t,["_query","pageToken"],n),void 0!==t9(e,["filter"]))throw Error("filter parameter is not supported in Gemini API.")}(r,t),t);return o=t8("batches",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>r6(e))),t7(t,["batchJobs"],e)}return t}(e),r=new rI;return Object.assign(r,t),r})}}async delete(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],r3(o,i)),n);return l=t8("batchPredictionJobs/{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,o;return t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),null!=(n=t9(e,["name"]))&&t7(t,["name"],n),null!=(i=t9(e,["done"]))&&t7(t,["done"],i),null!=(o=t9(e,["error"]))&&t7(t,["error"],o),t})}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],r3(a,r)),t);return l=t8("batches/{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,o;return t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),null!=(n=t9(e,["name"]))&&t7(t,["name"],n),null!=(i=t9(e,["done"]))&&t7(t,["done"],i),null!=(o=t9(e,["error"]))&&t7(t,["error"],o),t})}}}function nt(e){let t={},r=t9(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f,d;return r={},null!=(n=t9(t=e,["mediaResolution"]))&&t7(r,["mediaResolution"],n),null!=(i=t9(t,["codeExecutionResult"]))&&t7(r,["codeExecutionResult"],i),null!=(o=t9(t,["executableCode"]))&&t7(r,["executableCode"],o),null!=(a=t9(t,["fileData"]))&&t7(r,["fileData"],function(e){let t={};if(void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=t9(e,["fileUri"]);null!=r&&t7(t,["fileUri"],r);let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(a)),null!=(l=t9(t,["functionCall"]))&&t7(r,["functionCall"],function(e){let t={},r=t9(e,["id"]);null!=r&&t7(t,["id"],r);let n=t9(e,["args"]);null!=n&&t7(t,["args"],n);let i=t9(e,["name"]);if(null!=i&&t7(t,["name"],i),void 0!==t9(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==t9(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(l)),null!=(s=t9(t,["functionResponse"]))&&t7(r,["functionResponse"],s),null!=(u=t9(t,["inlineData"]))&&t7(r,["inlineData"],function(e){let t={},r=t9(e,["data"]);if(null!=r&&t7(t,["data"],r),void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(u)),null!=(c=t9(t,["text"]))&&t7(r,["text"],c),null!=(p=t9(t,["thought"]))&&t7(r,["thought"],p),null!=(f=t9(t,["thoughtSignature"]))&&t7(r,["thoughtSignature"],f),null!=(d=t9(t,["videoMetadata"]))&&t7(r,["videoMetadata"],d),r})),t7(t,["parts"],e)}let n=t9(e,["role"]);return null!=n&&t7(t,["role"],n),t}class nr extends t4{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new r9(ta.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a,u=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["model"],rM(o,i)),null!=(a=t9(e,["config"]))&&function(e,t){let r=t9(e,["ttl"]);void 0!==t&&null!=r&&t7(t,["ttl"],r);let n=t9(e,["expireTime"]);void 0!==t&&null!=n&&t7(t,["expireTime"],n);let i=t9(e,["displayName"]);void 0!==t&&null!=i&&t7(t,["displayName"],i);let o=t9(e,["contents"]);if(void 0!==t&&null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["contents"],e)}let a=t9(e,["systemInstruction"]);void 0!==t&&null!=a&&t7(t,["systemInstruction"],rH(a));let l=t9(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["retrieval"]);null!=r&&t7(t,["retrieval"],r);let n=t9(e,["computerUse"]);if(null!=n&&t7(t,["computerUse"],n),void 0!==t9(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let i=t9(e,["codeExecution"]);null!=i&&t7(t,["codeExecution"],i);let o=t9(e,["enterpriseWebSearch"]);null!=o&&t7(t,["enterpriseWebSearch"],o);let a=t9(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["description"]);null!=r&&t7(t,["description"],r);let n=t9(e,["name"]);null!=n&&t7(t,["name"],n);let i=t9(e,["parameters"]);null!=i&&t7(t,["parameters"],i);let o=t9(e,["parametersJsonSchema"]);null!=o&&t7(t,["parametersJsonSchema"],o);let a=t9(e,["response"]);null!=a&&t7(t,["response"],a);let l=t9(e,["responseJsonSchema"]);if(null!=l&&t7(t,["responseJsonSchema"],l),void 0!==t9(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");return t})(e))),t7(t,["functionDeclarations"],e)}let l=t9(e,["googleMaps"]);null!=l&&t7(t,["googleMaps"],l);let s=t9(e,["googleSearch"]);null!=s&&t7(t,["googleSearch"],s);let u=t9(e,["googleSearchRetrieval"]);null!=u&&t7(t,["googleSearchRetrieval"],u);let c=t9(e,["urlContext"]);return null!=c&&t7(t,["urlContext"],c),t})(e))),t7(t,["tools"],e)}let s=t9(e,["toolConfig"]);void 0!==t&&null!=s&&t7(t,["toolConfig"],s);let u=t9(e,["kmsKeyName"]);void 0!==t&&null!=u&&t7(t,["encryption_spec","kmsKeyName"],u)}(a,n),n);return l=t8("cachedContents",u._url),s=u._query,delete u._url,delete u._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,o,u=(a=this.apiClient,t={},null!=(r=t9(e,["model"]))&&t7(t,["model"],rM(a,r)),null!=(o=t9(e,["config"]))&&function(e,t){var r;let n,i,o,a=t9(e,["ttl"]);void 0!==t&&null!=a&&t7(t,["ttl"],a);let l=t9(e,["expireTime"]);void 0!==t&&null!=l&&t7(t,["expireTime"],l);let s=t9(e,["displayName"]);void 0!==t&&null!=s&&t7(t,["displayName"],s);let u=t9(e,["contents"]);if(void 0!==t&&null!=u){let e=rV(u);Array.isArray(e)&&(e=e.map(e=>nt(e))),t7(t,["contents"],e)}let c=t9(e,["systemInstruction"]);void 0!==t&&null!=c&&t7(t,["systemInstruction"],nt(rH(c)));let p=t9(e,["tools"]);if(void 0!==t&&null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==t9(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let r=t9(e,["computerUse"]);null!=r&&t7(t,["computerUse"],r);let n=t9(e,["fileSearch"]);null!=n&&t7(t,["fileSearch"],n);let i=t9(e,["codeExecution"]);if(null!=i&&t7(t,["codeExecution"],i),void 0!==t9(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let o=t9(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["functionDeclarations"],e)}let a=t9(e,["googleMaps"]);null!=a&&t7(t,["googleMaps"],function(e){let t={};if(void 0!==t9(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=t9(e,["enableWidget"]);return null!=r&&t7(t,["enableWidget"],r),t}(a));let l=t9(e,["googleSearch"]);null!=l&&t7(t,["googleSearch"],function(e){let t={};if(void 0!==t9(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==t9(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=t9(e,["timeRangeFilter"]);return null!=r&&t7(t,["timeRangeFilter"],r),t}(l));let s=t9(e,["googleSearchRetrieval"]);null!=s&&t7(t,["googleSearchRetrieval"],s);let u=t9(e,["urlContext"]);return null!=u&&t7(t,["urlContext"],u),t})(e))),t7(t,["tools"],e)}let f=t9(e,["toolConfig"]);if(void 0!==t&&null!=f&&t7(t,["toolConfig"],(n={},null!=(i=t9(r=f,["retrievalConfig"]))&&t7(n,["retrievalConfig"],i),null!=(o=t9(r,["functionCallingConfig"]))&&t7(n,["functionCallingConfig"],function(e){let t={},r=t9(e,["allowedFunctionNames"]);null!=r&&t7(t,["allowedFunctionNames"],r);let n=t9(e,["mode"]);if(null!=n&&t7(t,["mode"],n),void 0!==t9(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(o)),n)),void 0!==t9(e,["kmsKeyName"]))throw Error("kmsKeyName parameter is not supported in Gemini API.")}(o,t),t);return l=t8("cachedContents",u._url),s=u._query,delete u._url,delete u._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async get(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],rY(o,i)),n);return l=t8("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],rY(a,r)),t);return l=t8("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],rY(o,i)),n);return l=t8("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rg;return Object.assign(i,n),i})}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],rY(a,r)),t);return l=t8("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rg;return Object.assign(i,n),i})}}async update(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a,u,c,p=(o=this.apiClient,n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],rY(o,i)),null!=(a=t9(e,["config"]))&&(u=t9(a,["ttl"]),void 0!==n&&null!=u&&t7(n,["ttl"],u),c=t9(a,["expireTime"]),void 0!==n&&null!=c&&t7(n,["expireTime"],c)),n);return l=t8("{name}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,o,u,c,p=(a=this.apiClient,t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],rY(a,r)),null!=(o=t9(e,["config"]))&&(u=t9(o,["ttl"]),void 0!==t&&null!=u&&t7(t,["ttl"],u),c=t9(o,["expireTime"]),void 0!==t&&null!=c&&t7(t,["expireTime"],c)),t);return l=t8("{name}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async listInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l,s,u=(n={},null!=(i=t9(e,["config"]))&&(l=t9(i,["pageSize"]),void 0!==n&&null!=l&&t7(n,["_query","pageSize"],l),s=t9(i,["pageToken"]),void 0!==n&&null!=s&&t7(n,["_query","pageToken"],s)),n);return o=t8("cachedContents",u._url),a=u._query,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["cachedContents"],e)}return t}(e),r=new rv;return Object.assign(r,t),r})}{let t,r,l,s,u=(t={},null!=(r=t9(e,["config"]))&&(l=t9(r,["pageSize"]),void 0!==t&&null!=l&&t7(t,["_query","pageSize"],l),s=t9(r,["pageToken"]),void 0!==t&&null!=s&&t7(t,["_query","pageToken"],s)),t);return o=t8("cachedContents",u._url),a=u._query,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["cachedContents"],e)}return t}(e),r=new rv;return Object.assign(r,t),r})}}}function nn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ni(e){return this instanceof ni?(this.v=e,this):new ni(e)}function no(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||l(e,t)})},t&&(n[e]=t(n[e])))}function l(e,t){try{var r;(r=i[e](t)).value instanceof ni?Promise.resolve(r.value.v).then(s,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function s(e){l("next",e)}function u(e){l("throw",e)}function c(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function na(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var o,a,l;o=n,a=i,l=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:l})},a)})}}}function nl(e){if(void 0===e.parts||0===e.parts.length)return!1;for(let t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function ns(e){if(void 0===e||0===e.length)return[];let t=[],r=e.length,n=0;for(;n<r;)if("user"===e[n].role)t.push(e[n]),n++;else{let i=[],o=!0;for(;n<r&&"model"===e[n].role;)i.push(e[n]),o&&!nl(e[n])&&(o=!1),n++;o?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class nu{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new nc(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class nc{constructor(e,t,r,n={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=n,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length){for(let t of e)if("user"!==t.role&&"model"!==t.role)throw Error(`Role must be user or model, but got ${t.role}.`)}}(i)}async sendMessage(e){var t;await this.sendPromise;let r=rH(e.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});return this.sendPromise=(async()=>{var e,t,i;let o=await n,a=null==(t=null==(e=o.candidates)?void 0:e[0])?void 0:t.content,l=o.automaticFunctionCallingHistory,s=this.getHistory(!0).length,u=[];null!=l&&(u=null!=(i=l.slice(s))?i:[]),this.recordHistory(r,a?[a]:[],u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(e){var t;await this.sendPromise;let r=rH(e.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});this.sendPromise=n.then(()=>void 0).catch(()=>void 0);let i=await n;return this.processStreamResponse(i,r)}getHistory(e=!1){return structuredClone(e?ns(this.history):this.history)}processStreamResponse(e,t){return no(this,arguments,function*(){let r=[];try{for(var n,i,o,a,l,s,u,c=!0,p=na(e);!(n=(u=yield ni(p.next())).done);c=!0){if(a=u.value,c=!1,function(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;let r=null==(t=e.candidates[0])?void 0:t.content;return void 0!==r&&nl(r)}(a)){let e=null==(s=null==(l=a.candidates)?void 0:l[0])?void 0:s.content;void 0!==e&&r.push(e)}yield yield ni(a)}}catch(e){i={error:e}}finally{try{!c&&!n&&(o=p.return)&&(yield ni(o.call(p)))}finally{if(i)throw i.error}}this.recordHistory(t,r)})}recordHistory(e,t,r){let n=[];t.length>0&&t.every(e=>void 0!==e.role)?n=t:n.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ns(r)):this.history.push(e),this.history.push(...n)}}class np extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,np.prototype)}}class nf extends t4{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new r9(ta.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u=(o={},null!=(a=t9(e,["config"]))&&(l=t9(a,["pageSize"]),void 0!==o&&null!=l&&t7(o,["_query","pageSize"],l),s=t9(a,["pageToken"]),void 0!==o&&null!=s&&t7(o,["_query","pageToken"],s)),o);return n=t8("files",u._url),i=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["files"],e)}return t}(e),r=new r_;return Object.assign(r,t),r})}}async createInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["file"]))&&t7(o,["file"],a),o);return n=t8("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rx;return Object.assign(i,n),i})}}async get(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","file"],rZ(a)),o);return n=t8("files/{file}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","file"],rZ(a)),o);return n=t8("files/{file}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rS;return Object.assign(i,n),i})}}async registerFilesInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["uris"]))&&t7(o,["uris"],a),o);return n=t8("files:register",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["files"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["files"],e)}return t}(e),r=new rA;return Object.assign(r,t),r})}}}function nd(e){let t={},r=t9(e,["data"]);if(null!=r&&t7(t,["data"],r),void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}function nh(e,t){let r={},n=t9(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f,d;return r={},null!=(n=t9(t=e,["mediaResolution"]))&&t7(r,["mediaResolution"],n),null!=(i=t9(t,["codeExecutionResult"]))&&t7(r,["codeExecutionResult"],i),null!=(o=t9(t,["executableCode"]))&&t7(r,["executableCode"],o),null!=(a=t9(t,["fileData"]))&&t7(r,["fileData"],function(e,t){let r={};if(void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=t9(e,["fileUri"]);null!=n&&t7(r,["fileUri"],n);let i=t9(e,["mimeType"]);return null!=i&&t7(r,["mimeType"],i),r}(a)),null!=(l=t9(t,["functionCall"]))&&t7(r,["functionCall"],function(e,t){let r={},n=t9(e,["id"]);null!=n&&t7(r,["id"],n);let i=t9(e,["args"]);null!=i&&t7(r,["args"],i);let o=t9(e,["name"]);if(null!=o&&t7(r,["name"],o),void 0!==t9(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==t9(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return r}(l)),null!=(s=t9(t,["functionResponse"]))&&t7(r,["functionResponse"],s),null!=(u=t9(t,["inlineData"]))&&t7(r,["inlineData"],function(e,t){let r={},n=t9(e,["data"]);if(null!=n&&t7(r,["data"],n),void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let i=t9(e,["mimeType"]);return null!=i&&t7(r,["mimeType"],i),r}(u)),null!=(c=t9(t,["text"]))&&t7(r,["text"],c),null!=(p=t9(t,["thought"]))&&t7(r,["thought"],p),null!=(f=t9(t,["thoughtSignature"]))&&t7(r,["thoughtSignature"],f),null!=(d=t9(t,["videoMetadata"]))&&t7(r,["videoMetadata"],d),r})),t7(r,["parts"],e)}let i=t9(e,["role"]);return null!=i&&t7(r,["role"],i),r}function ny(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>nh(e))),t7(n,["contents"],e)}let a=t9(t,["config"]);return null!=a&&t7(n,["generationConfig"],function(e,t,r,n){var i;let o,a,l,s={},u=t9(t,["systemInstruction"]);void 0!==r&&null!=u&&t7(r,["systemInstruction"],nh(rH(u)));let c=t9(t,["temperature"]);null!=c&&t7(s,["temperature"],c);let p=t9(t,["topP"]);null!=p&&t7(s,["topP"],p);let f=t9(t,["topK"]);null!=f&&t7(s,["topK"],f);let d=t9(t,["candidateCount"]);null!=d&&t7(s,["candidateCount"],d);let h=t9(t,["maxOutputTokens"]);null!=h&&t7(s,["maxOutputTokens"],h);let y=t9(t,["stopSequences"]);null!=y&&t7(s,["stopSequences"],y);let m=t9(t,["responseLogprobs"]);null!=m&&t7(s,["responseLogprobs"],m);let g=t9(t,["logprobs"]);null!=g&&t7(s,["logprobs"],g);let v=t9(t,["presencePenalty"]);null!=v&&t7(s,["presencePenalty"],v);let b=t9(t,["frequencyPenalty"]);null!=b&&t7(s,["frequencyPenalty"],b);let E=t9(t,["seed"]);null!=E&&t7(s,["seed"],E);let O=t9(t,["responseMimeType"]);null!=O&&t7(s,["responseMimeType"],O);let w=t9(t,["responseSchema"]);null!=w&&t7(s,["responseSchema"],rz(w));let _=t9(t,["responseJsonSchema"]);if(null!=_&&t7(s,["responseJsonSchema"],_),void 0!==t9(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==t9(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let x=t9(t,["safetySettings"]);if(void 0!==r&&null!=x){let e=x;Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r={},n=t9(e,["category"]);if(null!=n&&t7(r,["category"],n),void 0!==t9(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let i=t9(e,["threshold"]);return null!=i&&t7(r,["threshold"],i),r})(e))),t7(r,["safetySettings"],e)}let S=t9(t,["tools"]);if(void 0!==r&&null!=S){let e=rJ(S);Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r={};if(void 0!==t9(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=t9(e,["computerUse"]);null!=n&&t7(r,["computerUse"],n);let i=t9(e,["fileSearch"]);null!=i&&t7(r,["fileSearch"],i);let o=t9(e,["codeExecution"]);if(null!=o&&t7(r,["codeExecution"],o),void 0!==t9(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=t9(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["functionDeclarations"],e)}let l=t9(e,["googleMaps"]);null!=l&&t7(r,["googleMaps"],function(e,t){let r={};if(void 0!==t9(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let n=t9(e,["enableWidget"]);return null!=n&&t7(r,["enableWidget"],n),r}(l));let s=t9(e,["googleSearch"]);null!=s&&t7(r,["googleSearch"],function(e,t){let r={};if(void 0!==t9(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==t9(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let n=t9(e,["timeRangeFilter"]);return null!=n&&t7(r,["timeRangeFilter"],n),r}(s));let u=t9(e,["googleSearchRetrieval"]);null!=u&&t7(r,["googleSearchRetrieval"],u);let c=t9(e,["urlContext"]);return null!=c&&t7(r,["urlContext"],c),r})(rW(e)))),t7(r,["tools"],e)}let A=t9(t,["toolConfig"]);if(void 0!==r&&null!=A&&t7(r,["toolConfig"],(o={},null!=(a=t9(i=A,["retrievalConfig"]))&&t7(o,["retrievalConfig"],a),null!=(l=t9(i,["functionCallingConfig"]))&&t7(o,["functionCallingConfig"],function(e,t){let r={},n=t9(e,["allowedFunctionNames"]);null!=n&&t7(r,["allowedFunctionNames"],n);let i=t9(e,["mode"]);if(null!=i&&t7(r,["mode"],i),void 0!==t9(e,["streamFunctionCallArguments"]))throw Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}(l)),o)),void 0!==t9(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let I=t9(t,["cachedContent"]);void 0!==r&&null!=I&&t7(r,["cachedContent"],rY(e,I));let T=t9(t,["responseModalities"]);null!=T&&t7(s,["responseModalities"],T);let C=t9(t,["mediaResolution"]);null!=C&&t7(s,["mediaResolution"],C);let P=t9(t,["speechConfig"]);if(null!=P&&t7(s,["speechConfig"],r$(P)),void 0!==t9(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let N=t9(t,["thinkingConfig"]);null!=N&&t7(s,["thinkingConfig"],N);let M=t9(t,["imageConfig"]);null!=M&&t7(s,["imageConfig"],function(e,t){let r={},n=t9(e,["aspectRatio"]);null!=n&&t7(r,["aspectRatio"],n);let i=t9(e,["imageSize"]);if(null!=i&&t7(r,["imageSize"],i),void 0!==t9(e,["personGeneration"]))throw Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==t9(e,["outputMimeType"]))throw Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==t9(e,["outputCompressionQuality"]))throw Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}(M));let j=t9(t,["enableEnhancedCivicAnswers"]);if(null!=j&&t7(s,["enableEnhancedCivicAnswers"],j),void 0!==t9(t,["modelArmorConfig"]))throw Error("modelArmorConfig parameter is not supported in Gemini API.");return s}(e,a,n)),n}function nm(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>e)),t7(n,["contents"],e)}let a=t9(t,["config"]);return null!=a&&t7(n,["generationConfig"],function(e,t,r,n){var i;let o,a,l,s,u,c,p={},f=t9(t,["systemInstruction"]);void 0!==r&&null!=f&&t7(r,["systemInstruction"],rH(f));let d=t9(t,["temperature"]);null!=d&&t7(p,["temperature"],d);let h=t9(t,["topP"]);null!=h&&t7(p,["topP"],h);let y=t9(t,["topK"]);null!=y&&t7(p,["topK"],y);let m=t9(t,["candidateCount"]);null!=m&&t7(p,["candidateCount"],m);let g=t9(t,["maxOutputTokens"]);null!=g&&t7(p,["maxOutputTokens"],g);let v=t9(t,["stopSequences"]);null!=v&&t7(p,["stopSequences"],v);let b=t9(t,["responseLogprobs"]);null!=b&&t7(p,["responseLogprobs"],b);let E=t9(t,["logprobs"]);null!=E&&t7(p,["logprobs"],E);let O=t9(t,["presencePenalty"]);null!=O&&t7(p,["presencePenalty"],O);let w=t9(t,["frequencyPenalty"]);null!=w&&t7(p,["frequencyPenalty"],w);let _=t9(t,["seed"]);null!=_&&t7(p,["seed"],_);let x=t9(t,["responseMimeType"]);null!=x&&t7(p,["responseMimeType"],x);let S=t9(t,["responseSchema"]);null!=S&&t7(p,["responseSchema"],rz(S));let A=t9(t,["responseJsonSchema"]);null!=A&&t7(p,["responseJsonSchema"],A);let I=t9(t,["routingConfig"]);null!=I&&t7(p,["routingConfig"],I);let T=t9(t,["modelSelectionConfig"]);null!=T&&t7(p,["modelConfig"],T);let C=t9(t,["safetySettings"]);if(void 0!==r&&null!=C){let e=C;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["safetySettings"],e)}let P=t9(t,["tools"]);if(void 0!==r&&null!=P){let e=rJ(P);Array.isArray(e)&&(e=e.map(e=>nI(rW(e)))),t7(r,["tools"],e)}let N=t9(t,["toolConfig"]);void 0!==r&&null!=N&&t7(r,["toolConfig"],N);let M=t9(t,["labels"]);void 0!==r&&null!=M&&t7(r,["labels"],M);let j=t9(t,["cachedContent"]);void 0!==r&&null!=j&&t7(r,["cachedContent"],rY(e,j));let k=t9(t,["responseModalities"]);null!=k&&t7(p,["responseModalities"],k);let R=t9(t,["mediaResolution"]);null!=R&&t7(p,["mediaResolution"],R);let D=t9(t,["speechConfig"]);null!=D&&t7(p,["speechConfig"],r$(D));let U=t9(t,["audioTimestamp"]);null!=U&&t7(p,["audioTimestamp"],U);let L=t9(t,["thinkingConfig"]);null!=L&&t7(p,["thinkingConfig"],L);let q=t9(t,["imageConfig"]);if(null!=q&&t7(p,["imageConfig"],(o={},null!=(a=t9(i=q,["aspectRatio"]))&&t7(o,["aspectRatio"],a),null!=(l=t9(i,["imageSize"]))&&t7(o,["imageSize"],l),null!=(s=t9(i,["personGeneration"]))&&t7(o,["personGeneration"],s),null!=(u=t9(i,["outputMimeType"]))&&t7(o,["imageOutputOptions","mimeType"],u),null!=(c=t9(i,["outputCompressionQuality"]))&&t7(o,["imageOutputOptions","compressionQuality"],c),o)),void 0!==t9(t,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let F=t9(t,["modelArmorConfig"]);return void 0!==r&&null!=F&&t7(r,["modelArmorConfig"],F),p}(e,a,n)),n}function ng(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["candidates"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r={},n=t9(e,["content"]);null!=n&&t7(r,["content"],n);let i=t9(e,["citationMetadata"]);null!=i&&t7(r,["citationMetadata"],function(e,t){let r={},n=t9(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["citations"],e)}return r}(i));let o=t9(e,["tokenCount"]);null!=o&&t7(r,["tokenCount"],o);let a=t9(e,["finishReason"]);null!=a&&t7(r,["finishReason"],a);let l=t9(e,["avgLogprobs"]);null!=l&&t7(r,["avgLogprobs"],l);let s=t9(e,["groundingMetadata"]);null!=s&&t7(r,["groundingMetadata"],s);let u=t9(e,["index"]);null!=u&&t7(r,["index"],u);let c=t9(e,["logprobsResult"]);null!=c&&t7(r,["logprobsResult"],c);let p=t9(e,["safetyRatings"]);if(null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["safetyRatings"],e)}let f=t9(e,["urlContextMetadata"]);return null!=f&&t7(r,["urlContextMetadata"],f),r})(e))),t7(r,["candidates"],e)}let o=t9(e,["modelVersion"]);null!=o&&t7(r,["modelVersion"],o);let a=t9(e,["promptFeedback"]);null!=a&&t7(r,["promptFeedback"],a);let l=t9(e,["responseId"]);null!=l&&t7(r,["responseId"],l);let s=t9(e,["usageMetadata"]);return null!=s&&t7(r,["usageMetadata"],s),r}function nv(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["candidates"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["candidates"],e)}let o=t9(e,["createTime"]);null!=o&&t7(r,["createTime"],o);let a=t9(e,["modelVersion"]);null!=a&&t7(r,["modelVersion"],a);let l=t9(e,["promptFeedback"]);null!=l&&t7(r,["promptFeedback"],l);let s=t9(e,["responseId"]);null!=s&&t7(r,["responseId"],s);let u=t9(e,["usageMetadata"]);return null!=u&&t7(r,["usageMetadata"],u),r}function nb(e,t){let r={},n=t9(e,["_self"]);null!=n&&t7(r,["image"],nE(n));let i=t9(e,["raiFilteredReason"]);null!=i&&t7(r,["raiFilteredReason"],i);let o=t9(e,["_self"]);null!=o&&t7(r,["safetyAttributes"],nA(o));let a=t9(e,["prompt"]);return null!=a&&t7(r,["enhancedPrompt"],a),r}function nE(e,t){let r={},n=t9(e,["gcsUri"]);null!=n&&t7(r,["gcsUri"],n);let i=t9(e,["bytesBase64Encoded"]);null!=i&&t7(r,["imageBytes"],re(i));let o=t9(e,["mimeType"]);return null!=o&&t7(r,["mimeType"],o),r}function nO(e,t){let r={};if(void 0!==t9(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");let n=t9(e,["imageBytes"]);null!=n&&t7(r,["bytesBase64Encoded"],re(n));let i=t9(e,["mimeType"]);return null!=i&&t7(r,["mimeType"],i),r}function nw(e,t){let r={},n=t9(e,["gcsUri"]);null!=n&&t7(r,["gcsUri"],n);let i=t9(e,["imageBytes"]);null!=i&&t7(r,["bytesBase64Encoded"],re(i));let o=t9(e,["mimeType"]);return null!=o&&t7(r,["mimeType"],o),r}function n_(e,t){var r;let n,i,o,a,l={},s=t9(e,["name"]);null!=s&&t7(l,["name"],s);let u=t9(e,["displayName"]);null!=u&&t7(l,["displayName"],u);let c=t9(e,["description"]);null!=c&&t7(l,["description"],c);let p=t9(e,["version"]);null!=p&&t7(l,["version"],p);let f=t9(e,["_self"]);null!=f&&t7(l,["tunedModelInfo"],(n={},null!=(i=t9(r=f,["baseModel"]))&&t7(n,["baseModel"],i),null!=(o=t9(r,["createTime"]))&&t7(n,["createTime"],o),null!=(a=t9(r,["updateTime"]))&&t7(n,["updateTime"],a),n));let d=t9(e,["inputTokenLimit"]);null!=d&&t7(l,["inputTokenLimit"],d);let h=t9(e,["outputTokenLimit"]);null!=h&&t7(l,["outputTokenLimit"],h);let y=t9(e,["supportedGenerationMethods"]);null!=y&&t7(l,["supportedActions"],y);let m=t9(e,["temperature"]);null!=m&&t7(l,["temperature"],m);let g=t9(e,["maxTemperature"]);null!=g&&t7(l,["maxTemperature"],g);let v=t9(e,["topP"]);null!=v&&t7(l,["topP"],v);let b=t9(e,["topK"]);null!=b&&t7(l,["topK"],b);let E=t9(e,["thinking"]);return null!=E&&t7(l,["thinking"],E),l}function nx(e,t){var r;let n,i,o,a,l={},s=t9(e,["name"]);null!=s&&t7(l,["name"],s);let u=t9(e,["displayName"]);null!=u&&t7(l,["displayName"],u);let c=t9(e,["description"]);null!=c&&t7(l,["description"],c);let p=t9(e,["versionId"]);null!=p&&t7(l,["version"],p);let f=t9(e,["deployedModels"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map(e=>{let t,r,n;return t={},null!=(r=t9(e,["endpoint"]))&&t7(t,["name"],r),null!=(n=t9(e,["deployedModelId"]))&&t7(t,["deployedModelId"],n),t})),t7(l,["endpoints"],e)}let d=t9(e,["labels"]);null!=d&&t7(l,["labels"],d);let h=t9(e,["_self"]);null!=h&&t7(l,["tunedModelInfo"],(n={},null!=(i=t9(r=h,["labels","google-vertex-llm-tuning-base-model-id"]))&&t7(n,["baseModel"],i),null!=(o=t9(r,["createTime"]))&&t7(n,["createTime"],o),null!=(a=t9(r,["updateTime"]))&&t7(n,["updateTime"],a),n));let y=t9(e,["defaultCheckpointId"]);null!=y&&t7(l,["defaultCheckpointId"],y);let m=t9(e,["checkpoints"]);if(null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>e)),t7(l,["checkpoints"],e)}return l}function nS(e,t){let r={},n=t9(e,["safetyAttributes","categories"]);null!=n&&t7(r,["categories"],n);let i=t9(e,["safetyAttributes","scores"]);null!=i&&t7(r,["scores"],i);let o=t9(e,["contentType"]);return null!=o&&t7(r,["contentType"],o),r}function nA(e,t){let r={},n=t9(e,["safetyAttributes","categories"]);null!=n&&t7(r,["categories"],n);let i=t9(e,["safetyAttributes","scores"]);null!=i&&t7(r,["scores"],i);let o=t9(e,["contentType"]);return null!=o&&t7(r,["contentType"],o),r}function nI(e,t){let r={},n=t9(e,["retrieval"]);null!=n&&t7(r,["retrieval"],n);let i=t9(e,["computerUse"]);if(null!=i&&t7(r,["computerUse"],i),void 0!==t9(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let o=t9(e,["codeExecution"]);null!=o&&t7(r,["codeExecution"],o);let a=t9(e,["enterpriseWebSearch"]);null!=a&&t7(r,["enterpriseWebSearch"],a);let l=t9(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r={},n=t9(e,["description"]);null!=n&&t7(r,["description"],n);let i=t9(e,["name"]);null!=i&&t7(r,["name"],i);let o=t9(e,["parameters"]);null!=o&&t7(r,["parameters"],o);let a=t9(e,["parametersJsonSchema"]);null!=a&&t7(r,["parametersJsonSchema"],a);let l=t9(e,["response"]);null!=l&&t7(r,["response"],l);let s=t9(e,["responseJsonSchema"]);if(null!=s&&t7(r,["responseJsonSchema"],s),void 0!==t9(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");return r})(e))),t7(r,["functionDeclarations"],e)}let s=t9(e,["googleMaps"]);null!=s&&t7(r,["googleMaps"],s);let u=t9(e,["googleSearch"]);null!=u&&t7(r,["googleSearch"],u);let c=t9(e,["googleSearchRetrieval"]);null!=c&&t7(r,["googleSearchRetrieval"],c);let p=t9(e,["urlContext"]);return null!=p&&t7(r,["urlContext"],p),r}function nT(e,t){let r={},n=t9(e,["uri"]);null!=n&&t7(r,["uri"],n);let i=t9(e,["videoBytes"]);null!=i&&t7(r,["encodedVideo"],re(i));let o=t9(e,["mimeType"]);return null!=o&&t7(r,["encoding"],o),r}function nC(e,t){let r={},n=t9(e,["uri"]);null!=n&&t7(r,["gcsUri"],n);let i=t9(e,["videoBytes"]);null!=i&&t7(r,["bytesBase64Encoded"],re(i));let o=t9(e,["mimeType"]);return null!=o&&t7(r,["mimeType"],o),r}function nP(e,t){let r=t9(e,["mimeType"]);void 0!==t&&null!=r&&t7(t,["mimeType"],r);let n=t9(e,["displayName"]);void 0!==t&&null!=n&&t7(t,["displayName"],n);let i=t9(e,["customMetadata"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["customMetadata"],e)}let o=t9(e,["chunkingConfig"]);return void 0!==t&&null!=o&&t7(t,["chunkingConfig"],o),{}}let nN="x-goog-api-client",nM=[408,429,500,502,503,504];class nj{constructor(e){var t,r,n;this.clientOptions=Object.assign({},e),this.customBaseUrl=null==(t=e.httpOptions)?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(this.clientOptions.location||this.clientOptions.apiKey||this.customBaseUrl||(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const t=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!t?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||"global"===this.clientOptions.location?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=null!=(r=this.clientOptions.apiVersion)?r:"v1beta1"}else{if(!this.clientOptions.apiKey)throw new np({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=null!=(n=this.clientOptions.apiVersion)?n:"v1beta",i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return null!=(e=this.clientOptions.vertexai)&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw Error("HTTP options are not correctly set.");let t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=new URL(this.getBaseUrl());return e.protocol="http:"==e.protocol?"ws":"wss",e.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw Error("HTTP options are not correctly set.")}constructUrl(e,t,r){let n=[this.getRequestUrlInternal(t)];return r&&n.push(this.getBaseResourcePath()),""!==e&&n.push(e),new URL(`${n.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===eG.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,t),n=this.constructUrl(e.path,t,r);if(e.queryParams)for(let[t,r]of Object.entries(e.queryParams))n.searchParams.append(t,String(r));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,n.toString(),e.abortSignal),this.unaryApiCall(n,i,e.httpMethod)}patchHttpOptions(e,t){let r=JSON.parse(JSON.stringify(e));for(let[e,n]of Object.entries(t))"object"==typeof n?r[e]=Object.assign(Object.assign({},r[e]),n):void 0!==n&&(r[e]=n);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,t),n=this.constructUrl(e.path,t,r);n.searchParams.has("alt")&&"sse"===n.searchParams.get("alt")||n.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,n.toString(),e.abortSignal),this.streamApiCall(n,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,n){if(t&&t.timeout||n){let r=new AbortController,i=r.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){let e=setTimeout(()=>r.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=i}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let r={};if("string"==typeof e.body&&e.body.length>0)try{let t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");r=t}catch(e){console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}e.body=JSON.stringify(function e(t,r){let n=Object.assign({},t);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){let i=r[t],o=n[t];i&&"object"==typeof i&&!Array.isArray(i)&&o&&"object"==typeof o&&!Array.isArray(o)?n[t]=e(o,i):(o&&i&&typeof o!=typeof i&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${t}". Original type: ${typeof o}, New type: ${typeof i}. Overwriting.`),n[t]=i)}return n}(r,t))}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await nk(e),new rr(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await nk(e),this.processStreamResponse(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}processStreamResponse(e){return no(this,arguments,function*(){var t;let r=null==(t=null==e?void 0:e.body)?void 0:t.getReader(),n=new TextDecoder("utf-8");if(!r)throw Error("Response body is empty");try{let t="",i="data:",o=["\n\n","\r\r","\r\n\r\n"];for(;;){let{done:a,value:l}=yield ni(r.read());if(a){if(t.trim().length>0)throw Error("Incomplete JSON segment at the end");break}let s=n.decode(l,{stream:!0});try{let e=JSON.parse(s);if("error"in e){let t=JSON.parse(JSON.stringify(e.error)),r=t.status,n=t.code,i=`got status: ${r}. ${JSON.stringify(e)}`;if(n>=400&&n<600)throw new np({message:i,status:n})}}catch(e){if("ApiError"===e.name)throw e}t+=s;let u=-1,c=0;for(;;){for(let e of(u=-1,c=0,o)){let r=t.indexOf(e);-1!==r&&(-1===u||r<u)&&(u=r,c=e.length)}if(-1===u)break;let r=t.substring(0,u);t=t.substring(u+c);let n=r.trim();if(n.startsWith(i)){let t=n.substring(i.length).trim();try{let r=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield ni(new rr(r))}catch(e){throw Error(`exception parsing stream chunk ${t}. ${e}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){var r;return this.clientOptions.httpOptions&&this.clientOptions.httpOptions.retryOptions?t6(async()=>{let r=await fetch(e,t);if(r.ok)return r;if(nM.includes(r.status))throw Error(`Retryable HTTP Error: ${r.statusText}`);throw new t2(`Non-retryable exception ${r.statusText} sending request`)},{retries:(null!=(r=this.clientOptions.httpOptions.retryOptions.attempts)?r:5)-1}):fetch(e,t)}getDefaultHeaders(){let e={},t="google-genai-sdk/1.41.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[nN]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){let r=new Headers;if(e&&e.headers){for(let[t,n]of Object.entries(e.headers))r.append(t,n);e.timeout&&e.timeout>0&&r.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return"string"==typeof e&&(r=null!=(t=(r=e.replace(/[/\\]+$/,"")).split(/[/\\]/).pop())?t:""),r}async uploadFile(e,t){var r;let n={};null!=t&&(n.mimeType=t.mimeType,n.name=t.name,n.displayName=t.displayName),n.name&&!n.name.startsWith("files/")&&(n.name=`files/${n.name}`);let i=this.clientOptions.uploader,o=await i.stat(e);n.sizeBytes=String(o.size);let a=null!=(r=null==t?void 0:t.mimeType)?r:o.type;if(void 0===a||""===a)throw Error("Can not determine mimeType. Please provide mimeType in the config.");n.mimeType=a;let l={file:n},s=this.getFileName(e),u=t8("upload/v1beta/files",l._url),c=await this.fetchUploadUrl(u,n.sizeBytes,n.mimeType,s,l,null==t?void 0:t.httpOptions);return i.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,r){var n;let i=this.clientOptions.uploader,o=await i.stat(t),a=String(o.size),l=null!=(n=null==r?void 0:r.mimeType)?n:o.type;if(void 0===l||""===l)throw Error("Can not determine mimeType. Please provide mimeType in the config.");let s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=r&&nP(r,c);let p=await this.fetchUploadUrl(s,a,l,u,c,null==r?void 0:r.httpOptions);return i.uploadToFileSearchStore(t,p,this)}async downloadFile(e){let t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,r,n,i,o){var a;let l={};l=o||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},n?{"X-Goog-Upload-File-Name":n}:{})};let s=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!s||!(null==s?void 0:s.headers))throw Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let u=null==(a=null==s?void 0:s.headers)?void 0:a["x-goog-upload-url"];if(void 0===u)throw Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function nk(e){var t;if(void 0===e)throw Error("response is undefined");if(!e.ok){let r=e.status,n=JSON.stringify((null==(t=e.headers.get("content-type"))?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}});if(r>=400&&r<600)throw new np({message:n,status:r});throw Error(n)}}function nR(e){for(let r of e){var t;if(null!==(t=r)&&"object"==typeof t&&t instanceof nU||"object"==typeof r&&"inputSchema"in r)return!0}return!1}function nD(e){var t;let r=null!=(t=e[nN])?t:"";e[nN]=(r+" mcp_used/unknown").trimStart()}class nU{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new nU(e,t)}async initialize(){var e,t,r,n;if(this.mcpTools.length>0)return;let i={},o=[];for(let u of this.mcpClients)try{for(var a,l=!0,s=(t=void 0,na(function(e){return no(this,arguments,function*(e,t=100){let r,n=0;for(;n<t;){let t=yield ni(e.listTools({cursor:r}));for(let e of t.tools)yield yield ni(e),n++;if(!t.nextCursor)break;r=t.nextCursor}})}(u)));!(e=(a=await s.next()).done);l=!0){n=a.value,l=!1,o.push(n);let e=n.name;if(i[e])throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);i[e]=u}}catch(e){t={error:e}}finally{try{!l&&!e&&(r=s.return)&&await r.call(s)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){let r=[],n=new Set;for(let i of e){let e=i.name;if(n.has(e))throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);n.add(e);let o=function(e,t={}){let r={name:e.name,description:e.description,parametersJsonSchema:e.inputSchema};return e.outputSchema&&(r.responseJsonSchema=e.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}(i,t);o.functionDeclarations&&r.push(...o.functionDeclarations)}return{functionDeclarations:r}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let e,n=this.functionNameToMcpClient[r.name];this.config.timeout&&(e={timeout:this.config.timeout});let i=await n.callTool({name:r.name,arguments:r.args},void 0,e);t.push({functionResponse:{name:r.name,response:i.isError?{error:i}:i}})}return t}}async function nL(e,t,r){let n=new rC;Object.assign(n,r.data instanceof Blob?JSON.parse(await r.data.text()):JSON.parse(r.data)),t(n)}class nq{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;let n;if(this.apiClient.isVertexAI())throw Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),s=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`,u=()=>{},c=new Promise(e=>{u=e}),p=e.callbacks,f=this.apiClient,d={onopen:function(){u({})},onmessage:e=>{nL(f,p.onmessage,e)},onerror:null!=(t=null==p?void 0:p.onerror)?t:function(e){},onclose:null!=(r=null==p?void 0:p.onclose)?r:function(e){}},h=this.webSocketFactory.create(s,(n={},a.forEach((e,t)=>{n[t]=e}),n),d);h.connect(),await c;let y=rN(this.apiClient,e.model);return h.send(JSON.stringify({setup:{model:y}})),new nF(h,this.apiClient)}}class nF{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw Error("Weighted prompts must be set and contain at least one entry.");let t=function(e){let t={},r=t9(e,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){let t,r;e.musicGenerationConfig||(e.musicGenerationConfig={});let n=(t={},null!=(r=t9(e,["musicGenerationConfig"]))&&t7(t,["musicGenerationConfig"],r),t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){this.conn.send(JSON.stringify({playbackControl:e}))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}async function nG(e,t,r){let n=new rT,i=JSON.parse(r.data instanceof Blob?await r.data.text():r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data);if(e.isVertexAI()){let e,t,r,o,a,l,s,u,c,p,f,d;Object.assign(n,(e={},null!=(t=t9(i,["setupComplete"]))&&t7(e,["setupComplete"],t),null!=(r=t9(i,["serverContent"]))&&t7(e,["serverContent"],r),null!=(o=t9(i,["toolCall"]))&&t7(e,["toolCall"],o),null!=(a=t9(i,["toolCallCancellation"]))&&t7(e,["toolCallCancellation"],a),null!=(l=t9(i,["usageMetadata"]))&&t7(e,["usageMetadata"],function(e){let t={},r=t9(e,["promptTokenCount"]);null!=r&&t7(t,["promptTokenCount"],r);let n=t9(e,["cachedContentTokenCount"]);null!=n&&t7(t,["cachedContentTokenCount"],n);let i=t9(e,["candidatesTokenCount"]);null!=i&&t7(t,["responseTokenCount"],i);let o=t9(e,["toolUsePromptTokenCount"]);null!=o&&t7(t,["toolUsePromptTokenCount"],o);let a=t9(e,["thoughtsTokenCount"]);null!=a&&t7(t,["thoughtsTokenCount"],a);let l=t9(e,["totalTokenCount"]);null!=l&&t7(t,["totalTokenCount"],l);let s=t9(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["promptTokensDetails"],e)}let u=t9(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["cacheTokensDetails"],e)}let c=t9(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["responseTokensDetails"],e)}let p=t9(e,["toolUsePromptTokensDetails"]);if(null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["toolUsePromptTokensDetails"],e)}let f=t9(e,["trafficType"]);return null!=f&&t7(t,["trafficType"],f),t}(l)),null!=(s=t9(i,["goAway"]))&&t7(e,["goAway"],s),null!=(u=t9(i,["sessionResumptionUpdate"]))&&t7(e,["sessionResumptionUpdate"],u),null!=(c=t9(i,["voiceActivityDetectionSignal"]))&&t7(e,["voiceActivityDetectionSignal"],c),null!=(p=t9(i,["voiceActivity"]))&&t7(e,["voiceActivity"],(f={},null!=(d=t9(p,["type"]))&&t7(f,["voiceActivityType"],d),f)),e))}else Object.assign(n,i);t(n)}class nH{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new nq(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,n,i,o,a,l,s;let u,c;if(e.config&&e.config.httpOptions)throw Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d=this.apiClient.getHeaders();e.config&&e.config.tools&&nR(e.config.tools)&&nD(d);let h=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(d);if(this.apiClient.isVertexAI()){let e=this.apiClient.getProject(),t=this.apiClient.getLocation(),r=this.apiClient.getApiKey();this.apiClient.getCustomBaseUrl()&&!(e&&t||r)?u=p:(u=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,u))}else{let e=this.apiClient.getApiKey(),t="BidiGenerateContent",r="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==f&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",r="access_token"),u=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${t}?${r}=${e}`}let y=()=>{},m=new Promise(e=>{y=e}),g=e.callbacks,v=this.apiClient,b={onopen:function(){var e;null==(e=null==g?void 0:g.onopen)||e.call(g),y({})},onmessage:e=>{nG(v,g.onmessage,e)},onerror:null!=(t=null==g?void 0:g.onerror)?t:function(e){},onclose:null!=(r=null==g?void 0:g.onclose)?r:function(e){}},E=this.webSocketFactory.create(u,(c={},h.forEach((e,t)=>{c[t]=e}),c),b);E.connect(),await m;let O=rN(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){let e=this.apiClient.getProject(),t=this.apiClient.getLocation();e&&t&&(O=`projects/${e}/locations/${t}/`+O)}let w={};this.apiClient.isVertexAI()&&(null==(n=e.config)?void 0:n.responseModalities)===void 0&&(void 0===e.config?e.config={responseModalities:[ek.AUDIO]}:e.config.responseModalities=[ek.AUDIO]),(null==(i=e.config)?void 0:i.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let _=null!=(a=null==(o=e.config)?void 0:o.tools)?a:[],x=[];for(let e of _)this.isCallableTool(e)?x.push(await e.tool()):x.push(e);x.length>0&&(e.config.tools=x);let S={model:O,config:e.config,callbacks:e.callbacks};if(this.apiClient.isVertexAI()){let e,t,r;l=this.apiClient,e={},null!=(t=t9(S,["model"]))&&t7(e,["setup","model"],rN(l,t)),null!=(r=t9(S,["config"]))&&t7(e,["config"],function(e,t){let r=t9(e,["generationConfig"]);void 0!==t&&null!=r&&t7(t,["setup","generationConfig"],function(e){let t={},r=t9(e,["modelSelectionConfig"]);null!=r&&t7(t,["modelConfig"],r);let n=t9(e,["responseJsonSchema"]);null!=n&&t7(t,["responseJsonSchema"],n);let i=t9(e,["audioTimestamp"]);null!=i&&t7(t,["audioTimestamp"],i);let o=t9(e,["candidateCount"]);null!=o&&t7(t,["candidateCount"],o);let a=t9(e,["enableAffectiveDialog"]);null!=a&&t7(t,["enableAffectiveDialog"],a);let l=t9(e,["frequencyPenalty"]);null!=l&&t7(t,["frequencyPenalty"],l);let s=t9(e,["logprobs"]);null!=s&&t7(t,["logprobs"],s);let u=t9(e,["maxOutputTokens"]);null!=u&&t7(t,["maxOutputTokens"],u);let c=t9(e,["mediaResolution"]);null!=c&&t7(t,["mediaResolution"],c);let p=t9(e,["presencePenalty"]);null!=p&&t7(t,["presencePenalty"],p);let f=t9(e,["responseLogprobs"]);null!=f&&t7(t,["responseLogprobs"],f);let d=t9(e,["responseMimeType"]);null!=d&&t7(t,["responseMimeType"],d);let h=t9(e,["responseModalities"]);null!=h&&t7(t,["responseModalities"],h);let y=t9(e,["responseSchema"]);null!=y&&t7(t,["responseSchema"],y);let m=t9(e,["routingConfig"]);null!=m&&t7(t,["routingConfig"],m);let g=t9(e,["seed"]);null!=g&&t7(t,["seed"],g);let v=t9(e,["speechConfig"]);null!=v&&t7(t,["speechConfig"],v);let b=t9(e,["stopSequences"]);null!=b&&t7(t,["stopSequences"],b);let E=t9(e,["temperature"]);null!=E&&t7(t,["temperature"],E);let O=t9(e,["thinkingConfig"]);null!=O&&t7(t,["thinkingConfig"],O);let w=t9(e,["topK"]);null!=w&&t7(t,["topK"],w);let _=t9(e,["topP"]);if(null!=_&&t7(t,["topP"],_),void 0!==t9(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r));let n=t9(e,["responseModalities"]);void 0!==t&&null!=n&&t7(t,["setup","generationConfig","responseModalities"],n);let i=t9(e,["temperature"]);void 0!==t&&null!=i&&t7(t,["setup","generationConfig","temperature"],i);let o=t9(e,["topP"]);void 0!==t&&null!=o&&t7(t,["setup","generationConfig","topP"],o);let a=t9(e,["topK"]);void 0!==t&&null!=a&&t7(t,["setup","generationConfig","topK"],a);let l=t9(e,["maxOutputTokens"]);void 0!==t&&null!=l&&t7(t,["setup","generationConfig","maxOutputTokens"],l);let s=t9(e,["mediaResolution"]);void 0!==t&&null!=s&&t7(t,["setup","generationConfig","mediaResolution"],s);let u=t9(e,["seed"]);void 0!==t&&null!=u&&t7(t,["setup","generationConfig","seed"],u);let c=t9(e,["speechConfig"]);void 0!==t&&null!=c&&t7(t,["setup","generationConfig","speechConfig"],rK(c));let p=t9(e,["thinkingConfig"]);void 0!==t&&null!=p&&t7(t,["setup","generationConfig","thinkingConfig"],p);let f=t9(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&t7(t,["setup","generationConfig","enableAffectiveDialog"],f);let d=t9(e,["systemInstruction"]);void 0!==t&&null!=d&&t7(t,["setup","systemInstruction"],rH(d));let h=t9(e,["tools"]);if(void 0!==t&&null!=h){let e=rJ(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["retrieval"]);null!=r&&t7(t,["retrieval"],r);let n=t9(e,["computerUse"]);if(null!=n&&t7(t,["computerUse"],n),void 0!==t9(e,["fileSearch"]))throw Error("fileSearch parameter is not supported in Vertex AI.");let i=t9(e,["codeExecution"]);null!=i&&t7(t,["codeExecution"],i);let o=t9(e,["enterpriseWebSearch"]);null!=o&&t7(t,["enterpriseWebSearch"],o);let a=t9(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=t9(e,["description"]);null!=r&&t7(t,["description"],r);let n=t9(e,["name"]);null!=n&&t7(t,["name"],n);let i=t9(e,["parameters"]);null!=i&&t7(t,["parameters"],i);let o=t9(e,["parametersJsonSchema"]);null!=o&&t7(t,["parametersJsonSchema"],o);let a=t9(e,["response"]);null!=a&&t7(t,["response"],a);let l=t9(e,["responseJsonSchema"]);if(null!=l&&t7(t,["responseJsonSchema"],l),void 0!==t9(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");return t})(e))),t7(t,["functionDeclarations"],e)}let l=t9(e,["googleMaps"]);null!=l&&t7(t,["googleMaps"],l);let s=t9(e,["googleSearch"]);null!=s&&t7(t,["googleSearch"],s);let u=t9(e,["googleSearchRetrieval"]);null!=u&&t7(t,["googleSearchRetrieval"],u);let c=t9(e,["urlContext"]);return null!=c&&t7(t,["urlContext"],c),t})(rW(e)))),t7(t,["setup","tools"],e)}let y=t9(e,["sessionResumption"]);void 0!==t&&null!=y&&t7(t,["setup","sessionResumption"],y);let m=t9(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&t7(t,["setup","inputAudioTranscription"],m);let g=t9(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&t7(t,["setup","outputAudioTranscription"],g);let v=t9(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&t7(t,["setup","realtimeInputConfig"],v);let b=t9(e,["contextWindowCompression"]);void 0!==t&&null!=b&&t7(t,["setup","contextWindowCompression"],b);let E=t9(e,["proactivity"]);void 0!==t&&null!=E&&t7(t,["setup","proactivity"],E);let O=t9(e,["explicitVadSignal"]);return void 0!==t&&null!=O&&t7(t,["setup","explicitVadSignal"],O),{}}(r,e)),w=e}else{let e,t,r;s=this.apiClient,e={},null!=(t=t9(S,["model"]))&&t7(e,["setup","model"],rN(s,t)),null!=(r=t9(S,["config"]))&&t7(e,["config"],function(e,t){let r=t9(e,["generationConfig"]);void 0!==t&&null!=r&&t7(t,["setup","generationConfig"],r);let n=t9(e,["responseModalities"]);void 0!==t&&null!=n&&t7(t,["setup","generationConfig","responseModalities"],n);let i=t9(e,["temperature"]);void 0!==t&&null!=i&&t7(t,["setup","generationConfig","temperature"],i);let o=t9(e,["topP"]);void 0!==t&&null!=o&&t7(t,["setup","generationConfig","topP"],o);let a=t9(e,["topK"]);void 0!==t&&null!=a&&t7(t,["setup","generationConfig","topK"],a);let l=t9(e,["maxOutputTokens"]);void 0!==t&&null!=l&&t7(t,["setup","generationConfig","maxOutputTokens"],l);let s=t9(e,["mediaResolution"]);void 0!==t&&null!=s&&t7(t,["setup","generationConfig","mediaResolution"],s);let u=t9(e,["seed"]);void 0!==t&&null!=u&&t7(t,["setup","generationConfig","seed"],u);let c=t9(e,["speechConfig"]);void 0!==t&&null!=c&&t7(t,["setup","generationConfig","speechConfig"],rK(c));let p=t9(e,["thinkingConfig"]);void 0!==t&&null!=p&&t7(t,["setup","generationConfig","thinkingConfig"],p);let f=t9(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&t7(t,["setup","generationConfig","enableAffectiveDialog"],f);let d=t9(e,["systemInstruction"]);void 0!==t&&null!=d&&t7(t,["setup","systemInstruction"],function(e){let t={},r=t9(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f,d;return r={},null!=(n=t9(t=e,["mediaResolution"]))&&t7(r,["mediaResolution"],n),null!=(i=t9(t,["codeExecutionResult"]))&&t7(r,["codeExecutionResult"],i),null!=(o=t9(t,["executableCode"]))&&t7(r,["executableCode"],o),null!=(a=t9(t,["fileData"]))&&t7(r,["fileData"],function(e){let t={};if(void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=t9(e,["fileUri"]);null!=r&&t7(t,["fileUri"],r);let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(a)),null!=(l=t9(t,["functionCall"]))&&t7(r,["functionCall"],function(e){let t={},r=t9(e,["id"]);null!=r&&t7(t,["id"],r);let n=t9(e,["args"]);null!=n&&t7(t,["args"],n);let i=t9(e,["name"]);if(null!=i&&t7(t,["name"],i),void 0!==t9(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==t9(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(l)),null!=(s=t9(t,["functionResponse"]))&&t7(r,["functionResponse"],s),null!=(u=t9(t,["inlineData"]))&&t7(r,["inlineData"],nd(u)),null!=(c=t9(t,["text"]))&&t7(r,["text"],c),null!=(p=t9(t,["thought"]))&&t7(r,["thought"],p),null!=(f=t9(t,["thoughtSignature"]))&&t7(r,["thoughtSignature"],f),null!=(d=t9(t,["videoMetadata"]))&&t7(r,["videoMetadata"],d),r})),t7(t,["parts"],e)}let n=t9(e,["role"]);return null!=n&&t7(t,["role"],n),t}(rH(d)));let h=t9(e,["tools"]);if(void 0!==t&&null!=h){let e=rJ(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==t9(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let r=t9(e,["computerUse"]);null!=r&&t7(t,["computerUse"],r);let n=t9(e,["fileSearch"]);null!=n&&t7(t,["fileSearch"],n);let i=t9(e,["codeExecution"]);if(null!=i&&t7(t,["codeExecution"],i),void 0!==t9(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let o=t9(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["functionDeclarations"],e)}let a=t9(e,["googleMaps"]);null!=a&&t7(t,["googleMaps"],function(e){let t={};if(void 0!==t9(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=t9(e,["enableWidget"]);return null!=r&&t7(t,["enableWidget"],r),t}(a));let l=t9(e,["googleSearch"]);null!=l&&t7(t,["googleSearch"],function(e){let t={};if(void 0!==t9(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==t9(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=t9(e,["timeRangeFilter"]);return null!=r&&t7(t,["timeRangeFilter"],r),t}(l));let s=t9(e,["googleSearchRetrieval"]);null!=s&&t7(t,["googleSearchRetrieval"],s);let u=t9(e,["urlContext"]);return null!=u&&t7(t,["urlContext"],u),t})(rW(e)))),t7(t,["setup","tools"],e)}let y=t9(e,["sessionResumption"]);void 0!==t&&null!=y&&t7(t,["setup","sessionResumption"],function(e){let t={},r=t9(e,["handle"]);if(null!=r&&t7(t,["handle"],r),void 0!==t9(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(y));let m=t9(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&t7(t,["setup","inputAudioTranscription"],m);let g=t9(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&t7(t,["setup","outputAudioTranscription"],g);let v=t9(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&t7(t,["setup","realtimeInputConfig"],v);let b=t9(e,["contextWindowCompression"]);void 0!==t&&null!=b&&t7(t,["setup","contextWindowCompression"],b);let E=t9(e,["proactivity"]);if(void 0!==t&&null!=E&&t7(t,["setup","proactivity"],E),void 0!==t9(e,["explicitVadSignal"]))throw Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(r,e)),w=e}return delete w.config,E.send(JSON.stringify(w)),new nV(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}let nB={turnComplete:!0};class nV{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=rV(t.turns),e.isVertexAI()||(r=r.map(e=>nh(e)))}catch(e){throw Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(null==t.functionResponses||0===(r=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses]).length)throw Error("functionResponses is required.");for(let t of r){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},nB),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:function(e){let t={},r=t9(e,["media"]);if(null!=r){let e=rj(r);Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["mediaChunks"],e)}let n=t9(e,["audio"]);null!=n&&t7(t,["audio"],rD(n));let i=t9(e,["audioStreamEnd"]);null!=i&&t7(t,["audioStreamEnd"],i);let o=t9(e,["video"]);null!=o&&t7(t,["video"],rR(o));let a=t9(e,["text"]);null!=a&&t7(t,["text"],a);let l=t9(e,["activityStart"]);null!=l&&t7(t,["activityStart"],l);let s=t9(e,["activityEnd"]);return null!=s&&t7(t,["activityEnd"],s),t}(e)}:{realtimeInput:function(e){let t={},r=t9(e,["media"]);if(null!=r){let e=rj(r);Array.isArray(e)&&(e=e.map(e=>nd(e))),t7(t,["mediaChunks"],e)}let n=t9(e,["audio"]);null!=n&&t7(t,["audio"],nd(rD(n)));let i=t9(e,["audioStreamEnd"]);null!=i&&t7(t,["audioStreamEnd"],i);let o=t9(e,["video"]);null!=o&&t7(t,["video"],nd(rR(o)));let a=t9(e,["text"]);null!=a&&t7(t,["text"],a);let l=t9(e,["activityStart"]);null!=l&&t7(t,["activityStart"],l);let s=t9(e,["activityEnd"]);return null!=s&&t7(t,["activityEnd"],s),t}(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function nz(e){var t,r,n;if(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.disable)return!0;let i=!1;for(let t of null!=(r=null==e?void 0:e.tools)?r:[])if(n$(t)){i=!0;break}if(!i)return!0;let o=null==(n=null==e?void 0:e.automaticFunctionCalling)?void 0:n.maximumRemoteCalls;return(!(!o||!(o<0)&&Number.isInteger(o))||0==o)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0)}function n$(e){return"callTool"in e&&"function"==typeof e.callTool}function nK(e){var t;let r=[];return(null==(t=null==e?void 0:e.config)?void 0:t.tools)&&e.config.tools.forEach((e,t)=>{n$(e)||e.functionDeclarations&&e.functionDeclarations.length>0&&r.push(t)}),r}function nW(e){var t;return!(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.ignoreCallHistory)}class nJ extends t4{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,r,n,i,o,a,l,s;let u,c,p=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!(null!=(s=null==(l=null==(a=e.config)?void 0:a.tools)?void 0:l.some(e=>n$(e)))&&s)||nz(e.config))return await this.generateContentInternal(p);let f=nK(e);if(f.length>0){let e=f.map(e=>`tools[${e}]`).join(", ");throw Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let d=rV(p.contents),h=null!=(n=null==(r=null==(t=p.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,y=0;for(;y<h&&(u=await this.generateContentInternal(p)).functionCalls&&0!==u.functionCalls.length;){let t=u.candidates[0].content,r=[];for(let t of null!=(o=null==(i=e.config)?void 0:i.tools)?o:[])if(n$(t)){let e=await t.callTool(u.functionCalls);r.push(...e)}y++,c={role:"user",parts:r},p.contents=rV(p.contents),p.contents.push(t),p.contents.push(c),nW(p.config)&&(d.push(t),d.push(c))}return nW(p.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async e=>{var t,r,n,i,o;if(this.maybeMoveToResponseJsonSchem(e),nz(e.config)){let t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}let a=nK(e);if(a.length>0){let e=a.map(e=>`tools[${e}]`).join(", ");throw Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let l=null==(n=null==(r=null==(t=null==e?void 0:e.config)?void 0:t.toolConfig)?void 0:r.functionCallingConfig)?void 0:n.streamFunctionCallArguments,s=null==(o=null==(i=null==e?void 0:e.config)?void 0:i.automaticFunctionCalling)?void 0:o.disable;if(l&&!s)throw Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let r,n=[];if(null==e?void 0:e.generatedImages)for(let i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&(null==(t=null==i?void 0:i.safetyAttributes)?void 0:t.contentType)==="Positive Prompt"?r=null==i?void 0:i.safetyAttributes:n.push(i);return r?{generatedImages:n,positivePromptSafetyAttributes:r,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:e.sdkHttpResponse}}),this.list=async e=>{var t;let r={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase)if(null==(t=r.config)?void 0:t.filter)throw Error("Filtering tuned models list for Vertex AI is not currently supported");else r.config.filter="labels.tune-type:*";return new r9(ta.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(r),r)},this.editImage=async e=>{let t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));let r={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(r)},this.generateVideos=async e=>{var t,r,n,i,o,a;if((e.prompt||e.image||e.video)&&e.source)throw Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return!this.apiClient.isVertexAI()&&((null==(t=e.video)?void 0:t.uri)&&(null==(r=e.video)?void 0:r.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null==(i=null==(n=e.source)?void 0:n.video)?void 0:i.uri)&&(null==(a=null==(o=e.source)?void 0:o.video)?void 0:a.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&!e.config.responseJsonSchema&&Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema)}async processParamsMaybeAddMcpUsage(e){var t,r,n;let i=null==(t=e.config)?void 0:t.tools;if(!i)return e;let o=await Promise.all(i.map(async e=>n$(e)?await e.tool():e)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&nR(e.config.tools)){let t=Object.assign({},null!=(n=null==(r=e.config.httpOptions)?void 0:r.headers)?n:{});0===Object.keys(t).length&&(t=this.apiClient.getDefaultHeaders()),nD(t),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:t})}return a}async initAfcToolsMap(e){var t,r,n;let i=new Map;for(let o of null!=(r=null==(t=e.config)?void 0:t.tools)?r:[])if(n$(o))for(let e of null!=(n=(await o.tool()).functionDeclarations)?n:[]){if(!e.name)throw Error("Function declaration name is required.");if(i.has(e.name))throw Error(`Duplicate tool declaration name: ${e.name}`);i.set(e.name,o)}return i}async processAfcStream(e){var t,r,n;let i=null!=(n=null==(r=null==(t=e.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,o=!1,a=0;return function(e,t,r){return no(this,arguments,function*(){for(;a<i;){o&&(a++,o=!1);let y=yield ni(e.processParamsMaybeAddMcpUsage(r)),m=yield ni(e.generateContentStreamInternal(y)),g=[],v=[];try{for(var n,l,s,u,c,p,f,d=!0,h=(l=void 0,na(m));!(n=(f=yield ni(h.next())).done);d=!0)if(u=f.value,d=!1,yield yield ni(u),u.candidates&&(null==(c=u.candidates[0])?void 0:c.content)){for(let e of(v.push(u.candidates[0].content),null!=(p=u.candidates[0].content.parts)?p:[]))if(a<i&&e.functionCall){if(!e.functionCall.name)throw Error("Function call name was not returned by the model.");if(t.has(e.functionCall.name)){let r=yield ni(t.get(e.functionCall.name).callTool([e.functionCall]));g.push(...r)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${e.functionCall.name}`)}}}catch(e){l={error:e}}finally{try{!d&&!n&&(s=h.return)&&(yield ni(s.call(h)))}finally{if(l)throw l.error}}if(g.length>0){o=!0;let e=new rn;e.candidates=[{content:{role:"user",parts:g}}],yield yield ni(e);let t=[];t.push(...v),t.push({role:"user",parts:g});let n=rV(r.contents).concat(t);r.contents=n}else break}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n=nm(this.apiClient,e);return o=t8("{model}:generateContent",n._url),a=n._query,delete n._url,delete n._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=nv(e),r=new rn;return Object.assign(r,t),r})}{let t=ny(this.apiClient,e);return o=t8("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=ng(e),r=new rn;return Object.assign(r,t),r})}}async generateContentStreamInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n=nm(this.apiClient,e);return o=t8("{model}:streamGenerateContent?alt=sse",n._url),a=n._query,delete n._url,delete n._query,this.apiClient.requestStream({path:o,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(function(t){return no(this,arguments,function*(){var r,n,i,o;try{for(var a,l=!0,s=na(t);!(r=(a=yield ni(s.next())).done);l=!0){o=a.value,l=!1;let t=nv((yield ni(o.json())),e);t.sdkHttpResponse={headers:o.headers};let r=new rn;Object.assign(r,t),yield yield ni(r)}}catch(e){n={error:e}}finally{try{!l&&!r&&(i=s.return)&&(yield ni(i.call(s)))}finally{if(n)throw n.error}}})})}{let t=ny(this.apiClient,e);return o=t8("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query,this.apiClient.requestStream({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(function(t){return no(this,arguments,function*(){var r,n,i,o;try{for(var a,l=!0,s=na(t);!(r=(a=yield ni(s.next())).done);l=!0){o=a.value,l=!1;let t=ng((yield ni(o.json())),e);t.sdkHttpResponse={headers:o.headers};let r=new rn;Object.assign(r,t),yield yield ni(r)}}catch(e){n={error:e}}finally{try{!l&&!r&&(i=s.return)&&(yield ni(i.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n=function(e,t,r){let n,i,o,a,l,s={},u=t9(t,["model"]);null!=u&&t7(s,["_url","model"],rN(e,u));let c=t9(t,["contents"]);if(null!=c){let t=rB(e,c);Array.isArray(t)&&(t=t.map(e=>e)),t7(s,["instances[]","content"],t)}let p=t9(t,["config"]);return null!=p&&(n=t9(p,["taskType"]),void 0!==s&&null!=n&&t7(s,["instances[]","task_type"],n),i=t9(p,["title"]),void 0!==s&&null!=i&&t7(s,["instances[]","title"],i),o=t9(p,["outputDimensionality"]),void 0!==s&&null!=o&&t7(s,["parameters","outputDimensionality"],o),a=t9(p,["mimeType"]),void 0!==s&&null!=a&&t7(s,["instances[]","mimeType"],a),l=t9(p,["autoTruncate"]),void 0!==s&&null!=l&&t7(s,["parameters","autoTruncate"],l)),s}(this.apiClient,e);return o=t8("{model}:predict",n._url),a=n._query,delete n._url,delete n._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["predictions[]","embeddings"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l;return r={},null!=(n=t9(e,["values"]))&&t7(r,["values"],n),null!=(i=t9(e,["statistics"]))&&t7(r,["statistics"],(o={},null!=(a=t9(t=i,["truncated"]))&&t7(o,["truncated"],a),null!=(l=t9(t,["token_count"]))&&t7(o,["tokenCount"],l),o)),r})),t7(r,["embeddings"],e)}let o=t9(e,["metadata"]);return null!=o&&t7(r,["metadata"],o),r}(e),r=new ri;return Object.assign(r,t),r})}{let t=function(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let t=rB(e,o);Array.isArray(t)&&(t=t.map(e=>e)),t7(n,["requests[]","content"],t)}let a=t9(t,["config"]);null!=a&&function(e,t,r){let n=t9(e,["taskType"]);void 0!==t&&null!=n&&t7(t,["requests[]","taskType"],n);let i=t9(e,["title"]);void 0!==t&&null!=i&&t7(t,["requests[]","title"],i);let o=t9(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&t7(t,["requests[]","outputDimensionality"],o),void 0!==t9(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==t9(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.")}(a,n);let l=t9(t,["model"]);return void 0!==l&&t7(n,["requests[]","model"],rN(e,l)),n}(this.apiClient,e);return o=t8("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["embeddings"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["embeddings"],e)}let o=t9(e,["metadata"]);return null!=o&&t7(r,["metadata"],o),r}(e),r=new ri;return Object.assign(r,t),r})}}async generateImagesInternal(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a,u,c,p,f,d,h,y,m,g,v,b,E,O,w,_,x,S,A,I=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["_url","model"],rN(o,i)),null!=(a=t9(e,["prompt"]))&&t7(n,["instances[0]","prompt"],a),null!=(u=t9(e,["config"]))&&(c=t9(u,["outputGcsUri"]),void 0!==n&&null!=c&&t7(n,["parameters","storageUri"],c),p=t9(u,["negativePrompt"]),void 0!==n&&null!=p&&t7(n,["parameters","negativePrompt"],p),f=t9(u,["numberOfImages"]),void 0!==n&&null!=f&&t7(n,["parameters","sampleCount"],f),d=t9(u,["aspectRatio"]),void 0!==n&&null!=d&&t7(n,["parameters","aspectRatio"],d),h=t9(u,["guidanceScale"]),void 0!==n&&null!=h&&t7(n,["parameters","guidanceScale"],h),y=t9(u,["seed"]),void 0!==n&&null!=y&&t7(n,["parameters","seed"],y),m=t9(u,["safetyFilterLevel"]),void 0!==n&&null!=m&&t7(n,["parameters","safetySetting"],m),g=t9(u,["personGeneration"]),void 0!==n&&null!=g&&t7(n,["parameters","personGeneration"],g),v=t9(u,["includeSafetyAttributes"]),void 0!==n&&null!=v&&t7(n,["parameters","includeSafetyAttributes"],v),b=t9(u,["includeRaiReason"]),void 0!==n&&null!=b&&t7(n,["parameters","includeRaiReason"],b),E=t9(u,["language"]),void 0!==n&&null!=E&&t7(n,["parameters","language"],E),O=t9(u,["outputMimeType"]),void 0!==n&&null!=O&&t7(n,["parameters","outputOptions","mimeType"],O),w=t9(u,["outputCompressionQuality"]),void 0!==n&&null!=w&&t7(n,["parameters","outputOptions","compressionQuality"],w),_=t9(u,["addWatermark"]),void 0!==n&&null!=_&&t7(n,["parameters","addWatermark"],_),x=t9(u,["labels"]),void 0!==n&&null!=x&&t7(n,["labels"],x),S=t9(u,["imageSize"]),void 0!==n&&null!=S&&t7(n,["parameters","sampleImageSize"],S),A=t9(u,["enhancePrompt"]),void 0!==n&&null!=A&&t7(n,["parameters","enhancePrompt"],A)),n);return l=t8("{model}:predict",I._url),s=I._query,delete I._url,delete I._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(I),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["predictions"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>nb(e))),t7(r,["generatedImages"],e)}let o=t9(e,["positivePromptSafetyAttributes"]);return null!=o&&t7(r,["positivePromptSafetyAttributes"],nA(o)),r}(e),r=new ro;return Object.assign(r,t),r})}{let t,r,o,u,c=(a=this.apiClient,t={},null!=(r=t9(e,["model"]))&&t7(t,["_url","model"],rN(a,r)),null!=(o=t9(e,["prompt"]))&&t7(t,["instances[0]","prompt"],o),null!=(u=t9(e,["config"]))&&function(e,t,r){if(void 0!==t9(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==t9(e,["negativePrompt"]))throw Error("negativePrompt parameter is not supported in Gemini API.");let n=t9(e,["numberOfImages"]);void 0!==t&&null!=n&&t7(t,["parameters","sampleCount"],n);let i=t9(e,["aspectRatio"]);void 0!==t&&null!=i&&t7(t,["parameters","aspectRatio"],i);let o=t9(e,["guidanceScale"]);if(void 0!==t&&null!=o&&t7(t,["parameters","guidanceScale"],o),void 0!==t9(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let a=t9(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&t7(t,["parameters","safetySetting"],a);let l=t9(e,["personGeneration"]);void 0!==t&&null!=l&&t7(t,["parameters","personGeneration"],l);let s=t9(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&t7(t,["parameters","includeSafetyAttributes"],s);let u=t9(e,["includeRaiReason"]);void 0!==t&&null!=u&&t7(t,["parameters","includeRaiReason"],u);let c=t9(e,["language"]);void 0!==t&&null!=c&&t7(t,["parameters","language"],c);let p=t9(e,["outputMimeType"]);void 0!==t&&null!=p&&t7(t,["parameters","outputOptions","mimeType"],p);let f=t9(e,["outputCompressionQuality"]);if(void 0!==t&&null!=f&&t7(t,["parameters","outputOptions","compressionQuality"],f),void 0!==t9(e,["addWatermark"]))throw Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==t9(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let d=t9(e,["imageSize"]);if(void 0!==t&&null!=d&&t7(t,["parameters","sampleImageSize"],d),void 0!==t9(e,["enhancePrompt"]))throw Error("enhancePrompt parameter is not supported in Gemini API.")}(u,t),t);return l=t8("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["predictions"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>{var t,r;let n,i,o,a,l,s,u;return n={},null!=(i=t9(t=e,["_self"]))&&t7(n,["image"],(o={},null!=(a=t9(r=i,["bytesBase64Encoded"]))&&t7(o,["imageBytes"],re(a)),null!=(l=t9(r,["mimeType"]))&&t7(o,["mimeType"],l),o)),null!=(s=t9(t,["raiFilteredReason"]))&&t7(n,["raiFilteredReason"],s),null!=(u=t9(t,["_self"]))&&t7(n,["safetyAttributes"],nS(u)),n})),t7(r,["generatedImages"],e)}let o=t9(e,["positivePromptSafetyAttributes"]);return null!=o&&t7(r,["positivePromptSafetyAttributes"],nS(o)),r}(e),r=new ro;return Object.assign(r,t),r})}}async editImageInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let o=function(e,t,r){let n,i,o,a,l,s,u,c,p,f,d,h,y,m,g,v,b,E={},O=t9(t,["model"]);null!=O&&t7(E,["_url","model"],rN(e,O));let w=t9(t,["prompt"]);null!=w&&t7(E,["instances[0]","prompt"],w);let _=t9(t,["referenceImages"]);if(null!=_){let e=_;Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r,n,i,o,a,l,s,u={},c=t9(e,["referenceImage"]);null!=c&&t7(u,["referenceImage"],nw(c));let p=t9(e,["referenceId"]);null!=p&&t7(u,["referenceId"],p);let f=t9(e,["referenceType"]);null!=f&&t7(u,["referenceType"],f);let d=t9(e,["maskImageConfig"]);null!=d&&t7(u,["maskImageConfig"],(r={},null!=(n=t9(d,["maskMode"]))&&t7(r,["maskMode"],n),null!=(i=t9(d,["segmentationClasses"]))&&t7(r,["maskClasses"],i),null!=(o=t9(d,["maskDilation"]))&&t7(r,["dilation"],o),r));let h=t9(e,["controlImageConfig"]);null!=h&&t7(u,["controlImageConfig"],(a={},null!=(l=t9(h,["controlType"]))&&t7(a,["controlType"],l),null!=(s=t9(h,["enableControlImageComputation"]))&&t7(a,["computeControl"],s),a));let y=t9(e,["styleImageConfig"]);null!=y&&t7(u,["styleImageConfig"],y);let m=t9(e,["subjectImageConfig"]);return null!=m&&t7(u,["subjectImageConfig"],m),u})(e))),t7(E,["instances[0]","referenceImages"],e)}let x=t9(t,["config"]);return null!=x&&(n=t9(x,["outputGcsUri"]),void 0!==E&&null!=n&&t7(E,["parameters","storageUri"],n),i=t9(x,["negativePrompt"]),void 0!==E&&null!=i&&t7(E,["parameters","negativePrompt"],i),o=t9(x,["numberOfImages"]),void 0!==E&&null!=o&&t7(E,["parameters","sampleCount"],o),a=t9(x,["aspectRatio"]),void 0!==E&&null!=a&&t7(E,["parameters","aspectRatio"],a),l=t9(x,["guidanceScale"]),void 0!==E&&null!=l&&t7(E,["parameters","guidanceScale"],l),s=t9(x,["seed"]),void 0!==E&&null!=s&&t7(E,["parameters","seed"],s),u=t9(x,["safetyFilterLevel"]),void 0!==E&&null!=u&&t7(E,["parameters","safetySetting"],u),c=t9(x,["personGeneration"]),void 0!==E&&null!=c&&t7(E,["parameters","personGeneration"],c),p=t9(x,["includeSafetyAttributes"]),void 0!==E&&null!=p&&t7(E,["parameters","includeSafetyAttributes"],p),f=t9(x,["includeRaiReason"]),void 0!==E&&null!=f&&t7(E,["parameters","includeRaiReason"],f),d=t9(x,["language"]),void 0!==E&&null!=d&&t7(E,["parameters","language"],d),h=t9(x,["outputMimeType"]),void 0!==E&&null!=h&&t7(E,["parameters","outputOptions","mimeType"],h),y=t9(x,["outputCompressionQuality"]),void 0!==E&&null!=y&&t7(E,["parameters","outputOptions","compressionQuality"],y),m=t9(x,["addWatermark"]),void 0!==E&&null!=m&&t7(E,["parameters","addWatermark"],m),g=t9(x,["labels"]),void 0!==E&&null!=g&&t7(E,["labels"],g),v=t9(x,["editMode"]),void 0!==E&&null!=v&&t7(E,["parameters","editMode"],v),b=t9(x,["baseSteps"]),void 0!==E&&null!=b&&t7(E,["parameters","editConfig","baseSteps"],b)),E}(this.apiClient,e);return n=t8("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["predictions"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>nb(e))),t7(r,["generatedImages"],e)}return r}(e),r=new ra;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r,n;let i="",o={};if(this.apiClient.isVertexAI()){let a,l,s,u,c,p,f,d,h,y,m,g,v,b,E,O,w=(n=this.apiClient,a={},null!=(l=t9(e,["model"]))&&t7(a,["_url","model"],rN(n,l)),null!=(s=t9(e,["image"]))&&t7(a,["instances[0]","image"],nw(s)),null!=(u=t9(e,["upscaleFactor"]))&&t7(a,["parameters","upscaleConfig","upscaleFactor"],u),null!=(c=t9(e,["config"]))&&(p=t9(c,["outputGcsUri"]),void 0!==a&&null!=p&&t7(a,["parameters","storageUri"],p),f=t9(c,["safetyFilterLevel"]),void 0!==a&&null!=f&&t7(a,["parameters","safetySetting"],f),d=t9(c,["personGeneration"]),void 0!==a&&null!=d&&t7(a,["parameters","personGeneration"],d),h=t9(c,["includeRaiReason"]),void 0!==a&&null!=h&&t7(a,["parameters","includeRaiReason"],h),y=t9(c,["outputMimeType"]),void 0!==a&&null!=y&&t7(a,["parameters","outputOptions","mimeType"],y),m=t9(c,["outputCompressionQuality"]),void 0!==a&&null!=m&&t7(a,["parameters","outputOptions","compressionQuality"],m),g=t9(c,["enhanceInputImage"]),void 0!==a&&null!=g&&t7(a,["parameters","upscaleConfig","enhanceInputImage"],g),v=t9(c,["imagePreservationFactor"]),void 0!==a&&null!=v&&t7(a,["parameters","upscaleConfig","imagePreservationFactor"],v),b=t9(c,["labels"]),void 0!==a&&null!=b&&t7(a,["labels"],b),E=t9(c,["numberOfImages"]),void 0!==a&&null!=E&&t7(a,["parameters","sampleCount"],E),O=t9(c,["mode"]),void 0!==a&&null!=O&&t7(a,["parameters","mode"],O)),a);return i=t8("{model}:predict",w._url),o=w._query,delete w._url,delete w._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(w),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["predictions"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>nb(e))),t7(r,["generatedImages"],e)}return r}(e),r=new rl;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r,n;let i="",o={};if(this.apiClient.isVertexAI()){let a,l,s,u,c,p,f,d,h,y,m,g,v,b,E,O=(n=this.apiClient,a={},null!=(l=t9(e,["model"]))&&t7(a,["_url","model"],rN(n,l)),null!=(s=t9(e,["source"]))&&function(e,t,r){let n=t9(e,["prompt"]);void 0!==t&&null!=n&&t7(t,["instances[0]","prompt"],n);let i=t9(e,["personImage"]);void 0!==t&&null!=i&&t7(t,["instances[0]","personImage","image"],nw(i));let o=t9(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>{let t,r;return t={},null!=(r=t9(e,["productImage"]))&&t7(t,["image"],nw(r)),t})),t7(t,["instances[0]","productImages"],e)}}(s,a),null!=(u=t9(e,["config"]))&&(c=t9(u,["numberOfImages"]),void 0!==a&&null!=c&&t7(a,["parameters","sampleCount"],c),p=t9(u,["baseSteps"]),void 0!==a&&null!=p&&t7(a,["parameters","baseSteps"],p),f=t9(u,["outputGcsUri"]),void 0!==a&&null!=f&&t7(a,["parameters","storageUri"],f),d=t9(u,["seed"]),void 0!==a&&null!=d&&t7(a,["parameters","seed"],d),h=t9(u,["safetyFilterLevel"]),void 0!==a&&null!=h&&t7(a,["parameters","safetySetting"],h),y=t9(u,["personGeneration"]),void 0!==a&&null!=y&&t7(a,["parameters","personGeneration"],y),m=t9(u,["addWatermark"]),void 0!==a&&null!=m&&t7(a,["parameters","addWatermark"],m),g=t9(u,["outputMimeType"]),void 0!==a&&null!=g&&t7(a,["parameters","outputOptions","mimeType"],g),v=t9(u,["outputCompressionQuality"]),void 0!==a&&null!=v&&t7(a,["parameters","outputOptions","compressionQuality"],v),b=t9(u,["enhancePrompt"]),void 0!==a&&null!=b&&t7(a,["parameters","enhancePrompt"],b),E=t9(u,["labels"]),void 0!==a&&null!=E&&t7(a,["labels"],E)),a);return i=t8("{model}:predict",O._url),o=O._query,delete O._url,delete O._query,this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(O),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e,t){let r={},n=t9(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>nb(e))),t7(r,["generatedImages"],e)}return r}(e),r=new rs;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r,n,i,o;let a="",l={};if(this.apiClient.isVertexAI()){let s,u,c,p,f,d,h,y,m,g,v,b,E,O,w,_=(n=this.apiClient,d={},null!=(h=t9(e,["model"]))&&t7(d,["_url","model"],rN(n,h)),null!=(y=t9(e,["source"]))&&(i=y,o=d,c=t9(i,["prompt"]),void 0!==o&&null!=c&&t7(o,["instances[0]","prompt"],c),p=t9(i,["image"]),void 0!==o&&null!=p&&t7(o,["instances[0]","image"],nw(p)),f=t9(i,["scribbleImage"]),void 0!==o&&null!=f&&t7(o,["instances[0]","scribble"],(s={},null!=(u=t9(f,["image"]))&&t7(s,["image"],nw(u)),s))),null!=(m=t9(e,["config"]))&&(g=t9(m,["mode"]),void 0!==d&&null!=g&&t7(d,["parameters","mode"],g),v=t9(m,["maxPredictions"]),void 0!==d&&null!=v&&t7(d,["parameters","maxPredictions"],v),b=t9(m,["confidenceThreshold"]),void 0!==d&&null!=b&&t7(d,["parameters","confidenceThreshold"],b),E=t9(m,["maskDilation"]),void 0!==d&&null!=E&&t7(d,["parameters","maskDilation"],E),O=t9(m,["binaryColorThreshold"]),void 0!==d&&null!=O&&t7(d,["parameters","binaryColorThreshold"],O),w=t9(m,["labels"]),void 0!==d&&null!=w&&t7(d,["labels"],w)),d);return a=t8("{model}:predict",_._url),l=_._query,delete _._url,delete _._query,this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(_),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e,t){let r={},n=t9(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e,t){let r={},n=t9(e,["_self"]);null!=n&&t7(r,["mask"],nE(n));let i=t9(e,["labels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["labels"],e)}return r})(e))),t7(r,["generatedMasks"],e)}return r}(e),r=new ru;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["_url","name"],rN(o,i)),n);return l=t8("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>nx(e))}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["model"]))&&t7(t,["_url","name"],rN(a,r)),t);return l=t8("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>n_(e))}}async listInternal(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a,u,c,p,f=(o=this.apiClient,n={},null!=(i=t9(e,["config"]))&&(a=t9(i,["pageSize"]),void 0!==n&&null!=a&&t7(n,["_query","pageSize"],a),u=t9(i,["pageToken"]),void 0!==n&&null!=u&&t7(n,["_query","pageToken"],u),c=t9(i,["filter"]),void 0!==n&&null!=c&&t7(n,["_query","filter"],c),p=t9(i,["queryBase"]),void 0!==n&&null!=p&&t7(n,["_url","models_url"],rQ(o,p))),n);return l=t8("{models_url}",f._url),s=f._query,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(f),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["nextPageToken"]);null!=i&&t7(r,["nextPageToken"],i);let o=t9(e,["_self"]);if(null!=o){let e=r0(o);Array.isArray(e)&&(e=e.map(e=>nx(e))),t7(r,["models"],e)}return r}(e),r=new rc;return Object.assign(r,t),r})}{let t,r,o,u,c,p,f=(a=this.apiClient,t={},null!=(r=t9(e,["config"]))&&(o=t9(r,["pageSize"]),void 0!==t&&null!=o&&t7(t,["_query","pageSize"],o),u=t9(r,["pageToken"]),void 0!==t&&null!=u&&t7(t,["_query","pageToken"],u),c=t9(r,["filter"]),void 0!==t&&null!=c&&t7(t,["_query","filter"],c),p=t9(r,["queryBase"]),void 0!==t&&null!=p&&t7(t,["_url","models_url"],rQ(a,p))),t);return l=t8("{models_url}",f._url),s=f._query,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(f),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["nextPageToken"]);null!=i&&t7(r,["nextPageToken"],i);let o=t9(e,["_self"]);if(null!=o){let e=r0(o);Array.isArray(e)&&(e=e.map(e=>n_(e))),t7(r,["models"],e)}return r}(e),r=new rc;return Object.assign(r,t),r})}}async update(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a,u,c,p,f=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["_url","model"],rN(o,i)),null!=(a=t9(e,["config"]))&&(u=t9(a,["displayName"]),void 0!==n&&null!=u&&t7(n,["displayName"],u),c=t9(a,["description"]),void 0!==n&&null!=c&&t7(n,["description"],c),p=t9(a,["defaultCheckpointId"]),void 0!==n&&null!=p&&t7(n,["defaultCheckpointId"],p)),n);return l=t8("{model}",f._url),s=f._query,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>nx(e))}{let t,r,o,u,c,p,f=(a=this.apiClient,t={},null!=(r=t9(e,["model"]))&&t7(t,["_url","name"],rN(a,r)),null!=(o=t9(e,["config"]))&&(u=t9(o,["displayName"]),void 0!==t&&null!=u&&t7(t,["displayName"],u),c=t9(o,["description"]),void 0!==t&&null!=c&&t7(t,["description"],c),p=t9(o,["defaultCheckpointId"]),void 0!==t&&null!=p&&t7(t,["defaultCheckpointId"],p)),t);return l=t8("{name}",f._url),s=f._query,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>n_(e))}}async delete(e){var t,r,n,i,o,a;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,a=(o=this.apiClient,n={},null!=(i=t9(e,["model"]))&&t7(n,["_url","name"],rN(o,i)),n);return l=t8("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rp;return Object.assign(i,n),i})}{let t,r,o=(a=this.apiClient,t={},null!=(r=t9(e,["model"]))&&t7(t,["_url","name"],rN(a,r)),t);return l=t8("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rp;return Object.assign(i,n),i})}}async countTokens(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n=function(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>e)),t7(n,["contents"],e)}let a=t9(t,["config"]);return null!=a&&function(e,t,r){let n=t9(e,["systemInstruction"]);void 0!==t&&null!=n&&t7(t,["systemInstruction"],rH(n));let i=t9(e,["tools"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>nI(e))),t7(t,["tools"],e)}let o=t9(e,["generationConfig"]);void 0!==t&&null!=o&&t7(t,["generationConfig"],function(e,t){let r={},n=t9(e,["modelSelectionConfig"]);null!=n&&t7(r,["modelConfig"],n);let i=t9(e,["responseJsonSchema"]);null!=i&&t7(r,["responseJsonSchema"],i);let o=t9(e,["audioTimestamp"]);null!=o&&t7(r,["audioTimestamp"],o);let a=t9(e,["candidateCount"]);null!=a&&t7(r,["candidateCount"],a);let l=t9(e,["enableAffectiveDialog"]);null!=l&&t7(r,["enableAffectiveDialog"],l);let s=t9(e,["frequencyPenalty"]);null!=s&&t7(r,["frequencyPenalty"],s);let u=t9(e,["logprobs"]);null!=u&&t7(r,["logprobs"],u);let c=t9(e,["maxOutputTokens"]);null!=c&&t7(r,["maxOutputTokens"],c);let p=t9(e,["mediaResolution"]);null!=p&&t7(r,["mediaResolution"],p);let f=t9(e,["presencePenalty"]);null!=f&&t7(r,["presencePenalty"],f);let d=t9(e,["responseLogprobs"]);null!=d&&t7(r,["responseLogprobs"],d);let h=t9(e,["responseMimeType"]);null!=h&&t7(r,["responseMimeType"],h);let y=t9(e,["responseModalities"]);null!=y&&t7(r,["responseModalities"],y);let m=t9(e,["responseSchema"]);null!=m&&t7(r,["responseSchema"],m);let g=t9(e,["routingConfig"]);null!=g&&t7(r,["routingConfig"],g);let v=t9(e,["seed"]);null!=v&&t7(r,["seed"],v);let b=t9(e,["speechConfig"]);null!=b&&t7(r,["speechConfig"],b);let E=t9(e,["stopSequences"]);null!=E&&t7(r,["stopSequences"],E);let O=t9(e,["temperature"]);null!=O&&t7(r,["temperature"],O);let w=t9(e,["thinkingConfig"]);null!=w&&t7(r,["thinkingConfig"],w);let _=t9(e,["topK"]);null!=_&&t7(r,["topK"],_);let x=t9(e,["topP"]);if(null!=x&&t7(r,["topP"],x),void 0!==t9(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}(o))}(a,n),n}(this.apiClient,e);return o=t8("{model}:countTokens",n._url),a=n._query,delete n._url,delete n._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),null!=(n=t9(e,["totalTokens"]))&&t7(t,["totalTokens"],n),t),o=new rf;return Object.assign(o,i),o})}{let t=function(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>nh(e))),t7(n,["contents"],e)}let a=t9(t,["config"]);return null!=a&&function(e,t){if(void 0!==t9(e,["systemInstruction"]))throw Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==t9(e,["tools"]))throw Error("tools parameter is not supported in Gemini API.");if(void 0!==t9(e,["generationConfig"]))throw Error("generationConfig parameter is not supported in Gemini API.")}(a),n}(this.apiClient,e);return o=t8("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,o=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),null!=(n=t9(e,["totalTokens"]))&&t7(t,["totalTokens"],n),null!=(i=t9(e,["cachedContentTokenCount"]))&&t7(t,["cachedContentTokenCount"],i),t),a=new rf;return Object.assign(a,o),a})}}async computeTokens(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let o=function(e,t,r){let n={},i=t9(t,["model"]);null!=i&&t7(n,["_url","model"],rN(e,i));let o=t9(t,["contents"]);if(null!=o){let e=rV(o);Array.isArray(e)&&(e=e.map(e=>e)),t7(n,["contents"],e)}return n}(this.apiClient,e);return n=t8("{model}:computeTokens",o._url),i=o._query,delete o._url,delete o._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["tokensInfo"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(r,["tokensInfo"],e)}return r}(e),r=new rd;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,n,i,o,a,l,s,u,c;let p="",f={};if(this.apiClient.isVertexAI()){let n,i,a,u,c,d,h,y,m,g,v=(o=this.apiClient,u={},null!=(c=t9(e,["model"]))&&t7(u,["_url","model"],rN(o,c)),null!=(d=t9(e,["prompt"]))&&t7(u,["instances[0]","prompt"],d),null!=(h=t9(e,["image"]))&&t7(u,["instances[0]","image"],nw(h)),null!=(y=t9(e,["video"]))&&t7(u,["instances[0]","video"],nC(y)),null!=(m=t9(e,["source"]))&&(l=m,s=u,n=t9(l,["prompt"]),void 0!==s&&null!=n&&t7(s,["instances[0]","prompt"],n),i=t9(l,["image"]),void 0!==s&&null!=i&&t7(s,["instances[0]","image"],nw(i)),a=t9(l,["video"]),void 0!==s&&null!=a&&t7(s,["instances[0]","video"],nC(a))),null!=(g=t9(e,["config"]))&&function(e,t,r){var n;let i,o,a,l=t9(e,["numberOfVideos"]);void 0!==t&&null!=l&&t7(t,["parameters","sampleCount"],l);let s=t9(e,["outputGcsUri"]);void 0!==t&&null!=s&&t7(t,["parameters","storageUri"],s);let u=t9(e,["fps"]);void 0!==t&&null!=u&&t7(t,["parameters","fps"],u);let c=t9(e,["durationSeconds"]);void 0!==t&&null!=c&&t7(t,["parameters","durationSeconds"],c);let p=t9(e,["seed"]);void 0!==t&&null!=p&&t7(t,["parameters","seed"],p);let f=t9(e,["aspectRatio"]);void 0!==t&&null!=f&&t7(t,["parameters","aspectRatio"],f);let d=t9(e,["resolution"]);void 0!==t&&null!=d&&t7(t,["parameters","resolution"],d);let h=t9(e,["personGeneration"]);void 0!==t&&null!=h&&t7(t,["parameters","personGeneration"],h);let y=t9(e,["pubsubTopic"]);void 0!==t&&null!=y&&t7(t,["parameters","pubsubTopic"],y);let m=t9(e,["negativePrompt"]);void 0!==t&&null!=m&&t7(t,["parameters","negativePrompt"],m);let g=t9(e,["enhancePrompt"]);void 0!==t&&null!=g&&t7(t,["parameters","enhancePrompt"],g);let v=t9(e,["generateAudio"]);void 0!==t&&null!=v&&t7(t,["parameters","generateAudio"],v);let b=t9(e,["lastFrame"]);void 0!==t&&null!=b&&t7(t,["instances[0]","lastFrame"],nw(b));let E=t9(e,["referenceImages"]);if(void 0!==t&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i;return r={},null!=(n=t9(t=e,["image"]))&&t7(r,["image"],nw(n)),null!=(i=t9(t,["referenceType"]))&&t7(r,["referenceType"],i),r})),t7(t,["instances[0]","referenceImages"],e)}let O=t9(e,["mask"]);void 0!==t&&null!=O&&t7(t,["instances[0]","mask"],(i={},null!=(o=t9(n=O,["image"]))&&t7(i,["_self"],nw(o)),null!=(a=t9(n,["maskMode"]))&&t7(i,["maskMode"],a),i));let w=t9(e,["compressionQuality"]);void 0!==t&&null!=w&&t7(t,["parameters","compressionQuality"],w)}(g,u),u);return p=t8("{model}:predictLongRunning",v._url),f=v._query,delete v._url,delete v._query,this.apiClient.request({path:p,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,i,o,a,l=(t={},null!=(r=t9(e,["name"]))&&t7(t,["name"],r),null!=(n=t9(e,["metadata"]))&&t7(t,["metadata"],n),null!=(i=t9(e,["done"]))&&t7(t,["done"],i),null!=(o=t9(e,["error"]))&&t7(t,["error"],o),null!=(a=t9(e,["response"]))&&t7(t,["response"],function(e,t){let r={},n=t9(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l;return r={},null!=(n=t9(e,["_self"]))&&t7(r,["video"],(i={},null!=(o=t9(t=n,["gcsUri"]))&&t7(i,["uri"],o),null!=(a=t9(t,["bytesBase64Encoded"]))&&t7(i,["videoBytes"],re(a)),null!=(l=t9(t,["mimeType"]))&&t7(i,["mimeType"],l),i)),r})),t7(r,["generatedVideos"],e)}let i=t9(e,["raiMediaFilteredCount"]);null!=i&&t7(r,["raiMediaFilteredCount"],i);let o=t9(e,["raiMediaFilteredReasons"]);return null!=o&&t7(r,["raiMediaFilteredReasons"],o),r}(a)),t),s=new rh;return Object.assign(s,l),s})}{let t,r,o,l,s,d,h,y,m,g,v=(a=this.apiClient,l={},null!=(s=t9(e,["model"]))&&t7(l,["_url","model"],rN(a,s)),null!=(d=t9(e,["prompt"]))&&t7(l,["instances[0]","prompt"],d),null!=(h=t9(e,["image"]))&&t7(l,["instances[0]","image"],nO(h)),null!=(y=t9(e,["video"]))&&t7(l,["instances[0]","video"],nT(y)),null!=(m=t9(e,["source"]))&&(u=m,c=l,t=t9(u,["prompt"]),void 0!==c&&null!=t&&t7(c,["instances[0]","prompt"],t),r=t9(u,["image"]),void 0!==c&&null!=r&&t7(c,["instances[0]","image"],nO(r)),o=t9(u,["video"]),void 0!==c&&null!=o&&t7(c,["instances[0]","video"],nT(o))),null!=(g=t9(e,["config"]))&&function(e,t,r){let n=t9(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&t7(t,["parameters","sampleCount"],n),void 0!==t9(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==t9(e,["fps"]))throw Error("fps parameter is not supported in Gemini API.");let i=t9(e,["durationSeconds"]);if(void 0!==t&&null!=i&&t7(t,["parameters","durationSeconds"],i),void 0!==t9(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let o=t9(e,["aspectRatio"]);void 0!==t&&null!=o&&t7(t,["parameters","aspectRatio"],o);let a=t9(e,["resolution"]);void 0!==t&&null!=a&&t7(t,["parameters","resolution"],a);let l=t9(e,["personGeneration"]);if(void 0!==t&&null!=l&&t7(t,["parameters","personGeneration"],l),void 0!==t9(e,["pubsubTopic"]))throw Error("pubsubTopic parameter is not supported in Gemini API.");let s=t9(e,["negativePrompt"]);void 0!==t&&null!=s&&t7(t,["parameters","negativePrompt"],s);let u=t9(e,["enhancePrompt"]);if(void 0!==t&&null!=u&&t7(t,["parameters","enhancePrompt"],u),void 0!==t9(e,["generateAudio"]))throw Error("generateAudio parameter is not supported in Gemini API.");let c=t9(e,["lastFrame"]);void 0!==t&&null!=c&&t7(t,["instances[0]","lastFrame"],nO(c));let p=t9(e,["referenceImages"]);if(void 0!==t&&null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i;return r={},null!=(n=t9(t=e,["image"]))&&t7(r,["image"],nO(n)),null!=(i=t9(t,["referenceType"]))&&t7(r,["referenceType"],i),r})),t7(t,["instances[0]","referenceImages"],e)}if(void 0!==t9(e,["mask"]))throw Error("mask parameter is not supported in Gemini API.");if(void 0!==t9(e,["compressionQuality"]))throw Error("compressionQuality parameter is not supported in Gemini API.")}(g,l),l);return p=t8("{model}:predictLongRunning",v._url),f=v._query,delete v._url,delete v._query,this.apiClient.request({path:p,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,i,o,a,l=(t={},null!=(r=t9(e,["name"]))&&t7(t,["name"],r),null!=(n=t9(e,["metadata"]))&&t7(t,["metadata"],n),null!=(i=t9(e,["done"]))&&t7(t,["done"],i),null!=(o=t9(e,["error"]))&&t7(t,["error"],o),null!=(a=t9(e,["response","generateVideoResponse"]))&&t7(t,["response"],function(e,t){let r={},n=t9(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l;return r={},null!=(n=t9(e,["video"]))&&t7(r,["video"],(i={},null!=(o=t9(t=n,["uri"]))&&t7(i,["uri"],o),null!=(a=t9(t,["encodedVideo"]))&&t7(i,["videoBytes"],re(a)),null!=(l=t9(t,["encoding"]))&&t7(i,["mimeType"],l),i)),r})),t7(r,["generatedVideos"],e)}let i=t9(e,["raiMediaFilteredCount"]);null!=i&&t7(r,["raiMediaFilteredCount"],i);let o=t9(e,["raiMediaFilteredReasons"]);return null!=o&&t7(r,["raiMediaFilteredReasons"],o),r}(a)),t),s=new rh;return Object.assign(s,l),s})}}}class nY extends t4{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=t9(e,["operationName"]))&&t7(n,["_url","operationName"],i),n);return o=t8("{operationName}",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}{let t,r,l=(t={},null!=(r=t9(e,["operationName"]))&&t7(t,["_url","operationName"],r),t);return o=t8("{operationName}",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json())}}async fetchPredictVideosOperationInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let o,a,l,s=(o={},null!=(a=t9(e,["operationName"]))&&t7(o,["operationName"],a),null!=(l=t9(e,["resourceName"]))&&t7(o,["_url","resourceName"],l),o);return n=t8("{resourceName}:fetchPredictOperation",s._url),i=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}throw Error("This method is only supported by the Vertex AI.")}}class nX extends t4{constructor(e){super(),this.apiClient=e}async create(e){var t,r,n,i,o;let a="",l={};if(this.apiClient.isVertexAI())throw Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let s,u,c,p,f,d,h,y,m,g,v=(n=this.apiClient,p={},null!=(f=t9(e,["config"]))&&t7(p,["config"],(d=t9(f,["expireTime"]),void 0!==p&&null!=d&&t7(p,["expireTime"],d),h=t9(f,["newSessionExpireTime"]),void 0!==p&&null!=h&&t7(p,["newSessionExpireTime"],h),y=t9(f,["uses"]),void 0!==p&&null!=y&&t7(p,["uses"],y),m=t9(f,["liveConnectConstraints"]),void 0!==p&&null!=m&&t7(p,["bidiGenerateContentSetup"],(i=n,s={},null!=(u=t9(o=m,["model"]))&&t7(s,["setup","model"],rN(i,u)),null!=(c=t9(o,["config"]))&&t7(s,["config"],function(e,t){let r=t9(e,["generationConfig"]);void 0!==t&&null!=r&&t7(t,["setup","generationConfig"],r);let n=t9(e,["responseModalities"]);void 0!==t&&null!=n&&t7(t,["setup","generationConfig","responseModalities"],n);let i=t9(e,["temperature"]);void 0!==t&&null!=i&&t7(t,["setup","generationConfig","temperature"],i);let o=t9(e,["topP"]);void 0!==t&&null!=o&&t7(t,["setup","generationConfig","topP"],o);let a=t9(e,["topK"]);void 0!==t&&null!=a&&t7(t,["setup","generationConfig","topK"],a);let l=t9(e,["maxOutputTokens"]);void 0!==t&&null!=l&&t7(t,["setup","generationConfig","maxOutputTokens"],l);let s=t9(e,["mediaResolution"]);void 0!==t&&null!=s&&t7(t,["setup","generationConfig","mediaResolution"],s);let u=t9(e,["seed"]);void 0!==t&&null!=u&&t7(t,["setup","generationConfig","seed"],u);let c=t9(e,["speechConfig"]);void 0!==t&&null!=c&&t7(t,["setup","generationConfig","speechConfig"],rK(c));let p=t9(e,["thinkingConfig"]);void 0!==t&&null!=p&&t7(t,["setup","generationConfig","thinkingConfig"],p);let f=t9(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&t7(t,["setup","generationConfig","enableAffectiveDialog"],f);let d=t9(e,["systemInstruction"]);void 0!==t&&null!=d&&t7(t,["setup","systemInstruction"],function(e){let t={},r=t9(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f,d;return r={},null!=(n=t9(t=e,["mediaResolution"]))&&t7(r,["mediaResolution"],n),null!=(i=t9(t,["codeExecutionResult"]))&&t7(r,["codeExecutionResult"],i),null!=(o=t9(t,["executableCode"]))&&t7(r,["executableCode"],o),null!=(a=t9(t,["fileData"]))&&t7(r,["fileData"],function(e){let t={};if(void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=t9(e,["fileUri"]);null!=r&&t7(t,["fileUri"],r);let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(a)),null!=(l=t9(t,["functionCall"]))&&t7(r,["functionCall"],function(e){let t={},r=t9(e,["id"]);null!=r&&t7(t,["id"],r);let n=t9(e,["args"]);null!=n&&t7(t,["args"],n);let i=t9(e,["name"]);if(null!=i&&t7(t,["name"],i),void 0!==t9(e,["partialArgs"]))throw Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==t9(e,["willContinue"]))throw Error("willContinue parameter is not supported in Gemini API.");return t}(l)),null!=(s=t9(t,["functionResponse"]))&&t7(r,["functionResponse"],s),null!=(u=t9(t,["inlineData"]))&&t7(r,["inlineData"],function(e){let t={},r=t9(e,["data"]);if(null!=r&&t7(t,["data"],r),void 0!==t9(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=t9(e,["mimeType"]);return null!=n&&t7(t,["mimeType"],n),t}(u)),null!=(c=t9(t,["text"]))&&t7(r,["text"],c),null!=(p=t9(t,["thought"]))&&t7(r,["thought"],p),null!=(f=t9(t,["thoughtSignature"]))&&t7(r,["thoughtSignature"],f),null!=(d=t9(t,["videoMetadata"]))&&t7(r,["videoMetadata"],d),r})),t7(t,["parts"],e)}let n=t9(e,["role"]);return null!=n&&t7(t,["role"],n),t}(rH(d)));let h=t9(e,["tools"]);if(void 0!==t&&null!=h){let e=rJ(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==t9(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let r=t9(e,["computerUse"]);null!=r&&t7(t,["computerUse"],r);let n=t9(e,["fileSearch"]);null!=n&&t7(t,["fileSearch"],n);let i=t9(e,["codeExecution"]);if(null!=i&&t7(t,["codeExecution"],i),void 0!==t9(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let o=t9(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["functionDeclarations"],e)}let a=t9(e,["googleMaps"]);null!=a&&t7(t,["googleMaps"],function(e){let t={};if(void 0!==t9(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=t9(e,["enableWidget"]);return null!=r&&t7(t,["enableWidget"],r),t}(a));let l=t9(e,["googleSearch"]);null!=l&&t7(t,["googleSearch"],function(e){let t={};if(void 0!==t9(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==t9(e,["blockingConfidence"]))throw Error("blockingConfidence parameter is not supported in Gemini API.");let r=t9(e,["timeRangeFilter"]);return null!=r&&t7(t,["timeRangeFilter"],r),t}(l));let s=t9(e,["googleSearchRetrieval"]);null!=s&&t7(t,["googleSearchRetrieval"],s);let u=t9(e,["urlContext"]);return null!=u&&t7(t,["urlContext"],u),t})(rW(e)))),t7(t,["setup","tools"],e)}let y=t9(e,["sessionResumption"]);void 0!==t&&null!=y&&t7(t,["setup","sessionResumption"],function(e){let t={},r=t9(e,["handle"]);if(null!=r&&t7(t,["handle"],r),void 0!==t9(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(y));let m=t9(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&t7(t,["setup","inputAudioTranscription"],m);let g=t9(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&t7(t,["setup","outputAudioTranscription"],g);let v=t9(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&t7(t,["setup","realtimeInputConfig"],v);let b=t9(e,["contextWindowCompression"]);void 0!==t&&null!=b&&t7(t,["setup","contextWindowCompression"],b);let E=t9(e,["proactivity"]);if(void 0!==t&&null!=E&&t7(t,["setup","proactivity"],E),void 0!==t9(e,["explicitVadSignal"]))throw Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(c,s)),s)),g=t9(f,["lockAdditionalFields"]),void 0!==p&&null!=g&&t7(p,["fieldMask"],g),{})),p);a=t8("auth_tokens",v._url),l=v._query,delete v.config,delete v._url,delete v._query;let b=function(e,t){let r=null,n=e.bidiGenerateContentSetup;if("object"==typeof n&&null!==n&&"setup"in n){let t=n.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,r=t):delete e.bidiGenerateContentSetup}else void 0!==n&&delete e.bidiGenerateContentSetup;let i=e.fieldMask;if(r){let n=function(e){let t=[];for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r];if("object"==typeof n&&null!=n&&Object.keys(n).length>0){let e=Object.keys(n).map(e=>`${r}.${e}`);t.push(...e)}else t.push(r)}return t.join(",")}(r);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&(null==t?void 0:t.lockAdditionalFields.length)===0)n?e.fieldMask=n:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){let t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],r=[];i.length>0&&(r=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));let o=[];n&&o.push(n),r.length>0&&o.push(...r),o.length>0?e.fieldMask=o.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}(v,e.config);return this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(b),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}}class nZ extends t4{constructor(e){super(),this.apiClient=e,this.list=async e=>new r9(ta.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","name"],a),o);return n=t8("{name}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","name"],a),null!=(l=t9(e,["config"]))&&(s=t9(l,["force"]),void 0!==o&&null!=s&&t7(o,["_query","force"],s)),o);n=t8("{name}",u._url),i=u._query,delete u._url,delete u._query,await this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}}async listInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u,c=(o={},null!=(a=t9(e,["parent"]))&&t7(o,["_url","parent"],a),null!=(l=t9(e,["config"]))&&(s=t9(l,["pageSize"]),void 0!==o&&null!=s&&t7(o,["_query","pageSize"],s),u=t9(l,["pageToken"]),void 0!==o&&null!=u&&t7(o,["_query","pageToken"],u)),o);return n=t8("{parent}/documents",c._url),i=c._query,delete c._url,delete c._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["documents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["documents"],e)}return t}(e),r=new rb;return Object.assign(r,t),r})}}}class nQ extends t4{constructor(e,t=new nZ(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new r9(ta.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s=(o={},null!=(a=t9(e,["config"]))&&(l=t9(a,["displayName"]),void 0!==o&&null!=l&&t7(o,["displayName"],l)),o);return n=t8("fileSearchStores",s._url),i=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async get(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","name"],a),o);return n=t8("{name}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u=(o={},null!=(a=t9(e,["name"]))&&t7(o,["_url","name"],a),null!=(l=t9(e,["config"]))&&(s=t9(l,["force"]),void 0!==o&&null!=s&&t7(o,["_query","force"],s)),o);n=t8("{name}",u._url),i=u._query,delete u._url,delete u._query,await this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}}async listInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u=(o={},null!=(a=t9(e,["config"]))&&(l=t9(a,["pageSize"]),void 0!==o&&null!=l&&t7(o,["_query","pageSize"],l),s=t9(a,["pageToken"]),void 0!==o&&null!=s&&t7(o,["_query","pageToken"],s)),o);return n=t8("fileSearchStores",u._url),i=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=t9(e,["sdkHttpResponse"]);null!=r&&t7(t,["sdkHttpResponse"],r);let n=t9(e,["nextPageToken"]);null!=n&&t7(t,["nextPageToken"],n);let i=t9(e,["fileSearchStores"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["fileSearchStores"],e)}return t}(e),r=new rE;return Object.assign(r,t),r})}}async uploadToFileSearchStoreInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s=(o={},null!=(a=t9(e,["fileSearchStoreName"]))&&t7(o,["_url","file_search_store_name"],a),null!=(l=t9(e,["config"]))&&nP(l,o),o);return n=t8("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),i=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rO;return Object.assign(i,n),i})}}async importFile(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u=(o={},null!=(a=t9(e,["fileSearchStoreName"]))&&t7(o,["_url","file_search_store_name"],a),null!=(l=t9(e,["fileName"]))&&t7(o,["fileName"],l),null!=(s=t9(e,["config"]))&&function(e,t){let r=t9(e,["customMetadata"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),t7(t,["customMetadata"],e)}let n=t9(e,["chunkingConfig"]);void 0!==t&&null!=n&&t7(t,["chunkingConfig"],n)}(s,o),o);return n=t8("{file_search_store_name}:importFile",u._url),i=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{var t;let r,n,i,o,a,l,s,u,c,p,f=(a={},null!=(l=t9(e,["name"]))&&t7(a,["name"],l),null!=(s=t9(e,["metadata"]))&&t7(a,["metadata"],s),null!=(u=t9(e,["done"]))&&t7(a,["done"],u),null!=(c=t9(e,["error"]))&&t7(a,["error"],c),null!=(p=t9(e,["response"]))&&t7(a,["response"],(r={},null!=(n=t9(t=p,["sdkHttpResponse"]))&&t7(r,["sdkHttpResponse"],n),null!=(i=t9(t,["parent"]))&&t7(r,["parent"],i),null!=(o=t9(t,["documentName"]))&&t7(r,["documentName"],o),r)),a),d=new rw;return Object.assign(d,f),d})}}}let n0=function(){let{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return n0=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^r()&15>>e/4).toString(16))};function n1(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}let n2=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){let t=Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(e){}try{return Error(JSON.stringify(e))}catch(e){}}return Error(e)};class n3 extends Error{}class n5 extends n3{constructor(e,t,r,n){super(`${n5.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.error=t}static makeMessage(e,t,r){let n=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,n){return e&&n?400===e?new n7(e,t,r,n):401===e?new n9(e,t,r,n):403===e?new ie(e,t,r,n):404===e?new it(e,t,r,n):409===e?new ir(e,t,r,n):422===e?new ii(e,t,r,n):429===e?new io(e,t,r,n):e>=500?new ia(e,t,r,n):new n5(e,t,r,n):new n4({message:r,cause:n2(t)})}}class n6 extends n5{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class n4 extends n5{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class n8 extends n4{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class n7 extends n5{}class n9 extends n5{}class ie extends n5{}class it extends n5{}class ir extends n5{}class ii extends n5{}class io extends n5{}class ia extends n5{}let il=/^[a-z][a-z0-9+.-]*:/i,is=e=>(is=Array.isArray)(e),iu=is,ic="0.0.1",ip=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",id=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";function ih(...e){let t=globalThis.ReadableStream;if(void 0===t)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function iy(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function im(e){var t,r;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await (null==(r=(t=e[Symbol.asyncIterator]()).return)?void 0:r.call(t));let n=e.getReader(),i=n.cancel();n.releaseLock(),await i}let ig=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),iv=()=>{var e;if("u"<typeof File){let{process:t}=globalThis;throw Error("`File` is not defined as a global, which is required for file uploads."+("string"==typeof(null==(e=null==t?void 0:t.versions)?void 0:e.node)&&20>parseInt(t.versions.node.split("."))?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ib(e,t,r){return iv(),new File(e,null!=t?t:"unknown_file",r)}let iE=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function iO(e,t,r){var n;let i,o;if(iv(),null!=(i=e=await e)&&"object"==typeof i&&"string"==typeof i.name&&"number"==typeof i.lastModified&&iE(i))return e instanceof File?e:ib([await e.arrayBuffer()],e.name);if(null!=(o=e)&&"object"==typeof o&&"string"==typeof o.url&&"function"==typeof o.blob){let n=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ib(await iw(n),t,r)}let a=await iw(e);if(t||(t=("object"==typeof(n=e)&&null!==n&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0),!(null==r?void 0:r.type)){let e=a.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r=Object.assign(Object.assign({},r),{type:e}))}return ib(a,t,r)}async function iw(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(iE(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])try{for(var r,n,i,o,a,l,s=!0,u=na(e);!(r=(l=await u.next()).done);s=!0)o=l.value,s=!1,t.push(...await iw(o))}catch(e){n={error:e}}finally{try{!s&&!r&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{let t=null==(a=null==e?void 0:e.constructor)?void 0:a.name;throw Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";let t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}return t}class i_{constructor(e){this._client=e}}function ix(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}i_._key=[];let iS=Object.freeze(Object.create(null)),iA=((e=ix)=>function(t,...r){let n;if(1===t.length)return t[0];let i=!1,o=[],a=t.reduce((t,n,a)=>{var l,s,u;/[?#]/.test(n)&&(i=!0);let c=r[a],p=(i?encodeURIComponent:e)(""+c);return a!==r.length&&(null==c||"object"==typeof c&&c.toString===(null==(u=Object.getPrototypeOf(null!=(s=Object.getPrototypeOf(null!=(l=c.hasOwnProperty)?l:iS))?s:iS))?void 0:u.toString))&&(p=c+"",o.push({start:t.length+n.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+n+(a===r.length?"":p)},""),l=a.split(/[?#]/,1)[0],s=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;for(;null!==(n=s.exec(l));)o.push({start:n.index,length:n[0].length,error:`Value "${n[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0,t=o.reduce((t,r)=>{let n=" ".repeat(r.start-e),i="^".repeat(r.length);return e=r.start+r.length,t+n+i},"");throw new n3(`Path parameters result in path with invalid segments:
${o.map(e=>e.error).join("\n")}
${a}
${t}`)}return a})(ix);class iI extends i_{create(e,t){var r;let{api_version:n=this._client.apiVersion}=e,i=nn(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new n3("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new n3("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(iA`/${n}/interactions`,Object.assign(Object.assign({body:i},t),{stream:null!=(r=e.stream)&&r}))}delete(e,t={},r){let{api_version:n=this._client.apiVersion}=null!=t?t:{};return this._client.delete(iA`/${n}/interactions/${e}`,r)}cancel(e,t={},r){let{api_version:n=this._client.apiVersion}=null!=t?t:{};return this._client.post(iA`/${n}/interactions/${e}/cancel`,r)}get(e,t={},r){var n;let i=null!=t?t:{},{api_version:o=this._client.apiVersion}=i,a=nn(i,["api_version"]);return this._client.get(iA`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:null!=(n=null==t?void 0:t.stream)&&n}))}}iI._key=Object.freeze(["interactions"]);class iT extends iI{}function iC(e){let t;return(null!=r?r:r=(t=new globalThis.TextEncoder).encode.bind(t))(e)}function iP(e){let t;return(null!=n?n:n=(t=new globalThis.TextDecoder).decode.bind(t))(e)}class iN{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){let t;if(null==e)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?iC(e):e;this.buffer=function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}([this.buffer,r]);let n=[];for(;null!=(t=function(e,t){for(let r=null!=t?t:0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}(this.buffer,this.carriageReturnIndex));){if(t.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=t.index;continue}if(null!=this.carriageReturnIndex&&(t.index!==this.carriageReturnIndex+1||t.carriage)){n.push(iP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let e=null!==this.carriageReturnIndex?t.preceding-1:t.preceding,r=iP(this.buffer.subarray(0,e));n.push(r),this.buffer=this.buffer.subarray(t.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}iN.NEWLINE_CHARS=new Set(["\n","\r"]),iN.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let iM={off:0,error:200,warn:300,info:400,debug:500},ij=(e,t,r)=>{if(e){if(Object.prototype.hasOwnProperty.call(iM,e))return e;iL(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(iM))}`)}};function ik(){}function iR(e,t,r){return!t||iM[e]>iM[r]?ik:t[e].bind(t)}let iD={error:ik,warn:ik,info:ik,debug:ik},iU=new WeakMap;function iL(e){var t;let r=e.logger,n=null!=(t=e.logLevel)?t:"off";if(!r)return iD;let i=iU.get(r);if(i&&i[0]===n)return i[1];let o={error:iR("error",r,n),warn:iR("warn",r,n),info:iR("info",r,n),debug:iR("debug",r,n)};return iU.set(r,[n,o]),o}let iq=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class iF{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let n=!1,i=r?iL(r):console;return new iF(function(){return no(this,arguments,function*(){var r,o,a,l;if(n)throw new n3("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let s=!1;try{try{for(var u,c=!0,p=na(function(e,t){return no(this,arguments,function*(){var r,n,i,o;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new n3("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new n3("Attempted to iterate over a response with no body")}let a=new iG,l=new iN,s=iy(e.body);try{for(var u,c=!0,p=na(function(e){return no(this,arguments,function*(){var t,r,n,i;let o=new Uint8Array;try{for(var a,l=!0,s=na(e);!(t=(a=yield ni(s.next())).done);l=!0){let e;if(i=a.value,l=!1,null==i)continue;let t=i instanceof ArrayBuffer?new Uint8Array(i):"string"==typeof i?iC(i):i,r=new Uint8Array(o.length+t.length);for(r.set(o),r.set(t,o.length),o=r;-1!==(e=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}(o));)yield yield ni(o.slice(0,e)),o=o.slice(e)}}catch(e){r={error:e}}finally{try{!l&&!t&&(n=s.return)&&(yield ni(n.call(s)))}finally{if(r)throw r.error}}o.length>0&&(yield yield ni(o))})}(s));!(r=(u=yield ni(p.next())).done);c=!0)for(let e of(o=u.value,c=!1,l.decode(o))){let t=a.decode(e);t&&(yield yield ni(t))}}catch(e){n={error:e}}finally{try{!c&&!r&&(i=p.return)&&(yield ni(i.call(p)))}finally{if(n)throw n.error}}for(let e of l.flush()){let t=a.decode(e);t&&(yield yield ni(t))}})}(e,t));!(r=(u=yield ni(p.next())).done);c=!0)if(l=u.value,c=!1,!s)if(l.data.startsWith("[DONE]")){s=!0;continue}else try{yield yield ni(JSON.parse(l.data))}catch(e){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),e}}catch(e){o={error:e}}finally{try{!c&&!r&&(a=p.return)&&(yield ni(a.call(p)))}finally{if(o)throw o.error}}s=!0}catch(e){if(n1(e))return yield ni(void 0);throw e}finally{s||t.abort()}})},t,r)}static fromReadableStream(e,t,r){let n=!1;return new iF(function(){return no(this,arguments,function*(){var r,i,o,a;if(n)throw new n3("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let l=!1;try{try{for(var s,u=!0,c=na(function(){return no(this,arguments,function*(){var t,r,n,i;let o=new iN,a=iy(e);try{for(var l,s=!0,u=na(a);!(t=(l=yield ni(u.next())).done);s=!0)for(let e of(i=l.value,s=!1,o.decode(i)))yield yield ni(e)}catch(e){r={error:e}}finally{try{!s&&!t&&(n=u.return)&&(yield ni(n.call(u)))}finally{if(r)throw r.error}}for(let e of o.flush())yield yield ni(e)})}());!(r=(s=yield ni(c.next())).done);u=!0)a=s.value,u=!1,!l&&a&&(yield yield ni(JSON.parse(a)))}catch(e){i={error:e}}finally{try{!u&&!r&&(o=c.return)&&(yield ni(o.call(c)))}finally{if(i)throw i.error}}l=!0}catch(e){if(n1(e))return yield ni(void 0);throw e}finally{l||t.abort()}})},t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),n=n=>({next:()=>{if(0===n.length){let n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new iF(()=>n(e),this.controller,this.client),new iF(()=>n(t),this.controller,this.client)]}toReadableStream(){let e,t=this;return ih({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:r,done:n}=await e.next();if(n)return t.close();let i=iC(JSON.stringify(r)+"\n");t.enqueue(i)}catch(e){t.error(e)}},async cancel(){var t;await (null==(t=e.return)?void 0:t.call(e))}})}}class iG{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){var t;let r;if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=-1!==(r=(t=e).indexOf(":"))?[t.substring(0,r),":",t.substring(r+1)]:[t,"",""];return o.startsWith(" ")&&(o=o.substring(1)),"event"===n?this.event=o:"data"===n&&this.data.push(o),null}}async function iH(e,t){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=t,a=await (async()=>{var n;if(t.options.stream)return(iL(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass)?t.options.__streamClass.fromSSEResponse(r,t.controller,e):iF.fromSSEResponse(r,t.controller,e);if(204===r.status)return null;if(t.options.__binaryResponse)return r;let i=r.headers.get("content-type"),o=null==(n=null==i?void 0:i.split(";")[0])?void 0:n.trim();if((null==o?void 0:o.includes("application/json"))||(null==o?void 0:o.endsWith("+json"))){if("0"===r.headers.get("content-length"))return;return await r.json()}return await r.text()})();return iL(e).debug(`[${n}] response parsed`,iq({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-o})),a}class iB extends Promise{constructor(e,t,r=iH){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new iB(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}let iV=Symbol("brand.privateNullableHeaders"),iz=e=>{let t=new Headers,r=new Set;for(let n of e){let e=new Set;for(let[i,o]of function*(e){let t;if(!e)return;if(iV in e){let{values:t,nulls:r}=e;for(let e of(yield*t.entries(),r))yield[e,null];return}let r=!1;for(let n of(e instanceof Headers?t=e.entries():iu(e)?t=e:(r=!0,t=Object.entries(null!=e?e:{})),t)){let e=n[0];if("string"!=typeof e)throw TypeError("expected header name to be a string");let t=iu(n[1])?n[1]:[n[1]],i=!1;for(let n of t)void 0!==n&&(r&&!i&&(i=!0,yield[e,null]),yield[e,n])}}(n)){let n=i.toLowerCase();e.has(n)||(t.delete(i),e.add(n)),null===o?(t.delete(i),r.add(n)):(t.append(i,o),r.delete(n))}}return{[iV]:!0,values:t,nulls:r}},i$=e=>{var t,r,n,i,o,a;return void 0!==globalThis.process?null!=(n=null==(r=null==(t=globalThis.process.env)?void 0:t[e])?void 0:r.trim())?n:void 0:void 0!==globalThis.Deno?null==(a=null==(o=null==(i=globalThis.Deno.env)?void 0:i.get)?void 0:o.call(i,e))?void 0:a.trim():void 0};class iK{constructor(e){var t,r,n,i,o,a,l,{baseURL:s=i$("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=null!=(t=i$("GEMINI_API_KEY"))?t:null,apiVersion:c="v1beta"}=e;const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},nn(e,["baseURL","apiKey","apiVersion"])),{baseURL:s||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!=(r=p.timeout)?r:iK.DEFAULT_TIMEOUT,this.logger=null!=(n=p.logger)?n:console;const f="warn";this.logLevel=f,this.logLevel=null!=(o=null!=(i=ij(p.logLevel,"ClientOptions.logLevel",this))?i:ij(i$("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))?o:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!=(a=p.maxRetries)?a:2,this.fetch=null!=(l=p.fetch)?l:function(){if("u">typeof fetch)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=ig,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key")||this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){let t=iz([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return iz([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return iz([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new n3(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ic}`}defaultIdempotencyKey(){return`stainless-node-retry-${n0()}`}makeStatusError(e,t,r,n){return n5.generate(e,t,r,n)}buildURL(e,t,r){let n=!this.baseURLOverridden()&&r||this.baseURL,i=new URL(il.test(e)?e:n+(n.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return!function(e){if(!e)return!0;for(let t in e)return!1;return!0}(o)&&(t=Object.assign(Object.assign({},o),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){let t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new iB(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var n,i,o;let a=await e,l=null!=(n=a.maxRetries)?n:this.maxRetries;null==t&&(t=l),await this.prepareOptions(a);let{req:s,url:u,timeout:c}=await this.buildRequest(a,{retryCount:l-t});await this.prepareRequest(s,{url:u,options:a});let p="log_"+(0x1000000*Math.random()|0).toString(16).padStart(6,"0"),f=void 0===r?"":`, retryOf: ${r}`,d=Date.now();if(iL(this).debug(`[${p}] sending request`,iq({retryOfRequestLogID:r,method:a.method,url:u,options:a,headers:s.headers})),null==(i=a.signal)?void 0:i.aborted)throw new n6;let h=new AbortController,y=await this.fetchWithTimeout(u,s,c,h).catch(n2),m=Date.now();if(y instanceof globalThis.Error){let e=`retrying, ${t} attempts remaining`;if(null==(o=a.signal)?void 0:o.aborted)throw new n6;let n=n1(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(t)return iL(this).info(`[${p}] connection ${n?"timed out":"failed"} - ${e}`),iL(this).debug(`[${p}] connection ${n?"timed out":"failed"} (${e})`,iq({retryOfRequestLogID:r,url:u,durationMs:m-d,message:y.message})),this.retryRequest(a,t,null!=r?r:p);if(iL(this).info(`[${p}] connection ${n?"timed out":"failed"} - error; no more retries left`),iL(this).debug(`[${p}] connection ${n?"timed out":"failed"} (error; no more retries left)`,iq({retryOfRequestLogID:r,url:u,durationMs:m-d,message:y.message})),n)throw new n8;throw new n4({cause:y})}let g=`[${p}${f}] ${s.method} ${u} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${m-d}ms`;if(!y.ok){let e=await this.shouldRetry(y);if(t&&e){let e=`retrying, ${t} attempts remaining`;return await im(y.body),iL(this).info(`${g} - ${e}`),iL(this).debug(`[${p}] response error (${e})`,iq({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:m-d})),this.retryRequest(a,t,null!=r?r:p,y.headers)}let n=e?"error; no more retries left":"error; not retryable";iL(this).info(`${g} - ${n}`);let i=await y.text().catch(e=>n2(e).message),o=(e=>{try{return JSON.parse(e)}catch(e){return}})(i),l=o?void 0:i;throw iL(this).debug(`[${p}] response error (${n})`,iq({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:l,durationMs:Date.now()-d})),this.makeStatusError(y.status,o,l,y.headers)}return iL(this).info(g),iL(this).debug(`[${p}] response start`,iq({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:m-d})),{response:y,options:a,controller:h,requestLogID:p,retryOfRequestLogID:r,startTime:d}}async fetchWithTimeout(e,t,r,n){let i=t||{},{signal:o,method:a}=i,l=nn(i,["signal","method"]),s=this._makeAbort(n);o&&o.addEventListener("abort",s,{once:!0});let u=setTimeout(s,r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||"object"==typeof l.body&&null!==l.body&&Symbol.asyncIterator in l.body,p=Object.assign(Object.assign(Object.assign({signal:n.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(p.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(u)}}async shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,r,n){var i;let o,a,l=null==n?void 0:n.get("retry-after-ms");if(l){let e=parseFloat(l);Number.isNaN(e)||(o=e)}let s=null==n?void 0:n.get("retry-after");if(s&&!o){let e=parseFloat(s);o=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){let r=null!=(i=e.maxRetries)?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,r)}return await (a=o,new Promise(e=>setTimeout(e,a))),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,n,i;let o=Object.assign({},e),{method:a,path:l,query:s,defaultBaseURL:u}=o,c=this.buildURL(l,s,u);"timeout"in o&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new n3(`${e} must be an integer`);if(t<0)throw new n3(`${e} must be a positive integer`)})("timeout",o.timeout),o.timeout=null!=(r=o.timeout)?r:this.timeout;let{bodyHeaders:p,body:f}=this.buildBody({options:o}),d=await this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:d},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&f instanceof globalThis.ReadableStream&&{duplex:"half"}),f&&{body:f}),null!=(n=this.fetchOptions)?n:{}),null!=(i=o.fetchOptions)?i:{}),url:c,timeout:o.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&"get"!==r&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let a=await this.authHeaders(e),l=iz([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=t?t:t=(()=>{var e,t,r,n,i;let o="u">typeof Deno&&null!=Deno.build?"deno":"u">typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ic,"X-Stainless-OS":id(Deno.build.os),"X-Stainless-Arch":ip(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!=(t=null==(e=Deno.version)?void 0:e.deno)?t:"unknown"};if("u">typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ic,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ic,"X-Stainless-OS":id(null!=(r=globalThis.process.platform)?r:"unknown"),"X-Stainless-Arch":ip(null!=(n=globalThis.process.arch)?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!=(i=globalThis.process.version)?i:"unknown"};let a=function(){if("u"<typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,n=r[2]||0,i=r[3]||0;return{browser:e,version:`${t}.${n}.${i}`}}}return null}();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ic,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ic,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})()),this._options.defaultHeaders,n,e.headers,a]);return this.validateHeaders(l),l.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:t}}){let r;if(!e)return{bodyHeaders:void 0,body:void 0};let n=iz([t]);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream)return{bodyHeaders:void 0,body:e};if("object"!=typeof e||!(Symbol.asyncIterator in e)&&(!(Symbol.iterator in e)||!("next"in e)||"function"!=typeof e.next))return this.encoder({body:e,headers:n});return{bodyHeaders:void 0,body:(r=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator](),ih({start(){},async pull(e){let{done:t,value:n}=await r.next();t?e.close():e.enqueue(n)},async cancel(){var e;await (null==(e=r.return)?void 0:e.call(r))}}))}}}iK.DEFAULT_TIMEOUT=6e4;class iW extends iK{constructor(){super(...arguments),this.interactions=new iT(this)}}function iJ(e,t){let r,n,i,o={},a=t9(e,["sdkHttpResponse"]);null!=a&&t7(o,["sdkHttpResponse"],a);let l=t9(e,["name"]);null!=l&&t7(o,["name"],l);let s=t9(e,["state"]);null!=s&&t7(o,["state"],rX(s));let u=t9(e,["createTime"]);null!=u&&t7(o,["createTime"],u);let c=t9(e,["tuningTask","startTime"]);null!=c&&t7(o,["startTime"],c);let p=t9(e,["tuningTask","completeTime"]);null!=p&&t7(o,["endTime"],p);let f=t9(e,["updateTime"]);null!=f&&t7(o,["updateTime"],f);let d=t9(e,["description"]);null!=d&&t7(o,["description"],d);let h=t9(e,["baseModel"]);null!=h&&t7(o,["baseModel"],h);let y=t9(e,["_self"]);return null!=y&&t7(o,["tunedModel"],(r={},null!=(n=t9(y,["name"]))&&t7(r,["model"],n),null!=(i=t9(y,["name"]))&&t7(r,["endpoint"],i),r)),o}function iY(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["name"]);null!=i&&t7(r,["name"],i);let o=t9(e,["state"]);null!=o&&t7(r,["state"],rX(o));let a=t9(e,["createTime"]);null!=a&&t7(r,["createTime"],a);let l=t9(e,["startTime"]);null!=l&&t7(r,["startTime"],l);let s=t9(e,["endTime"]);null!=s&&t7(r,["endTime"],s);let u=t9(e,["updateTime"]);null!=u&&t7(r,["updateTime"],u);let c=t9(e,["error"]);null!=c&&t7(r,["error"],c);let p=t9(e,["description"]);null!=p&&t7(r,["description"],p);let f=t9(e,["baseModel"]);null!=f&&t7(r,["baseModel"],f);let d=t9(e,["tunedModel"]);null!=d&&t7(r,["tunedModel"],d);let h=t9(e,["preTunedModel"]);null!=h&&t7(r,["preTunedModel"],h);let y=t9(e,["supervisedTuningSpec"]);null!=y&&t7(r,["supervisedTuningSpec"],y);let m=t9(e,["preferenceOptimizationSpec"]);null!=m&&t7(r,["preferenceOptimizationSpec"],m);let g=t9(e,["distillationSpec"]);null!=g&&t7(r,["distillationSpec"],g);let v=t9(e,["tuningDataStats"]);null!=v&&t7(r,["tuningDataStats"],v);let b=t9(e,["encryptionSpec"]);null!=b&&t7(r,["encryptionSpec"],b);let E=t9(e,["partnerModelTuningSpec"]);null!=E&&t7(r,["partnerModelTuningSpec"],E);let O=t9(e,["customBaseModel"]);null!=O&&t7(r,["customBaseModel"],O);let w=t9(e,["experiment"]);null!=w&&t7(r,["experiment"],w);let _=t9(e,["labels"]);null!=_&&t7(r,["labels"],_);let x=t9(e,["outputUri"]);null!=x&&t7(r,["outputUri"],x);let S=t9(e,["pipelineJob"]);null!=S&&t7(r,["pipelineJob"],S);let A=t9(e,["serviceAccount"]);null!=A&&t7(r,["serviceAccount"],A);let I=t9(e,["tunedModelDisplayName"]);null!=I&&t7(r,["tunedModelDisplayName"],I);let T=t9(e,["veoTuningSpec"]);return null!=T&&t7(r,["veoTuningSpec"],T),r}function iX(e,t){let r={},n=t9(e,["gcsUri"]);null!=n&&t7(r,["validationDatasetUri"],n);let i=t9(e,["vertexDatasetResource"]);return null!=i&&t7(r,["validationDatasetUri"],i),r}iW.GeminiNextGenAPIClient=iW,iW.GeminiNextGenAPIClientError=n3,iW.APIError=n5,iW.APIConnectionError=n4,iW.APIConnectionTimeoutError=n8,iW.APIUserAbortError=n6,iW.NotFoundError=it,iW.ConflictError=ir,iW.RateLimitError=io,iW.BadRequestError=n7,iW.AuthenticationError=n9,iW.InternalServerError=ia,iW.PermissionDeniedError=ie,iW.UnprocessableEntityError=ii,iW.toFile=iO,iW.Interactions=iT;class iZ extends t4{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new r9(ta.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI())if(e.baseModel.startsWith("projects/")){let r={tunedModelName:e.baseModel};(null==(t=e.config)?void 0:t.preTunedModelCheckpointId)&&(r.checkpointId=e.config.preTunedModelCheckpointId);let n=Object.assign(Object.assign({},e),{preTunedModel:r});return n.baseModel=void 0,await this.tuneInternal(n)}else{let t=Object.assign({},e);return await this.tuneInternal(t)}{let t=Object.assign({},e),r=await this.tuneMldevInternal(t),n="";return void 0!==r.metadata&&void 0!==r.metadata.tunedModel?n=r.metadata.tunedModel:void 0!==r.name&&r.name.includes("/operations/")&&(n=r.name.split("/operations/")[0]),{name:n,state:eL.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],i),n);return o=t8("{name}",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>iY(e))}{let t,r,l=(t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],r),t);return o=t8("{name}",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>iJ(e))}}async listInternal(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l,s,u,c=(n={},null!=(i=t9(e,["config"]))&&(l=t9(i,["pageSize"]),void 0!==n&&null!=l&&t7(n,["_query","pageSize"],l),s=t9(i,["pageToken"]),void 0!==n&&null!=s&&t7(n,["_query","pageToken"],s),u=t9(i,["filter"]),void 0!==n&&null!=u&&t7(n,["_query","filter"],u)),n);return o=t8("tuningJobs",c._url),a=c._query,delete c._url,delete c._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["nextPageToken"]);null!=i&&t7(r,["nextPageToken"],i);let o=t9(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>iY(e))),t7(r,["tuningJobs"],e)}return r}(e),r=new ry;return Object.assign(r,t),r})}{let t,r,l,s,u,c=(t={},null!=(r=t9(e,["config"]))&&(l=t9(r,["pageSize"]),void 0!==t&&null!=l&&t7(t,["_query","pageSize"],l),s=t9(r,["pageToken"]),void 0!==t&&null!=s&&t7(t,["_query","pageToken"],s),u=t9(r,["filter"]),void 0!==t&&null!=u&&t7(t,["_query","filter"],u)),t);return o=t8("tunedModels",c._url),a=c._query,delete c._url,delete c._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=t9(e,["sdkHttpResponse"]);null!=n&&t7(r,["sdkHttpResponse"],n);let i=t9(e,["nextPageToken"]);null!=i&&t7(r,["nextPageToken"],i);let o=t9(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>iJ(e))),t7(r,["tuningJobs"],e)}return r}(e),r=new ry;return Object.assign(r,t),r})}}async cancel(e){var t,r,n,i;let o="",a={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=t9(e,["name"]))&&t7(n,["_url","name"],i),n);return o=t8("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rm;return Object.assign(i,n),i})}{let t,r,l=(t={},null!=(r=t9(e,["name"]))&&t7(t,["_url","name"],r),t);return o=t8("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),t),i=new rm;return Object.assign(i,n),i})}}async tuneInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let o,a,l,s,u,c=(o={},null!=(a=t9(e,["baseModel"]))&&t7(o,["baseModel"],a),null!=(l=t9(e,["preTunedModel"]))&&t7(o,["preTunedModel"],l),null!=(s=t9(e,["trainingDataset"]))&&function(e,t,r){let n=t9(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=t9(e,["gcsUri"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===n){let r=t9(e,["gcsUri"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}else if("DISTILLATION"===n){let r=t9(e,["gcsUri"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","promptDatasetUri"],r)}let i=t9(r,["config","method"]);if(void 0===i&&(i="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===i){let r=t9(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===i){let r=t9(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}else if("DISTILLATION"===i){let r=t9(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","promptDatasetUri"],r)}if(void 0!==t9(e,["examples"]))throw Error("examples parameter is not supported in Vertex AI.")}(s,o,e),null!=(u=t9(e,["config"]))&&function(e,t,r){let n=t9(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=t9(e,["validationDataset"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec"],iX(r))}else if("PREFERENCE_TUNING"===n){let r=t9(e,["validationDataset"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec"],iX(r))}else if("DISTILLATION"===n){let r=t9(e,["validationDataset"]);void 0!==t&&null!=r&&t7(t,["distillationSpec"],iX(r))}let i=t9(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&t7(t,["tunedModelDisplayName"],i);let o=t9(e,["description"]);void 0!==t&&null!=o&&t7(t,["description"],o);let a=t9(r,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){let r=t9(e,["epochCount"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","hyperParameters","epochCount"],r)}else if("PREFERENCE_TUNING"===a){let r=t9(e,["epochCount"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],r)}else if("DISTILLATION"===a){let r=t9(e,["epochCount"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","hyperParameters","epochCount"],r)}let l=t9(r,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){let r=t9(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r)}else if("PREFERENCE_TUNING"===l){let r=t9(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],r)}else if("DISTILLATION"===l){let r=t9(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","hyperParameters","learningRateMultiplier"],r)}let s=t9(r,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){let r=t9(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","exportLastCheckpointOnly"],r)}else if("PREFERENCE_TUNING"===s){let r=t9(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],r)}else if("DISTILLATION"===s){let r=t9(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","exportLastCheckpointOnly"],r)}let u=t9(r,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){let r=t9(e,["adapterSize"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","hyperParameters","adapterSize"],r)}else if("PREFERENCE_TUNING"===u){let r=t9(e,["adapterSize"]);void 0!==t&&null!=r&&t7(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],r)}else if("DISTILLATION"===u){let r=t9(e,["adapterSize"]);void 0!==t&&null!=r&&t7(t,["distillationSpec","hyperParameters","adapterSize"],r)}let c=t9(r,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){let r=t9(e,["tuningMode"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","tuningMode"],r)}let p=t9(e,["customBaseModel"]);void 0!==t&&null!=p&&t7(t,["customBaseModel"],p);let f=t9(r,["config","method"]);if(void 0===f&&(f="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===f){let r=t9(e,["batchSize"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","hyperParameters","batchSize"],r)}let d=t9(r,["config","method"]);if(void 0===d&&(d="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===d){let r=t9(e,["learningRate"]);void 0!==t&&null!=r&&t7(t,["supervisedTuningSpec","hyperParameters","learningRate"],r)}let h=t9(e,["labels"]);void 0!==t&&null!=h&&t7(t,["labels"],h);let y=t9(e,["beta"]);void 0!==t&&null!=y&&t7(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);let m=t9(e,["baseTeacherModel"]);void 0!==t&&null!=m&&t7(t,["distillationSpec","baseTeacherModel"],m);let g=t9(e,["tunedTeacherModelSource"]);void 0!==t&&null!=g&&t7(t,["distillationSpec","tunedTeacherModelSource"],g);let v=t9(e,["sftLossWeightMultiplier"]);void 0!==t&&null!=v&&t7(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],v);let b=t9(e,["outputUri"]);void 0!==t&&null!=b&&t7(t,["outputUri"],b);let E=t9(e,["encryptionSpec"]);void 0!==t&&null!=E&&t7(t,["encryptionSpec"],E)}(u,o,e),o);return n=t8("tuningJobs",c._url),i=c._query,delete c._url,delete c._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(c),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>iY(e))}throw Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let o,a,l,s,u,c=(o={},null!=(a=t9(e,["baseModel"]))&&t7(o,["baseModel"],a),null!=(l=t9(e,["preTunedModel"]))&&t7(o,["preTunedModel"],l),null!=(s=t9(e,["trainingDataset"]))&&function(e,t){if(void 0!==t9(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==t9(e,["vertexDatasetResource"]))throw Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=t9(e,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),t7({},["examples","examples"],e)}}(s),null!=(u=t9(e,["config"]))&&function(e,t,r){if(void 0!==t9(e,["validationDataset"]))throw Error("validationDataset parameter is not supported in Gemini API.");let n=t9(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&t7(t,["displayName"],n),void 0!==t9(e,["description"]))throw Error("description parameter is not supported in Gemini API.");let i=t9(e,["epochCount"]);void 0!==t&&null!=i&&t7(t,["tuningTask","hyperparameters","epochCount"],i);let o=t9(e,["learningRateMultiplier"]);if(null!=o&&t7({},["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==t9(e,["exportLastCheckpointOnly"]))throw Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==t9(e,["preTunedModelCheckpointId"]))throw Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==t9(e,["adapterSize"]))throw Error("adapterSize parameter is not supported in Gemini API.");if(void 0!==t9(e,["tuningMode"]))throw Error("tuningMode parameter is not supported in Gemini API.");if(void 0!==t9(e,["customBaseModel"]))throw Error("customBaseModel parameter is not supported in Gemini API.");let a=t9(e,["batchSize"]);void 0!==t&&null!=a&&t7(t,["tuningTask","hyperparameters","batchSize"],a);let l=t9(e,["learningRate"]);if(void 0!==t&&null!=l&&t7(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==t9(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");if(void 0!==t9(e,["beta"]))throw Error("beta parameter is not supported in Gemini API.");if(void 0!==t9(e,["baseTeacherModel"]))throw Error("baseTeacherModel parameter is not supported in Gemini API.");if(void 0!==t9(e,["tunedTeacherModelSource"]))throw Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(void 0!==t9(e,["sftLossWeightMultiplier"]))throw Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(void 0!==t9(e,["outputUri"]))throw Error("outputUri parameter is not supported in Gemini API.");if(void 0!==t9(e,["encryptionSpec"]))throw Error("encryptionSpec parameter is not supported in Gemini API.")}(u,o),o);return n=t8("tunedModels",c._url),i=c._query,delete c._url,delete c._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(c),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,o,a;return t={},null!=(r=t9(e,["sdkHttpResponse"]))&&t7(t,["sdkHttpResponse"],r),null!=(n=t9(e,["name"]))&&t7(t,["name"],n),null!=(i=t9(e,["metadata"]))&&t7(t,["metadata"],i),null!=(o=t9(e,["done"]))&&t7(t,["done"],o),null!=(a=t9(e,["error"]))&&t7(t,["error"],a),t})}}}class iQ{async download(e,t){throw Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}let i0="x-goog-upload-status";async function i1(e,t,r){var n;let i=await i3(e,t,r),o=await (null==i?void 0:i.json());if((null==(n=null==i?void 0:i.headers)?void 0:n[i0])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");return o.file}async function i2(e,t,r){var n;let i=await i3(e,t,r),o=await (null==i?void 0:i.json());if((null==(n=null==i?void 0:i.headers)?void 0:n[i0])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");let a=rt(o),l=new rP;return Object.assign(l,a),l}async function i3(e,t,r){var n,i;let o=0,a=0,l=new rr(new Response),s="upload";for(o=e.size;a<o;){let u=Math.min(8388608,o-a),c=e.slice(a,a+u);a+u>=o&&(s+=", finalize");let p=0,f=1e3;for(;p<3&&(null==(n=null==(l=await r.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}))?void 0:l.headers)||!n[i0]);)p++,await function(e){return new Promise(t=>setTimeout(t,e))}(f),f*=2;if(a+=u,(null==(i=null==l?void 0:l.headers)?void 0:i[i0])!=="active")break;if(o<=a)throw Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function i5(e){return{size:e.size,type:e.type}}class i6{async upload(e,t,r){if("string"==typeof e)throw Error("File path is not supported in browser uploader.");return await i1(e,t,r)}async uploadToFileSearchStore(e,t,r){if("string"==typeof e)throw Error("File path is not supported in browser uploader.");return await i2(e,t,r)}async stat(e){if("string"!=typeof e)return await i5(e);throw Error("File path is not supported in browser uploader.")}}class i4{create(e,t,r){return new i8(e,t,r)}}class i8{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.close()}}let i7="x-goog-api-key";class i9{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(i7)){if(this.apiKey.startsWith("auth_tokens/"))throw Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw Error("API key is missing. Please provide a valid API key.");e.append(i7,this.apiKey)}}}let oe=tZ.default.env.API_KEY||"",ot=new class{get interactions(){var e;if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let t=this.httpOptions;(null==t?void 0:t.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let r=new iW({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==t?void 0:t.timeout,maxRetries:null==(e=null==t?void 0:t.retryOptions)?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw Error("An API Key must be set when running in a browser");if(e.project||e.location)throw Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!=(t=e.vertexai)&&t,this.apiKey=e.apiKey;const r=function(e,t,r,n){return(null==e?void 0:e.baseUrl)?e.baseUrl:t?null!=o?o:r:null!=i?i:n}(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const n=new i9(this.apiKey);this.apiClient=new nj({auth:n,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new i6,downloader:new iQ}),this.models=new nJ(this.apiClient),this.live=new nH(this.apiClient,n,new i4),this.batches=new ne(this.apiClient),this.chats=new nu(this.models,this.apiClient),this.caches=new nr(this.apiClient),this.files=new nf(this.apiClient),this.operations=new nY(this.apiClient),this.authTokens=new nX(this.apiClient),this.tunings=new iZ(this.apiClient),this.fileSearchStores=new nQ(this.apiClient)}}({apiKey:oe}),or=async(e,t)=>{if(!oe)return"API Key is missing. Please configure the environment.";try{let r=JSON.stringify({title:e.title,description:e.description,specs:e.specs,bom:e.bom,isVerified:e.siliconSeal,author:e.author.username}),n=`
      You are an expert Hardware Engineer AI for BuildPCBs.
      You are analyzing a specific hardware project manifest.
      
      Project Context:
      ${r}
      
      Your goal is to answer technical questions about this specific design.
      If the user asks about compatibility, voltage, or components, use the BOM and Specs provided.
      Keep answers concise, technical but accessible.
      If the information isn't in the specs, make a reasonable inference based on standard engineering practices for this type of device, but mention it is an estimation.
    `;return(await ot.models.generateContent({model:"gemini-3-flash-preview",contents:t,config:{systemInstruction:n}})).text||"I couldn't generate a response at this time."}catch(e){return console.error("Gemini Error:",e),"An error occurred while analyzing the hardware specs."}};var on=Symbol.for("immer-nothing"),oi=Symbol.for("immer-draftable"),oo=Symbol.for("immer-state");function oa(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ol=Object,os=ol.getPrototypeOf,ou="constructor",oc="prototype",op="configurable",of="enumerable",od="writable",oh="value",oy=e=>!!e&&!!e[oo];function om(e){return!!e&&(ob(e)||oS(e)||!!e[oi]||!!e[ou]?.[oi]||oA(e)||oI(e))}var og=ol[oc][ou].toString(),ov=new WeakMap;function ob(e){if(!e||!oT(e))return!1;let t=os(e);if(null===t||t===ol[oc])return!0;let r=ol.hasOwnProperty.call(t,ou)&&t[ou];if(r===Object)return!0;if(!oC(r))return!1;let n=ov.get(r);return void 0===n&&(n=Function.toString.call(r),ov.set(r,n)),n===og}function oE(e,t,r=!0){0===oO(e)?(r?Reflect.ownKeys(e):ol.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function oO(e){let t=e[oo];return t?t.type_:oS(e)?1:oA(e)?2:3*!!oI(e)}var ow=(e,t,r=oO(e))=>2===r?e.has(t):ol[oc].hasOwnProperty.call(e,t),o_=(e,t,r=oO(e))=>2===r?e.get(t):e[t],ox=(e,t,r,n=oO(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r},oS=Array.isArray,oA=e=>e instanceof Map,oI=e=>e instanceof Set,oT=e=>"object"==typeof e,oC=e=>"function"==typeof e,oP=e=>e.modified_?e.copy_:e.base_;function oN(e,t){if(oA(e))return new Map(e);if(oI(e))return new Set(e);if(oS(e))return Array[oc].slice.call(e);let r=ob(e);if(!0!==t&&("class_only"!==t||r)){let t=os(e);if(null!==t&&r)return{...e};let n=ol.create(t);return ol.assign(n,e)}{let t=ol.getOwnPropertyDescriptors(e);delete t[oo];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],o=t[i];!1===o[od]&&(o[od]=!0,o[op]=!0),(o.get||o.set)&&(t[i]={[op]:!0,[od]:!0,[of]:o[of],[oh]:e[i]})}return ol.create(os(e),t)}}function oM(e,t=!1){return ok(e)||oy(e)||!om(e)||(oO(e)>1&&ol.defineProperties(e,{set:oj,add:oj,clear:oj,delete:oj}),ol.freeze(e),t&&oE(e,(e,t)=>{oM(t,!0)},!1)),e}var oj={[oh]:function(){oa(2)}};function ok(e){return!(null!==e&&oT(e))||ol.isFrozen(e)}var oR="MapSet",oD="Patches",oU="ArrayMethods",oL={};function oq(e){let t=oL[e];return t||oa(0,e),t}var oF=e=>!!oL[e];function oG(e,t){t&&(e.patchPlugin_=oq(oD),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oH(e){oB(e),e.drafts_.forEach(oz),e.drafts_=null}function oB(e){e===tl&&(tl=e.parent_)}var oV=e=>tl={drafts_:[],parent_:tl,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oF(oR)?oq(oR):void 0,arrayMethodsPlugin_:oF(oU)?oq(oU):void 0};function oz(e){let t=e[oo];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function o$(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];if(void 0!==e&&e!==r){r[oo].modified_&&(oH(t),oa(4)),om(e)&&(e=oK(t,e));let{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[oo].base_,e,t)}else e=oK(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&oM(t,r)}(t,e,!0),oH(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==on?e:void 0}function oK(e,t){if(ok(t))return t;let r=t[oo];if(!r)return oQ(t,e.handledSet_,e);if(!oJ(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){let{callbacks_:t}=r;if(t)for(;t.length>0;)t.pop()(e);oZ(r,e)}return r.copy_}function oW(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var oJ=(e,t)=>e.scope_===t,oY=[];function oX(e,t,r,n){let i=e.copy_||e.base_,o=e.type_;if(void 0!==n&&o_(i,n,o)===t)return void ox(i,n,r,o);if(!e.draftLocations_){let t=e.draftLocations_=new Map;oE(i,(e,r)=>{if(oy(r)){let n=t.get(r)||[];n.push(e),t.set(r,n)}})}for(let n of e.draftLocations_.get(t)??oY)ox(i,n,r,o)}function oZ(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){let{patchPlugin_:r}=t;if(r){let n=r.getPath(e);n&&r.generatePatches_(e,n,t)}oW(e)}}function oQ(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||oy(e)||t.has(e)||!om(e)||ok(e)||(t.add(e),oE(e,(n,i)=>{if(oy(i)){let t=i[oo];oJ(t,r)&&(ox(e,n,oP(t),e.type_),oW(t))}else om(i)&&oQ(i,t,r)})),e}var o0={get(e,t){let r;if(t===oo)return e;let n=e.scope_.arrayMethodsPlugin_,i=1===e.type_&&"string"==typeof t;if(i&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);let o=e.copy_||e.base_;if(!ow(o,t,e.type_)){var a;let r;return a=e,(r=o3(o,t))?oh in r?r[oh]:r.get?.call(a.draft_):void 0}let l=o[t];if(e.finalized_||!om(l)||i&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&Number.isInteger(r=+t)&&String(r)===t)return l;if(l===o2(e.base_,t)){o6(e);let r=1===e.type_?+t:t,n=o4(e.scope_,l,e,r);return e.copy_[r]=n}return l},has:(e,t)=>t in(e.copy_||e.base_),ownKeys:e=>Reflect.ownKeys(e.copy_||e.base_),set(e,t,r){let n=o3(e.copy_||e.base_,t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=o2(e.copy_||e.base_,t),i=n?.[oo];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||ow(e.base_,t,e.type_)))return!0;o6(e),o5(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_.set(t,!0),!function(e,t,r){let{scope_:n}=e;if(oy(r)){let i=r[oo];oJ(i,n)&&i.callbacks_.push(function(){o6(e),oX(e,r,oP(i),t)})}else om(r)&&e.callbacks_.push(function(){let i=e.copy_||e.base_;3===e.type_?i.has(r)&&oQ(r,n.handledSet_,n):o_(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&oQ(o_(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r),!0)},deleteProperty:(e,t)=>(o6(e),void 0!==o2(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),o5(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=e.copy_||e.base_,n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[od]:!0,[op]:1!==e.type_||"length"!==t,[of]:n[of],[oh]:r[t]}:n},defineProperty(){oa(11)},getPrototypeOf:e=>os(e.base_),setPrototypeOf(){oa(12)}},o1={};for(let e in o0){let t=o0[e];o1[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}function o2(e,t){let r=e[oo];return(r?r.copy_||r.base_:e)[t]}function o3(e,t){if(!(t in e))return;let r=os(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=os(r)}}function o5(e){!e.modified_&&(e.modified_=!0,e.parent_&&o5(e.parent_))}function o6(e){e.copy_||(e.assigned_=new Map,e.copy_=oN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function o4(e,t,r,n){let[i,o]=oA(t)?oq(oR).proxyMap_(t,r):oI(t)?oq(oR).proxySet_(t,r):function(e,t){let r=oS(e),n={type_:+!!r,scope_:t?t.scope_:tl,modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},i=n,o=o0;r&&(i=[n],o=o1);let{revoke:a,proxy:l}=Proxy.revocable(i,o);return n.draft_=l,n.revoke_=a,[l,n]}(t,r);if((r?.scope_??tl).drafts_.push(i),o.callbacks_=r?.callbacks_??[],o.key_=n,r&&void 0!==n)r.callbacks_.push(function(e){if(!o||!oJ(o,e))return;e.mapSetPlugin_?.fixSetContents(o);let t=oP(o);oX(r,o.draft_??o,t,n),oZ(o,e)});else o.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(o);let{patchPlugin_:t}=e;o.modified_&&t&&t.generatePatches_(o,[],e)});return i}function o8(e){return oy(e)||oa(10,e),function e(t){let r;if(!om(t)||ok(t))return t;let n=t[oo],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=oN(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=oN(t,!0);return oE(r,(t,n)=>{ox(r,t,e(n))},i),n&&(n.finalized_=!1),r}(e)}o1.deleteProperty=function(e,t){return o1.set.call(this,e,t,void 0)},o1.set=function(e,t,r){return o0.set.call(this,e[0],t,r,e[0])};var o7=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{let n;if(oC(e)&&!oC(t)){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if(oC(t)||oa(6),void 0===r||oC(r)||oa(7),om(e)){let i=oV(this),o=o4(i,e,void 0),a=!0;try{n=t(o),a=!1}finally{a?oH(i):oB(i)}return oG(i,r),o$(n,i)}if(e&&oT(e))oa(1,e);else{if(void 0===(n=t(e))&&(n=e),n===on&&(n=void 0),this.autoFreeze_&&oM(n,!0),r){let t=[],i=[];oq(oD).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:i}),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return oC(e)?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},(e=>"boolean"==typeof e)(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),(e=>"boolean"==typeof e)(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),(e=>"boolean"==typeof e)(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){om(e)||oa(8),oy(e)&&(e=o8(e));let t=oV(this),r=o4(t,e,void 0);return r[oo].isManual_=!0,oB(t),r}finishDraft(e,t){let r=e&&e[oo];r&&r.isManual_||oa(9);let{scope_:n}=r;return oG(n,t),o$(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=oq(oD).applyPatches_;return oy(e)?n(e,t):this.produce(e,e=>n(e,t))}}().produce,o9=e=>Array.isArray(e)?e:[e],ae=0,at=class{revision=ae;_value;_lastValue;_isEqual=ar;constructor(e,t=ar){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++ae)}};function ar(e,t){return e===t}function an(e){return e instanceof at||console.warn("Not a valid cell! ",e),e.value}var ai=(e,t)=>!1;function ao(){return function(e,t=ar){return new at(null,t)}(0,ai)}var aa=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=ao()),an(t)};Symbol();var al=0,as=Object.getPrototypeOf({}),au=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,ac);tag=ao();tags={};children={};collectionTag=null;id=al++},ac={get:(e,t)=>(function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in as)return n;if("object"==typeof n&&null!==n){var i;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(i=n)?new ap(i):new au(i)),r.tag&&an(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=ao()).value=n),an(r),n}})(),ownKeys:e=>(aa(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},ap=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],af);tag=ao();tags={};children={};collectionTag=null;id=al++},af={get:([e],t)=>("length"===t&&aa(e),ac.get(e,t)),ownKeys:([e])=>ac.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>ac.getOwnPropertyDescriptor(e,t),has:([e],t)=>ac.has(e,t)},ad="u">typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ah(){return{s:0,v:void 0,o:null,p:null}}function ay(e,t={}){let r,n=ah(),{resultEqualityCheck:i}=t,o=0;function a(){let t,a=n,{length:l}=arguments;for(let e=0;e<l;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=a.o;null===e&&(a.o=e=new WeakMap);let r=e.get(t);void 0===r?(a=ah(),e.set(t,a)):a=r}else{let e=a.p;null===e&&(a.p=e=new Map);let r=e.get(t);void 0===r?(a=ah(),e.set(t,a)):a=r}}let s=a;if(1===a.s)t=a.v;else if(t=e.apply(null,arguments),o++,i){let e=r?.deref?.()??r;null!=e&&i(e,t)&&(t=e,0!==o&&o--),r="object"==typeof t&&null!==t||"function"==typeof t?new ad(t):t}return s.s=1,s.v=t,t}return a.clearCache=()=>{n=ah(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}var am=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n,i=0,o=0,a={},l=e.pop();"object"==typeof l&&(a=l,l=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);let{memoize:s,memoizeOptions:u=[],argsMemoize:c=ay,argsMemoizeOptions:p=[],devModeChecks:f={}}={...r,...a},d=o9(u),h=o9(p),y=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),m=s(function(){return i++,l.apply(null,arguments)},...d);return Object.assign(c(function(){o++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(y,arguments);return n=m.apply(null,e)},...h),{resultFunc:l,memoizedResultFunc:m,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:s,argsMemoize:c})};return Object.assign(n,{withTypes:()=>n}),n}(ay),ag=Object.assign((e,t=am)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>ag});function av(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ab="function"==typeof Symbol&&Symbol.observable||"@@observable",aE=()=>Math.random().toString(36).substring(7).split("").join("."),aO={INIT:`@@redux/INIT${aE()}`,REPLACE:`@@redux/REPLACE${aE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${aE()}`};function aw(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function a_(e){let t,r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{Object.keys(n).forEach(e=>{let t=n[e];if(void 0===t(void 0,{type:aO.INIT}))throw Error(av(12));if(void 0===t(void 0,{type:aO.PROBE_UNKNOWN_ACTION()}))throw Error(av(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let o=!1,a={};for(let t=0;t<i.length;t++){let l=i[t],s=n[l],u=e[l],c=s(u,r);if(void 0===c)throw r&&r.type,Error(av(14));a[l]=c,o=o||c!==u}return(o=o||i.length!==Object.keys(e).length)?a:e}}function ax(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function aS(e){return aw(e)&&"type"in e&&"string"==typeof e.type}function aA(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var aI=aA(),aT="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?ax:ax.apply(null,arguments)};function aC(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(ls(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>aS(t)&&t.type===e,r}"u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var aP=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function aN(e){return om(e)?o7(e,()=>{}):e}function aM(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var aj="RTK_autoBatch",ak=()=>e=>({payload:e,meta:{[aj]:!0}}),aR=e=>t=>{setTimeout(t,e)},aD=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,o=!1,a=!1,l=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"u">typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:aR(10):"callback"===e.type?e.queueNotification:aR(e.timeout),u=()=>{a=!1,o&&(o=!1,l.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return l.add(e),()=>{t(),l.delete(e)}},dispatch(e){try{return(o=!(i=!e?.meta?.[aj]))&&!a&&(a=!0,s(u)),n.dispatch(e)}finally{i=!0}}})};function aU(e){let t,r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(ls(28));if(n in r)throw Error(ls(29));return r[n]=t,i},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&n.push({matcher:e.settled,reducer:t.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var aL=Symbol.for("rtk-slice-createasyncthunk"),aq=((ec=aq||{}).reducer="reducer",ec.reducerWithPrepare="reducerWithPrepare",ec.asyncThunk="asyncThunk",ec),aF=function({creators:e}={}){let t=e?.asyncThunk?.[aL];return function(e){let r,{name:n,reducerPath:i=n}=e;if(!n)throw Error(ls(11));let o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(o),l={},s={},u={},c=[],p={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(ls(12));if(r in s)throw Error(ls(13));return s[r]=t,p},addMatcher:(e,t)=>(c.push({matcher:e,reducer:t}),p),exposeAction:(e,t)=>(u[e]=t,p),exposeCaseReducer:(e,t)=>(l[e]=t,p)};function f(){let[t={},r=[],n]="function"==typeof e.extraReducers?aU(e.extraReducers):[e.extraReducers],i={...t,...s};return function(e,t){let r,[n,i,o]=aU(t);if("function"==typeof e)r=()=>aN(e());else{let t=aN(e);r=()=>t}function a(e=r(),t){let l=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===l.filter(e=>!!e).length&&(l=[o]),l.reduce((e,r)=>{if(r)if(oy(e)){let n=r(e,t);return void 0===n?e:n}else{if(om(e))return o7(e,e=>r(e,t));let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return a.getInitialState=r,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of c)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(r=>{let i=o[r],a={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(ls(18));let{payloadCreator:o,fulfilled:a,pending:l,rejected:s,settled:u,options:c}=r,p=i(e,o,c);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),l&&n.addCase(p.pending,l),s&&n.addCase(p.rejected,s),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:a||aG,pending:l||aG,rejected:s||aG,settled:u||aG})}(a,i,p,t):function({type:e,reducerName:t,createNotation:r},n,i){let o,a;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(ls(17));o=n.reducer,a=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?aC(e,a):aC(e))}(a,i,p)});let d=e=>e,h=new Map,y=new WeakMap;function m(e,t){return r||(r=f()),r(e,t)}function g(){return r||(r=f()),r.getInitialState()}function v(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=aM(y,n,g)),i}function i(t=d){let n=aM(h,r,()=>new WeakMap);return aM(n,t,()=>{let n={};for(let[i,o]of Object.entries(e.selectors??{}))n[i]=function(e,t,r,n){function i(o,...a){let l=t(o);return void 0===l&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}(o,t,()=>aM(y,t,g),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let b={name:n,reducer:m,actions:u,caseReducers:l,getInitialState:g,...v(i),injectInto(e,{reducerPath:t,...r}={}){let n=t??i;return e.inject({reducerPath:n,reducer:m},r),{...b,...v(n,!0)}}};return b}}();function aG(){}var aH="listener",aB="completed",aV="cancelled",az=`task-${aV}`,a$=`task-${aB}`,aK=`${aH}-${aV}`,aW=`${aH}-${aB}`,aJ=class{constructor(e){this.code=e,this.message=`task ${aV} (reason: ${e})`}name="TaskAbortError";message},aY=(e,t)=>{if("function"!=typeof e)throw TypeError(ls(32))},aX=()=>{},aZ=(e,t=aX)=>(e.catch(t),e),aQ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),a0=e=>{if(e.aborted)throw new aJ(e.reason)};function a1(e,t){let r=aX;return new Promise((n,i)=>{let o=()=>i(new aJ(e.reason));e.aborted?o():(r=aQ(e,o),t.finally(()=>r()).then(n,i))}).finally(()=>{r=aX})}var a2=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof aJ?"cancelled":"rejected",error:e}}finally{t?.()}},a3=e=>t=>aZ(a1(e,t).then(t=>(a0(e),t))),a5=e=>{let t=a3(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:a6}=Object,a4={},a8="listenerMiddleware",a7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:o}=e;if(t)i=aC(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(ls(21));return aY(o,"options.listener"),{predicate:i,type:t,effect:o}},a9=a6(e=>{let{type:t,predicate:r,effect:n}=a7(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(ls(22))}}},{withTypes:()=>a9}),le=(e,t)=>{let{type:r,effect:n,predicate:i}=a7(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n)},lt=e=>{e.pending.forEach(e=>{e.abort(aK)})},lr=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},ln=a6(aC(`${a8}/add`),{withTypes:()=>ln}),li=aC(`${a8}/removeAll`),lo=a6(aC(`${a8}/remove`),{withTypes:()=>lo}),la=(...e)=>{console.error(`${a8}/error`,...e)},ll=(e={})=>{let t=new Map,r=new Map,{extra:n,onError:i=la}=e;aY(i,"onError");let o=e=>{var r;return(r=le(t,e)??a9(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&lt(r)}};a6(o,{withTypes:()=>o});let a=e=>{let r=le(t,e);return r&&(r.unsubscribe(),e.cancelActive&&lt(r)),!!r};a6(a,{withTypes:()=>a});let l=async(e,a,l,s)=>{var u,c;let p,f=new AbortController,d=(u=f.signal,p=async(e,t)=>{a0(u);let r=()=>{},n=[new Promise((t,n)=>{let i=o({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{i(),n()}})];null!=t&&n.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await a1(u,Promise.race(n));return a0(u),e}finally{r()}},(e,t)=>aZ(p(e,t))),h=[];try{let i;e.pending.add(f),i=r.get(e)??0,r.set(e,i+1),await Promise.resolve(e.effect(a,a6({},l,{getOriginalState:s,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:a5(f.signal),pause:a3(f.signal),extra:n,signal:f.signal,fork:(c=f.signal,(e,t)=>{aY(e,"taskExecutor");let r=new AbortController;aQ(c,()=>r.abort(c.reason));let n=a2(async()=>{a0(c),a0(r.signal);let t=await e({pause:a3(r.signal),delay:a5(r.signal),signal:r.signal});return a0(r.signal),t},()=>r.abort(a$));return t?.autoJoin&&h.push(n.catch(aX)),{result:a3(c)(n),cancel(){r.abort(az)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==f&&(e.abort(aK),r.delete(e))})},cancel:()=>{f.abort(aK),e.pending.delete(f)},throwIfCancelled:()=>{a0(f.signal)}})))}catch(e){e instanceof aJ||lr(i,e,{raisedBy:"effect"})}finally{let t;await Promise.all(h),f.abort(aW),1===(t=r.get(e)??1)?r.delete(e):r.set(e,t-1),e.pending.delete(f)}},s=()=>{for(let e of r.keys())lt(e);t.clear()};return{middleware:e=>r=>n=>{let u;if(!aS(n))return r(n);if(ln.match(n))return o(n.payload);if(li.match(n))return void s();if(lo.match(n))return a(n.payload);let c=e.getState(),p=()=>{if(c===a4)throw Error(ls(23));return c};try{if(u=r(n),t.size>0){let r=e.getState();for(let o of Array.from(t.values())){let t=!1;try{t=o.predicate(n,r,c)}catch(e){t=!1,lr(i,e,{raisedBy:"predicate"})}t&&l(o,n,e,p)}}}finally{c=a4}return u},startListening:o,stopListening:a,clearListeners:s}};function ls(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var lu=e.i(46411);function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function lp(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((e,t,n)=>{var i=r[n-1];return"string"==typeof i?e+i+t:void 0!==i?e+lc(i)+t:e+t},"")}var lf=e=>0===e?0:e>0?1:-1,ld=e=>"number"==typeof e&&e!=+e,lh=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,ly=e=>("number"==typeof e||e instanceof Number)&&!ld(e),lm=e=>ly(e)||"string"==typeof e,lg=0,lv=e=>{var t=++lg;return"".concat(e||"").concat(t)},lb=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ly(e)&&"string"!=typeof e)return n;if(lh(e)){if(null==t)return n;var o=e.indexOf("%");r=t*parseFloat(e.slice(0,o))/100}else r=+e;return ld(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},lE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(r[String(e[n])])return!0;else r[String(e[n])]=!0;return!1};function lO(e,t,r){return ly(e)&&ly(t)?lc(e+r*(t-e)):t}function lw(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,lu.default)(e,t))===r)}var l_=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lx(e){return null!=e}function lS(){}var lA=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!ld(r))return e[r]}},lI=aF({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:()=>void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lT=lI.reducer,{createEventEmitter:lC}=lI.actions,lP=(e.i(64675),{notify(){},get:()=>[]}),lN="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement,lM="u">typeof navigator&&"ReactNative"===navigator.product,lj=lN||lM?tR.useLayoutEffect:tR.useEffect;function lk(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var lR=Symbol.for("react-redux-context"),lD="u">typeof globalThis?globalThis:{},lU=function(){if(!tR.createContext)return{};let e=lD[lR]??=new Map,t=e.get(tR.createContext);return t||(t=tR.createContext(null),e.set(tR.createContext,t)),t}(),lL=function(e){let{children:t,context:r,serverState:n,store:i}=e,o=tR.useMemo(()=>{let e=function(e,t){let r,n=lP,i=0,o=!1;function a(){u.onStateChange&&u.onStateChange()}function l(){if(i++,!r){let t,i;r=e.subscribe(a),t=null,i=null,n={clear(){t=null,i=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,n=i={callback:e,next:null,prev:i};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:i=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}}function s(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=lP)}let u={addNestedSub:function(e){l();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,l())},tryUnsubscribe:function(){o&&(o=!1,s())},getListeners:()=>n};return u}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),a=tR.useMemo(()=>i.getState(),[i]);return lj(()=>{let{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,a]),tR.createElement((r||lU).Provider,{value:o},t)};function lq(e=lU){return function(){return tR.useContext(e)}}var lF=lq(),lG=Symbol.for("immer-nothing"),lH=Symbol.for("immer-draftable"),lB=Symbol.for("immer-state");function lV(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lz=Object.getPrototypeOf;function l$(e){return!!e&&!!e[lB]}function lK(e){return!!e&&(lY(e)||Array.isArray(e)||!!e[lH]||!!e.constructor?.[lH]||l1(e)||l2(e))}var lW=Object.prototype.constructor.toString(),lJ=new WeakMap;function lY(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let n=lJ.get(r);return void 0===n&&(n=Function.toString.call(r),lJ.set(r,n)),n===lW}function lX(e,t,r=!0){0===lZ(e)?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function lZ(e){let t=e[lB];return t?t.type_:Array.isArray(e)?1:l1(e)?2:3*!!l2(e)}function lQ(e,t){return 2===lZ(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l0(e,t,r){let n=lZ(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function l1(e){return e instanceof Map}function l2(e){return e instanceof Set}function l3(e){return e.copy_||e.base_}function l5(e,t){if(l1(e))return new Map(e);if(l2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=lY(e);if(!0!==t&&("class_only"!==t||r)){let t=lz(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[lB];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(lz(e),t)}}function l6(e,t=!1){return l8(e)||l$(e)||!lK(e)||(lZ(e)>1&&Object.defineProperties(e,{set:l4,add:l4,clear:l4,delete:l4}),Object.freeze(e),t&&Object.values(e).forEach(e=>l6(e,!0))),e}var l4={value:function(){lV(2)}};function l8(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var l7={};function l9(e){let t=l7[e];return t||lV(0,e),t}function se(e,t){t&&(l9("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function st(e){sr(e),e.drafts_.forEach(si),e.drafts_=null}function sr(e){e===ts&&(ts=e.parent_)}function sn(e){return ts={drafts_:[],parent_:ts,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function si(e){let t=e[lB];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function so(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[lB].modified_&&(st(t),lV(4)),lK(e)&&(e=sa(t,e),t.parent_||ss(t,e)),t.patches_&&l9("Patches").generateReplacementPatches_(r[lB].base_,e,t.patches_,t.inversePatches_)):e=sa(t,r,[]),st(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lG?e:void 0}function sa(e,t,r){if(l8(t))return t;let n=e.immer_.shouldUseStrictIteration(),i=t[lB];if(!i)return lX(t,(n,o)=>sl(e,i,t,n,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return ss(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let t=i.copy_,o=t,a=!1;3===i.type_&&(o=new Set(t),t.clear(),a=!0),lX(o,(n,o)=>sl(e,i,t,n,o,r,a),n),ss(e,t,!1),r&&e.patches_&&l9("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sl(e,t,r,n,i,o,a){if(null==i||"object"!=typeof i&&!a)return;let l=l8(i);if(!l||a){if(l$(i)){let a=sa(e,i,o&&t&&3!==t.type_&&!lQ(t.assigned_,n)?o.concat(n):void 0);if(l0(r,n,a),!l$(a))return;e.canAutoFreeze_=!1}else a&&r.add(i);if(lK(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;sa(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&(l1(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ss(e,i)}}}function ss(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&l6(t,r)}var su={get(e,t){if(t===lB)return e;let r=l3(e);if(!lQ(r,t)){var n;let i;return n=e,(i=sf(r,t))?"value"in i?i.value:i.get?.call(n.draft_):void 0}let i=r[t];return e.finalized_||!lK(i)?i:i===sp(e.base_,t)?(sh(e),e.copy_[t]=sm(i,e)):i},has:(e,t)=>t in l3(e),ownKeys:e=>Reflect.ownKeys(l3(e)),set(e,t,r){let n=sf(l3(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=sp(l3(e),t),i=n?.[lB];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||lQ(e.base_,t)))return!0;sh(e),sd(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==sp(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,sh(e),sd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=l3(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){lV(11)},getPrototypeOf:e=>lz(e.base_),setPrototypeOf(){lV(12)}},sc={};function sp(e,t){let r=e[lB];return(r?l3(r):e)[t]}function sf(e,t){if(!(t in e))return;let r=lz(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=lz(r)}}function sd(e){!e.modified_&&(e.modified_=!0,e.parent_&&sd(e.parent_))}function sh(e){e.copy_||(e.copy_=l5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}lX(su,(e,t)=>{sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),sc.deleteProperty=function(e,t){return sc.set.call(this,e,t,void 0)},sc.set=function(e,t,r){return su.set.call(this,e[0],t,r,e[0])};var sy=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&lV(6),void 0!==r&&"function"!=typeof r&&lV(7),lK(e)){let i=sn(this),o=sm(e,void 0),a=!0;try{n=t(o),a=!1}finally{a?st(i):sr(i)}return se(i,r),so(n,i)}if(e&&"object"==typeof e)lV(1,e);else{if(void 0===(n=t(e))&&(n=e),n===lG&&(n=void 0),this.autoFreeze_&&l6(n,!0),r){let t=[],i=[];l9("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;lK(e)||lV(8),l$(e)&&(l$(t=e)||lV(10,t),e=function e(t){let r;if(!lK(t)||l8(t))return t;let n=t[lB],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=l5(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=l5(t,!0);return lX(r,(t,n)=>{l0(r,t,e(n))},i),n&&(n.finalized_=!1),r}(t));let r=sn(this),n=sm(e,void 0);return n[lB].isManual_=!0,sr(r),n}finishDraft(e,t){let r=e&&e[lB];r&&r.isManual_||lV(9);let{scope_:n}=r;return se(n,t),so(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=l9("Patches").applyPatches_;return l$(e)?n(e,t):this.produce(e,e=>n(e,t))}};function sm(e,t){let r=l1(e)?l9("MapSet").proxyMap_(e,t):l2(e)?l9("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:+!!r,scope_:t?t.scope_:ts,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,o=su;r&&(i=[n],o=sc);let{revoke:a,proxy:l}=Proxy.revocable(i,o);return n.draft_=l,n.revoke_=a,l}(e,t);return(t?t.scope_:ts).drafts_.push(r),r}new sy().produce;var sg={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},sv=aF({name:"tooltip",initialState:{itemInteraction:{click:sg,hover:sg},axisInteraction:{click:sg,hover:sg},keyboardInteraction:sg,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ak()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=o8(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:ak()},removeTooltipEntrySettings:{reducer(e,t){var r=o8(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ak()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:sb,replaceTooltipEntrySettings:sE,removeTooltipEntrySettings:sO,setTooltipSettingsState:sw,setActiveMouseOverItemIndex:s_,mouseLeaveItem:sx,mouseLeaveChart:sS,setActiveClickItemIndex:sA,setMouseOverAxisIndex:sI,setMouseClickAxisIndex:sT,setSyncInteraction:sC,setKeyboardInteraction:sP}=sv.actions,sN=sv.reducer,sM=aF({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:sj,setDataStartEndIndexes:sk,setComputedData:sR}=sM.actions,sD=sM.reducer,sU=aF({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,o;e.margin.top=null!=(r=t.payload.top)?r:0,e.margin.right=null!=(n=t.payload.right)?n:0,e.margin.bottom=null!=(i=t.payload.bottom)?i:0,e.margin.left=null!=(o=t.payload.left)?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sL,setLayout:sq,setChartSize:sF,setScale:sG}=sU.actions,sH=sU.reducer,sB=e.i(96482),sV=(0,tR.createContext)(null),sz=e=>e,s$=()=>{var e=(0,tR.useContext)(sV);return e?e.store.dispatch:sz},sK=()=>{},sW=()=>sK,sJ=(e,t)=>e===t;function sY(e){var t=(0,tR.useContext)(sV),r=(0,tR.useMemo)(()=>t?t=>{if(null!=t)return e(t)}:sK,[t,e]);return(0,sB.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:sW,t?t.store.getState:sK,t?t.store.getState:sK,r,sJ)}var sX=e.i(42326),sZ=e=>e.legend.settings;function sQ(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function s0(e){return function(){return e}}function s1(e,t){if((i=e.length)>1)for(var r,n,i,o=1,a=e[t[0]],l=a.length;o<i;++o)for(n=a,a=e[t[o]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function s2(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function s3(e,t){return e[t]}function s5(e){let t=[];return t.key=e,t}function s6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function s4(e){return Number.isFinite(e)}function s8(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ue(e,t,r){return null==e||null==t?r:lm(t)?(0,lu.default)(e,t,r):"function"==typeof t?t(e):r}am([e=>e.legend.payload,sZ],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?(0,sX.default)(n,r):n}),Array.prototype.slice;var ut=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,ur=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var i,o,a=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===r&&(o=!0),e.coordinate));return i||a.push(t),o||a.push(r),a},un=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:o,scale:a,realScaleType:l,isCategorical:s,categoricalDomain:u,tickCount:c,ticks:p,niceTicks:f,axisType:d}=e;if(!a)return null;var h="scaleBand"===l&&a.bandwidth?a.bandwidth()/2:2,y=(t||r)&&"category"===i&&a.bandwidth?a.bandwidth()/h:0;return(y="angleAxis"===d&&o&&o.length>=2?2*lf(o[0]-o[1])*y:y,t&&(p||f))?(p||f||[]).map((e,t)=>{var r=n?n.indexOf(e):e,i=a.map(r);return s4(i)?{coordinate:i+y,value:e,offset:y,index:t}:null}).filter(lx):s&&u?u.map((e,t)=>{var r=a.map(e);return s4(r)?{coordinate:r+y,value:e,index:t,offset:y}:null}).filter(lx):a.ticks&&!r&&null!=c?a.ticks(c).map((e,t)=>{var r=a.map(e);return s4(r)?{coordinate:r+y,value:e,index:t,offset:y}:null}).filter(lx):a.domain().map((e,t)=>{var r=a.map(e);return s4(r)?{coordinate:r+y,value:n?n[e]:e,index:t,offset:y}:null}).filter(lx)},ui={sign:e=>{var t,r=e.length;if(!(r<=0)){var n=null==(t=e[0])?void 0:t.length;if(null!=n&&!(n<=0))for(var i=0;i<n;++i)for(var o=0,a=0,l=0;l<r;++l){var s=e[l],u=null==s?void 0:s[i];if(null!=u){var c=u[1],p=u[0],f=ld(c)?p:c;f>=0?(u[0]=o,o+=f,u[1]=o):(u[0]=a,a+=f,u[1]=a)}}}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,o=0,a=e[0].length;o<a;++o){for(i=r=0;r<n;++r)i+=e[r][o][1]||0;if(i)for(r=0;r<n;++r)e[r][o][1]/=i}s1(e,t)}},none:s1,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],o=i.length;n<o;++n){for(var a=0,l=0;a<r;++a)l+=e[a][n][1]||0;i[n][1]+=i[n][0]=-l/2}s1(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,o=0,a=1;a<n;++a){for(var l=0,s=0,u=0;l<i;++l){for(var c=e[t[l]],p=c[a][1]||0,f=(p-(c[a-1][1]||0))/2,d=0;d<l;++d){var h=e[t[d]];f+=(h[a][1]||0)-(h[a-1][1]||0)}s+=p,u+=f*p}r[a-1][1]+=r[a-1][0]=o,s&&(o-=u/s)}r[a-1][1]+=r[a-1][0]=o,s1(e,t)}},positive:e=>{var t,r=e.length;if(!(r<=0)){var n=null==(t=e[0])?void 0:t.length;if(null!=n&&!(n<=0))for(var i=0;i<n;++i)for(var o=0,a=0;a<r;++a){var l=e[a],s=null==l?void 0:l[i];if(null!=s){var u=ld(s[1])?s[0]:s[1];u>=0?(s[0]=o,o+=u,s[1]=o):(s[0]=0,s[1]=0)}}}}};function uo(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:o,dataKey:a}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&null!=i[t.dataKey]){var l=lw(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return null!=r&&r[o]?r[o].coordinate+n/2:null}var s=ue(i,null==a?t.dataKey:a),u=t.scale.map(s);return ly(u)?u:null}var ua=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ul=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,us=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=(0,sX.default)(t,e=>e.coordinate),o=1/0,a=1,l=i.length;a<l;a++){var s=i[a],u=i[a-1];o=Math.min(((null==s?void 0:s.coordinate)||0)-((null==u?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return r?void 0:0};function uu(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:o}=e;return s9(s9({},t),{},{dataKey:r,payload:n,value:i,name:o})}function uc(e,t){return e?String(e):"string"==typeof t?t:void 0}var up=e=>e.layout.width,uf=e=>e.layout.height,ud=e=>e.layout.scale,uh=e=>e.layout.margin,uy=am(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),um=am(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ub=am([up,uf,uh,e=>e.brush.height,function(e){return um(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return um(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return uy(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return uy(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},sZ,e=>e.legend.size],(e,t,r,n,i,o,a,l,s,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+o},p=uv(uv({},{top:(r.top||0)+a,bottom:(r.bottom||0)+l}),c),f=p.bottom;p.bottom+=n;var d=e-(p=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:o,verticalAlign:a,layout:l}=t;if(("vertical"===l||"horizontal"===l&&"middle"===a)&&"center"!==o&&ly(e[o]))return s9(s9({},e),{},{[o]:e[o]+(n||0)});if(("horizontal"===l||"vertical"===l&&"center"===o)&&"middle"!==a&&ly(e[a]))return s9(s9({},e),{},{[a]:e[a]+(i||0)})}return e})(p,s,u)).left-p.right,h=t-p.top-p.bottom;return uv(uv({brushBottom:f},p),{},{width:Math.max(d,0),height:Math.max(h,0)})}),uE=am(ub,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uO=am(up,uf,(e,t)=>({x:0,y:0,width:e,height:t})),uw=(0,tR.createContext)(null),u_=()=>null!=(0,tR.useContext)(uw),ux=e=>e.brush,uS=am([ux,ub,uh],(e,t,r)=>({height:e.height,x:ly(e.x)?e.x:t.left,y:ly(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:ly(e.width)?e.width:t.width}));function uA(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(n&&(n+=" "),n+=t);return n}var uI=e.i(77934),uT=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("u">typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,()=>n[o++]))}},uC="100%",uP="100%",uN={width:-1,height:-1},uM=(e,t,r)=>{var{width:n=uC,height:i=uP,aspect:o,maxHeight:a}=r,l=lh(n)?e:Number(n),s=lh(i)?t:Number(i);return o&&o>0&&(l?s=l/o:s&&(l=s*o),a&&null!=s&&s>a&&(s=a)),{calculatedWidth:l,calculatedHeight:s}},uj={width:0,height:0,overflow:"visible"},uk={width:0,overflowX:"visible"},uR={height:0,overflowY:"visible"},uD={};function uU(){return(uU=Object.assign.bind()).apply(null,arguments)}function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var uF=(0,tR.createContext)(uN);function uG(e){var{children:t,width:r,height:n}=e,i=(0,tR.useMemo)(()=>({width:r,height:n}),[r,n]);return s8(i.width)&&s8(i.height)?tR.createElement(uF.Provider,{value:i},t):null}var uH=()=>(0,tR.useContext)(uF),uB=(0,tR.forwardRef)((e,t)=>{var{aspect:r,initialDimension:n=uN,width:i,height:o,minWidth:a=0,minHeight:l,maxHeight:s,children:u,debounce:c=0,id:p,className:f,onResize:d,style:h={}}=e,y=(0,tR.useRef)(null),m=(0,tR.useRef)();m.current=d,(0,tR.useImperativeHandle)(t,()=>y.current);var[g,v]=(0,tR.useState)({containerWidth:n.width,containerHeight:n.height}),b=(0,tR.useCallback)((e,t)=>{v(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,tR.useEffect)(()=>{if(null==y.current||"u"<typeof ResizeObserver)return lS;var e=e=>{var t,r=e[0];if(null!=r){var{width:n,height:i}=r.contentRect;b(n,i),null==(t=m.current)||t.call(m,n,i)}};c>0&&(e=(0,uI.default)(e,c,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=y.current.getBoundingClientRect();return b(r,n),t.observe(y.current),()=>{t.disconnect()}},[b,c]);var{containerWidth:E,containerHeight:O}=g;uT(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:w,calculatedHeight:_}=uM(E,O,{width:i,height:o,aspect:r,maxHeight:s});return uT(null!=w&&w>0||null!=_&&_>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",w,_,i,o,a,l,r),tR.createElement("div",{id:p?"".concat(p):void 0,className:uA("recharts-responsive-container",f),style:uq(uq({},h),{},{width:i,height:o,minWidth:a,minHeight:l,maxHeight:s}),ref:y},tR.createElement("div",{style:(e=>{var{width:t,height:r}=e,n=lh(t),i=lh(r);return n&&i?uj:n?uk:i?uR:uD})({width:i,height:o})},tR.createElement(uG,{width:w,height:_},u)))}),uV=(0,tR.forwardRef)((e,t)=>{var r=uH();if(s8(r.width)&&s8(r.height))return e.children;var{width:n,height:i}=function(e){var{width:t,height:r,aspect:n}=e,i=t,o=r;return void 0===i&&void 0===o?(i=uC,o=uP):void 0===i?i=n&&n>0?void 0:uC:void 0===o&&(o=n&&n>0?void 0:uP),{width:i,height:o}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=uM(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ly(o)&&ly(a)?tR.createElement(uG,{width:o,height:a},e.children):tR.createElement(uB,uU({},e,{width:n,height:i,ref:t}))});function uz(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var u$=()=>{var e,t=u_(),r=sY(uE),n=sY(uS),i=null==(e=sY(ux))?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},uK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uW=()=>{var e;return null!=(e=sY(ub))?e:uK},uJ=e=>e.layout.layoutType,uY=()=>{var e=sY(uJ);if("horizontal"===e||"vertical"===e)return e},uX=e=>{var t=e.layout.layoutType;if("centric"===t||"radial"===t)return t},uZ=e=>{var t=s$(),r=u_(),{width:n,height:i}=e,o=uH(),a=n,l=i;return o&&(a=o.width>0?o.width:n,l=o.height>0?o.height:i),(0,tR.useEffect)(()=>{!r&&s8(a)&&s8(l)&&t(sF({width:a,height:l}))},[t,r,a,l]),null},uQ=e.i(18661);function u0(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function u1(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],7434),e.i(7434),e.s([],71752),e.i(71752);class u2 extends Map{constructor(e,t=u5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(u3(this,e))}has(e){return super.has(u3(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}(this,e))}}function u3({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function u5(e){return null!==e&&"object"==typeof e?e.valueOf():e}let u6=Symbol("implicit");function u4(){var e=new u2,t=[],r=[],n=u6;function i(i){let o=e.get(i);if(void 0===o){if(n!==u6)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();for(let n of(t=[],e=new u2,r))e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return u4(t,r).unknown(n)},u0.apply(i,arguments),i}function u8(){var e,t,r=u4().unknown(void 0),n=r.domain,i=r.range,o=0,a=1,l=!1,s=0,u=0,c=.5;function p(){var r=n().length,p=a<o,f=p?a:o,d=p?o:a;e=(d-f)/Math.max(1,r-s+2*u),l&&(e=Math.floor(e)),f+=(d-f-e*(r-s))*c,t=e*(1-s),l&&(f=Math.round(f),t=Math.round(t));var h=(function(e,t,r){e*=1,t*=1,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),o=Array(i);++n<i;)o[n]=e+n*r;return o})(r).map(function(t){return f+e*t});return i(p?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),p()):n()},r.range=function(e){return arguments.length?([o,a]=e,o*=1,a*=1,p()):[o,a]},r.rangeRound=function(e){return[o,a]=e,o*=1,a*=1,l=!0,p()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(l=!!e,p()):l},r.padding=function(e){return arguments.length?(s=Math.min(1,u=+e),p()):s},r.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),p()):s},r.paddingOuter=function(e){return arguments.length?(u=+e,p()):u},r.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),p()):c},r.copy=function(){return u8(n(),[o,a]).round(l).paddingInner(s).paddingOuter(u).align(c)},u0.apply(p(),arguments)}function u7(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(u8.apply(null,arguments).paddingInner(1))}let u9=Math.sqrt(50),ce=Math.sqrt(10),ct=Math.sqrt(2);function cr(e,t,r){let n,i,o,a=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(a)),s=a/Math.pow(10,l),u=s>=u9?10:s>=ce?5:s>=ct?2:1;return(l<0?(n=Math.round(e*(o=Math.pow(10,-l)/u)),i=Math.round(t*o),n/o<e&&++n,i/o>t&&--i,o=-o):(n=Math.round(e/(o=Math.pow(10,l)*u)),i=Math.round(t/o),n*o<e&&++n,i*o>t&&--i),i<n&&.5<=r&&r<2)?cr(e,t,2*r):[n,i,o]}function cn(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let n=t<e,[i,o,a]=n?cr(t,e,r):cr(e,t,r);if(!(o>=i))return[];let l=o-i+1,s=Array(l);if(n)if(a<0)for(let e=0;e<l;++e)s[e]=-((o-e)/a);else for(let e=0;e<l;++e)s[e]=(o-e)*a;else if(a<0)for(let e=0;e<l;++e)s[e]=-((i+e)/a);else for(let e=0;e<l;++e)s[e]=(i+e)*a;return s}function ci(e,t,r){return cr(e*=1,t*=1,r*=1)[2]}function co(e,t,r){t*=1,e*=1,r*=1;let n=t<e,i=n?ci(t,e,r):ci(e,t,r);return(n?-1:1)*(i<0?-(1/i):i)}function ca(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cl(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cs(e){let t,r,n;function i(e,n,o=0,a=e.length){if(o<a){if(0!==t(n,n))return a;do{let t=o+a>>>1;0>r(e[t],n)?o=t+1:a=t}while(o<a)}return o}return 2!==e.length?(t=ca,r=(t,r)=>ca(e(t),r),n=(t,r)=>e(t)-r):(t=e===ca||e===cl?e:cu,r=e,n=e),{left:i,center:function(e,t,r=0,o=e.length){let a=i(e,t,r,o-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n,i=0,o=e.length){if(i<o){if(0!==t(n,n))return o;do{let t=i+o>>>1;0>=r(e[t],n)?i=t+1:o=t}while(i<o)}return i}}}function cu(){return 0}function cc(e){return null===e?NaN:+e}let cp=cs(ca),cf=cp.right;function cd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ch(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cy(){}cp.left,cs(cc).center;var cm="\\s*([+-]?\\d+)\\s*",cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cb=/^#([0-9a-f]{3,8})$/,cE=RegExp(`^rgb\\(${cm},${cm},${cm}\\)$`),cO=RegExp(`^rgb\\(${cv},${cv},${cv}\\)$`),cw=RegExp(`^rgba\\(${cm},${cm},${cm},${cg}\\)$`),c_=RegExp(`^rgba\\(${cv},${cv},${cv},${cg}\\)$`),cx=RegExp(`^hsl\\(${cg},${cv},${cv}\\)$`),cS=RegExp(`^hsla\\(${cg},${cv},${cv},${cg}\\)$`),cA={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function cI(){return this.rgb().formatHex()}function cT(){return this.rgb().formatRgb()}function cC(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cb.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?cP(t):3===r?new cj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?cN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?cN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=cE.exec(e))?new cj(t[1],t[2],t[3],1):(t=cO.exec(e))?new cj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=cw.exec(e))?cN(t[1],t[2],t[3],t[4]):(t=c_.exec(e))?cN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=cx.exec(e))?cq(t[1],t[2]/100,t[3]/100,1):(t=cS.exec(e))?cq(t[1],t[2]/100,t[3]/100,t[4]):cA.hasOwnProperty(e)?cP(cA[e]):"transparent"===e?new cj(NaN,NaN,NaN,0):null}function cP(e){return new cj(e>>16&255,e>>8&255,255&e,1)}function cN(e,t,r,n){return n<=0&&(e=t=r=NaN),new cj(e,t,r,n)}function cM(e,t,r,n){var i;return 1==arguments.length?((i=e)instanceof cy||(i=cC(i)),i)?new cj((i=i.rgb()).r,i.g,i.b,i.opacity):new cj:new cj(e,t,r,null==n?1:n)}function cj(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function ck(){return`#${cL(this.r)}${cL(this.g)}${cL(this.b)}`}function cR(){let e=cD(this.opacity);return`${1===e?"rgb(":"rgba("}${cU(this.r)}, ${cU(this.g)}, ${cU(this.b)}${1===e?")":`, ${e})`}`}function cD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cU(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cL(e){return((e=cU(e))<16?"0":"")+e.toString(16)}function cq(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cG(e,t,r,n)}function cF(e){if(e instanceof cG)return new cG(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=cC(e)),!e)return new cG;if(e instanceof cG)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,l=o-i,s=(o+i)/2;return l?(a=t===o?(r-n)/l+(r<n)*6:r===o?(n-t)/l+2:(t-r)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new cG(a,l,s,e.opacity)}function cG(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function cH(e){return(e=(e||0)%360)<0?e+360:e}function cB(e){return Math.max(0,Math.min(1,e||0))}function cV(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function cz(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}cd(cy,cC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cI,formatHex:cI,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cF(this).formatHsl()},formatRgb:cT,toString:cT}),cd(cj,cM,ch(cy,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new cj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new cj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cj(cU(this.r),cU(this.g),cU(this.b),cD(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ck,formatHex:ck,formatHex8:function(){return`#${cL(this.r)}${cL(this.g)}${cL(this.b)}${cL((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:cR,toString:cR})),cd(cG,function(e,t,r,n){return 1==arguments.length?cF(e):new cG(e,t,r,null==n?1:n)},ch(cy,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new cG(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new cG(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new cj(cV(e>=240?e-240:e+120,i,n),cV(e,i,n),cV(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new cG(cH(this.h),cB(this.s),cB(this.l),cD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=cD(this.opacity);return`${1===e?"hsl(":"hsla("}${cH(this.h)}, ${100*cB(this.s)}%, ${100*cB(this.l)}%${1===e?")":`, ${e})`}`}}));let c$=e=>()=>e;function cK(e,t){var r=t-e;return r?function(t){return e+t*r}:c$(isNaN(e)?t:e)}let cW=function e(t){var r,n=1==(r=+t)?cK:function(e,t){var n,i,o;return t-e?(n=e,i=t,n=Math.pow(n,o=r),i=Math.pow(i,o)-n,o=1/o,function(e){return Math.pow(n+e*i,o)}):c$(isNaN(e)?t:e)};function i(e,t){var r=n((e=cM(e)).r,(t=cM(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=cK(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function cJ(e){return function(t){var r,n,i=t.length,o=Array(i),a=Array(i),l=Array(i);for(r=0;r<i;++r)n=cM(t[r]),o[r]=n.r||0,a[r]=n.g||0,l[r]=n.b||0;return o=e(o),a=e(a),l=e(l),n.opacity=1,function(e){return n.r=o(e),n.g=a(e),n.b=l(e),n+""}}}function cY(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}cJ(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,l=n<t-1?e[n+2]:2*o-i;return cz((r-n/t)*t,a,i,o,l)}}),cJ(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],a=e[(n+1)%t],l=e[(n+2)%t];return cz((r-n/t)*t,i,o,a,l)}});var cX=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cZ=RegExp(cX.source,"g");function cQ(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?c$(t):("number"===i?cY:"string"===i?(n=cC(t))?(t=n,cW):function(e,t){var r,n,i,o,a,l=cX.lastIndex=cZ.lastIndex=0,s=-1,u=[],c=[];for(e+="",t+="";(i=cX.exec(e))&&(o=cZ.exec(t));)(a=o.index)>l&&(a=t.slice(l,a),u[s]?u[s]+=a:u[++s]=a),(i=i[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,c.push({i:s,x:cY(i,o)})),l=cZ.lastIndex;return l<t.length&&(a=t.slice(l),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?(r=c[0].x,function(e){return r(e)+""}):(n=t,function(){return n}):(t=c.length,function(e){for(var r,n=0;n<t;++n)u[(r=c[n]).i]=r.x(e);return u.join("")})}:t instanceof cC?cW:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(n){return r.setTime(e*(1-n)+t*n),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,o=Array(i),a=Array(n);for(r=0;r<i;++r)o[r]=cQ(e[r],t[r]);for(;r<n;++r)a[r]=t[r];return function(e){for(r=0;r<i;++r)a[r]=o[r](e);return a}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=cQ(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}:cY:function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}})(e,t)}function c0(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function c1(e){return+e}var c2=[0,1];function c3(e){return e}function c5(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function c6(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=c5(i,n),o=r(a,o)):(n=c5(n,i),o=r(o,a)),function(e){return o(n(e))}}function c4(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),o=Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=c5(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(t){var r=cf(e,t,1,n)-1;return o[r](i[r](t))}}function c8(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function c7(){var e,t,r,n,i,o,a=c2,l=c2,s=cQ,u=c3;function c(){var e,t,r,s=Math.min(a.length,l.length);return u!==c3&&(e=a[0],t=a[s-1],e>t&&(r=e,e=t,t=r),u=function(r){return Math.max(e,Math.min(t,r))}),n=s>2?c4:c6,i=o=null,p}function p(t){return null==t||isNaN(t*=1)?r:(i||(i=n(a.map(e),l,s)))(e(u(t)))}return p.invert=function(r){return u(t((o||(o=n(l,a.map(e),cY)))(r)))},p.domain=function(e){return arguments.length?(a=Array.from(e,c1),c()):a.slice()},p.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},p.rangeRound=function(e){return l=Array.from(e),s=c0,c()},p.clamp=function(e){return arguments.length?(u=!!e||c3,c()):u!==c3},p.interpolate=function(e){return arguments.length?(s=e,c()):s},p.unknown=function(e){return arguments.length?(r=e,p):r},function(r,n){return e=r,t=n,c()}}function c9(){return c7()(c3,c3)}function pe(e,t){if(!isFinite(e)||0===e)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pt(e){return(e=pe(Math.abs(e)))?e[1]:NaN}var pr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pn(e){var t;if(!(t=pr.exec(e)))throw Error("invalid format: "+e);return new pi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function pi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function po(e,t){var r=pe(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+Array(i-n.length+2).join("0")}pn.prototype=pi.prototype,pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let pa={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>po(100*e,t),r:po,s:function(e,t){var r=pe(e,t);if(!r)return tu=void 0,e.toPrecision(t);var n=r[0],i=r[1],o=i-(tu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=n.length;return o===a?n:o>a?n+Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+Array(1-o).join("0")+pe(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pl(e){return e}var ps=Array.prototype.map,pu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pc(e,t,r,n){var i,o,a=co(e,t,r);switch((n=pn(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(o=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pt(l)/3)))-pt(Math.abs(a))))||(n.precision=o),tf(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Math.max(0,pt(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i=a)))-pt(i))+1)||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Math.max(0,-pt(Math.abs(a))))||(n.precision=o-("%"===n.type)*2)}return tp(n)}function pp(e){var t=e.domain;return e.ticks=function(e){var r=t();return cn(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return pc(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,o=t(),a=0,l=o.length-1,s=o[a],u=o[l],c=10;for(u<s&&(i=s,s=u,u=i,i=a,a=l,l=i);c-- >0;){if((i=ci(s,u,r))===n)return o[a]=s,o[l]=u,t(o);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else if(i<0)s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i;else break;n=i}return e},e}function pf(){var e=c9();return e.copy=function(){return c8(e,pf())},u0.apply(e,arguments),pp(e)}function pd(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,c1),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return pd(e).unknown(t)},e=arguments.length?Array.from(e,c1):[0,1],pp(r)}function ph(e,t){e=e.slice();var r,n=0,i=e.length-1,o=e[n],a=e[i];return a<o&&(r=n,n=i,i=r,r=o,o=a,a=r),e[n]=t.floor(o),e[i]=t.ceil(a),e}function py(e){return Math.log(e)}function pm(e){return Math.exp(e)}function pg(e){return-Math.log(-e)}function pv(e){return-Math.exp(-e)}function pb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pE(e){return(t,r)=>-e(-t,r)}function pO(e){let t,r,n=e(py,pm),i=n.domain,o=10;function a(){var a,l;return t=(a=o)===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),e=>Math.log(e)/a),r=10===(l=o)?pb:l===Math.E?Math.exp:e=>Math.pow(l,e),i()[0]<0?(t=pE(t),r=pE(r),e(pg,pv)):e(py,pm),n}return n.base=function(e){return arguments.length?(o=+e,a()):o},n.domain=function(e){return arguments.length?(i(e),a()):i()},n.ticks=e=>{let n,a,l=i(),s=l[0],u=l[l.length-1],c=u<s;c&&([s,u]=[u,s]);let p=t(s),f=t(u),d=null==e?10:+e,h=[];if(!(o%1)&&f-p<d){if(p=Math.floor(p),f=Math.ceil(f),s>0){for(;p<=f;++p)for(n=1;n<o;++n)if(!((a=p<0?n/r(-p):n*r(p))<s)){if(a>u)break;h.push(a)}}else for(;p<=f;++p)for(n=o-1;n>=1;--n)if(!((a=p>0?n/r(-p):n*r(p))<s)){if(a>u)break;h.push(a)}2*h.length<d&&(h=cn(s,u,d))}else h=cn(p,f,Math.min(f-p,d)).map(r);return c?h.reverse():h},n.tickFormat=(e,i)=>{if(null==e&&(e=10),null==i&&(i=10===o?"s":","),"function"!=typeof i&&(o%1||null!=(i=pn(i)).precision||(i.trim=!0),i=tp(i)),e===1/0)return i;let a=Math.max(1,o*e/n.ticks().length);return e=>{let n=e/r(Math.round(t(e)));return n*o<o-.5&&(n*=o),n<=a?i(e):""}},n.nice=()=>i(ph(i(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),n}function pw(){let e=pO(c7()).domain([1,10]);return e.copy=()=>c8(e,pw()).base(e.base()),u0.apply(e,arguments),e}function p_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function px(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pS(e){var t=1,r=e(p_(1),px(t));return r.constant=function(r){return arguments.length?e(p_(t=+r),px(t)):t},pp(r)}function pA(){var e=pS(c7());return e.copy=function(){return c8(e,pA()).constant(e.constant())},u0.apply(e,arguments)}function pI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pC(e){return e<0?-e*e:e*e}function pP(e){var t=e(c3,c3),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(c3,c3):.5===r?e(pT,pC):e(pI(r),pI(1/r)):r},pp(t)}function pN(){var e=pP(c7());return e.copy=function(){return c8(e,pN()).exponent(e.exponent())},u0.apply(e,arguments),e}function pM(){return pN.apply(null,arguments).exponent(.5)}function pj(e){return Math.sign(e)*e*e}function pk(){var e,t=c9(),r=[0,1],n=!1;function i(r){var i,o=Math.sign(i=t(r))*Math.sqrt(Math.abs(i));return isNaN(o)?e:n?Math.round(o):o}return i.invert=function(e){return t.invert(pj(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,c1)).map(pj)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return pk(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},u0.apply(i,arguments),pp(i)}function pR(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function pD(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function pU(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function pL(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function pq(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=Array(i-1);++e<i;)n[e-1]=function(e,t,r=cc){if(!(!(n=e.length)||isNaN(t*=1))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e);return a+(r(e[o+1],o+1,e)-a)*(i-o)}}(t,e/i);return o}function o(t){return null==t||isNaN(t*=1)?e:r[cf(n,t)]}return o.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(ca),i()},o.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return n.slice()},o.copy=function(){return pq().domain(t).range(r).unknown(e)},u0.apply(o,arguments)}function pF(){var e,t=0,r=1,n=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[cf(i,t,0,n)]:e}function l(){var e=-1;for(i=Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return a}return a.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,l()):[t,r]},a.range=function(e){return arguments.length?(n=(o=Array.from(e)).length-1,l()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=n?[i[n-1],r]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length&&(e=t),a},a.thresholds=function(){return i.slice()},a.copy=function(){return pF().domain([t,r]).range(o).unknown(e)},u0.apply(pp(a),arguments)}function pG(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[cf(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(n=Math.min((t=Array.from(e)).length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return pG().domain(t).range(r).unknown(e)},u0.apply(i,arguments)}tp=(tc=function(e){var t,r,n,i=void 0===e.grouping||void 0===e.thousands?pl:(t=ps.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>n));)l=t[a=(a+1)%t.length];return o.reverse().join(r)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?pl:(n=ps.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return n[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",p=void 0===e.nan?"NaN":e.nan+"";function f(e,t){var r=(e=pn(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,y=e.width,m=e.comma,g=e.precision,v=e.trim,b=e.type;"n"===b?(m=!0,b="g"):pa[b]||(void 0===g&&(g=12),v=!0,b="g"),(h||"0"===r&&"="===n)&&(h=!0,r="0",n="=");var E=(t&&void 0!==t.prefix?t.prefix:"")+("$"===d?o:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),O=("$"===d?a:/[%p]/.test(b)?u:"")+(t&&void 0!==t.suffix?t.suffix:""),w=pa[b],_=/[defgprs%]/.test(b);function x(e){var t,o,a,u=E,d=O;if("c"===b)d=w(e)+d,e="";else{var x=(e*=1)<0||1/e<0;if(e=isNaN(e)?p:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0==+e&&"+"!==f&&(x=!1),u=(x?"("===f?f:c:"-"===f||"("===f?"":f)+u,d=("s"!==b||isNaN(e)||void 0===tu?"":pu[8+tu/3])+d+(x&&"("===f?")":""),_){for(t=-1,o=e.length;++t<o;)if(48>(a=e.charCodeAt(t))||a>57){d=(46===a?l+e.slice(t+1):e.slice(t))+d,e=e.slice(0,t);break}}}m&&!h&&(e=i(e,1/0));var S=u.length+e.length+d.length,A=S<y?Array(y-S+1).join(r):"";switch(m&&h&&(e=i(A+e,A.length?y-d.length:1/0),A=""),n){case"<":e=u+e+d+A;break;case"=":e=u+A+e+d;break;case"^":e=A.slice(0,S=A.length>>1)+u+e+d+A.slice(S);break;default:e=A+u+e+d}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:f,formatPrefix:function(e,t){var r=3*Math.max(-8,Math.min(8,Math.floor(pt(t)/3))),n=Math.pow(10,-r),i=f(((e=pn(e)).type="f",e),{suffix:pu[8+r/3]});return function(e){return i(n*e)}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,tf=tc.formatPrefix;let pH=new Date,pB=new Date;function pV(e,t,r,n){function i(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{let t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,o)=>{let a,l=[];if(r=i.ceil(r),o=null==o?1:Math.floor(o),!(r<n)||!(o>0))return l;do l.push(a=new Date(+r)),t(r,o),e(r);while(a<r&&r<n)return l},i.filter=r=>pV(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(pH.setTime(+t),pB.setTime(+n),e(pH),e(pB),Math.floor(r(pH,pB))),i.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null),i}let pz=pV(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pz.every=e=>isFinite(e=Math.floor(e))&&e>0?pV(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,pz.range;let p$=pV(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());p$.every=e=>isFinite(e=Math.floor(e))&&e>0?pV(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,p$.range;let pK=pV(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pK.range;let pW=pV(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pW.range;function pJ(e){return pV(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let pY=pJ(0),pX=pJ(1),pZ=pJ(2),pQ=pJ(3),p0=pJ(4),p1=pJ(5),p2=pJ(6);function p3(e){return pV(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}pY.range,pX.range,pZ.range,pQ.range,p0.range,p1.range,p2.range;let p5=p3(0),p6=p3(1),p4=p3(2),p8=p3(3),p7=p3(4),p9=p3(5),fe=p3(6);p5.range,p6.range,p4.range,p8.range,p7.range,p9.range,fe.range;let ft=pV(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);ft.range;let fr=pV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);fr.range;let fn=pV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));fn.range;let fi=pV(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());fi.range;let fo=pV(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());fo.range;let fa=pV(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());fa.range;let fl=pV(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());fl.range;let fs=pV(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());fs.range;let fu=pV(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function fc(e,t,r,n,i,o){let a=[[fs,1,1e3],[fs,5,5e3],[fs,15,15e3],[fs,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(t,r,n){let i=Math.abs(r-t)/n,o=cs(([,,e])=>e).right(a,i);if(o===a.length)return e.every(co(t/31536e6,r/31536e6,n));if(0===o)return fu.every(Math.max(co(t,r,n),1));let[l,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return l.every(s)}return[function(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let i=r&&"function"==typeof r.range?r:l(e,t,r),o=i?i.range(e,+t+1):[];return n?o.reverse():o},l]}fu.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?pV(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fu:null,fu.range;let[fp,ff]=fc(p$,pW,p5,fn,fo,fl),[fd,fh]=fc(pz,pK,pY,ft,fi,fa);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var fv={"-":"",_:" ",0:"0"},fb=/^\s*\d+/,fE=/^%/,fO=/[\\^$*+?|[\]().{}]/g;function fw(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?Array(r-o+1).join(t)+i:i)}function f_(e){return e.replace(fO,"\\$&")}function fx(e){return RegExp("^(?:"+e.map(f_).join("|")+")","i")}function fS(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function fA(e,t,r){var n=fb.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fI(e,t,r){var n=fb.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fT(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fC(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fP(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fN(e,t,r){var n=fb.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fM(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fj(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fk(e,t,r){var n=fb.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function fR(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fD(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function fU(e,t,r){var n=fb.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fL(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fF(e,t,r){var n=fb.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function fG(e,t,r){var n=fb.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fH(e,t,r){var n=fb.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fB(e,t,r){var n=fE.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fV(e,t,r){var n=fb.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fz(e,t,r){var n=fb.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function f$(e,t){return fw(e.getDate(),t,2)}function fK(e,t){return fw(e.getHours(),t,2)}function fW(e,t){return fw(e.getHours()%12||12,t,2)}function fJ(e,t){return fw(1+ft.count(pz(e),e),t,3)}function fY(e,t){return fw(e.getMilliseconds(),t,3)}function fX(e,t){return fY(e,t)+"000"}function fZ(e,t){return fw(e.getMonth()+1,t,2)}function fQ(e,t){return fw(e.getMinutes(),t,2)}function f0(e,t){return fw(e.getSeconds(),t,2)}function f1(e){var t=e.getDay();return 0===t?7:t}function f2(e,t){return fw(pY.count(pz(e)-1,e),t,2)}function f3(e){var t=e.getDay();return t>=4||0===t?p0(e):p0.ceil(e)}function f5(e,t){return e=f3(e),fw(p0.count(pz(e),e)+(4===pz(e).getDay()),t,2)}function f6(e){return e.getDay()}function f4(e,t){return fw(pX.count(pz(e)-1,e),t,2)}function f8(e,t){return fw(e.getFullYear()%100,t,2)}function f7(e,t){return fw((e=f3(e)).getFullYear()%100,t,2)}function f9(e,t){return fw(e.getFullYear()%1e4,t,4)}function de(e,t){var r=e.getDay();return fw((e=r>=4||0===r?p0(e):p0.ceil(e)).getFullYear()%1e4,t,4)}function dt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fw(t/60|0,"0",2)+fw(t%60,"0",2)}function dr(e,t){return fw(e.getUTCDate(),t,2)}function dn(e,t){return fw(e.getUTCHours(),t,2)}function di(e,t){return fw(e.getUTCHours()%12||12,t,2)}function da(e,t){return fw(1+fr.count(p$(e),e),t,3)}function dl(e,t){return fw(e.getUTCMilliseconds(),t,3)}function ds(e,t){return dl(e,t)+"000"}function du(e,t){return fw(e.getUTCMonth()+1,t,2)}function dc(e,t){return fw(e.getUTCMinutes(),t,2)}function dp(e,t){return fw(e.getUTCSeconds(),t,2)}function df(e){var t=e.getUTCDay();return 0===t?7:t}function dd(e,t){return fw(p5.count(p$(e)-1,e),t,2)}function dh(e){var t=e.getUTCDay();return t>=4||0===t?p7(e):p7.ceil(e)}function dy(e,t){return e=dh(e),fw(p7.count(p$(e),e)+(4===p$(e).getUTCDay()),t,2)}function dm(e){return e.getUTCDay()}function dg(e,t){return fw(p6.count(p$(e)-1,e),t,2)}function dv(e,t){return fw(e.getUTCFullYear()%100,t,2)}function db(e,t){return fw((e=dh(e)).getUTCFullYear()%100,t,2)}function dE(e,t){return fw(e.getUTCFullYear()%1e4,t,4)}function dO(e,t){var r=e.getUTCDay();return fw((e=r>=4||0===r?p7(e):p7.ceil(e)).getUTCFullYear()%1e4,t,4)}function dw(){return"+0000"}function d_(){return"%"}function dx(e){return+e}function dS(e){return Math.floor(e/1e3)}function dA(e){return new Date(e)}function dI(e){return e instanceof Date?+e:+new Date(+e)}function dT(e,t,r,n,i,o,a,l,s,u){var c=c9(),p=c.invert,f=c.domain,d=u(".%L"),h=u(":%S"),y=u("%I:%M"),m=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),E=u("%Y");function O(e){return(s(e)<e?d:l(e)<e?h:a(e)<e?y:o(e)<e?m:n(e)<e?i(e)<e?g:v:r(e)<e?b:E)(e)}return c.invert=function(e){return new Date(p(e))},c.domain=function(e){return arguments.length?f(Array.from(e,dI)):f().map(dA)},c.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?O:u(t)},c.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(ph(r,e)):c},c.copy=function(){return c8(c,dT(e,t,r,n,i,o,a,l,s,u))},c}function dC(){return u0.apply(dT(fd,fh,pz,pK,pY,ft,fi,fa,fs,th).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dP(){return u0.apply(dT(fp,ff,p$,pW,p5,fr,fo,fl,fs,ty).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dN(){var e,t,r,n,i,o=0,a=1,l=c3,s=!1;function u(t){return null==t||isNaN(t*=1)?i:l(0===r?.5:(t=(n(t)-e)*r,s?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var r,n;return arguments.length?([r,n]=t,l=e(r,n),u):[l(0),l(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=n(o*=1),t=n(a*=1),r=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(s=!!e,u):s},u.interpolator=function(e){return arguments.length?(l=e,u):l},u.range=c(cQ),u.rangeRound=c(c0),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return n=i,e=i(o),t=i(a),r=e===t?0:1/(t-e),u}}function dM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dj(){var e=pp(dN()(c3));return e.copy=function(){return dM(e,dj())},u1.apply(e,arguments)}function dk(){var e=pO(dN()).domain([1,10]);return e.copy=function(){return dM(e,dk()).base(e.base())},u1.apply(e,arguments)}function dR(){var e=pS(dN());return e.copy=function(){return dM(e,dR()).constant(e.constant())},u1.apply(e,arguments)}function dD(){var e=pP(dN());return e.copy=function(){return dM(e,dD()).exponent(e.exponent())},u1.apply(e,arguments)}function dU(){return dD.apply(null,arguments).exponent(.5)}function dL(){var e=[],t=c3;function r(r){if(null!=r&&!isNaN(r*=1))return t((cf(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(ca),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>(function(e,t,r){if(!(!(n=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n*=1)>=n&&(yield n)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||n<2)return pD(e);if(t>=1)return pR(e);var n,i=(n-1)*t,o=Math.floor(i),a=pR((function e(t,r,n=0,i=1/0,o){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=r&&r<=i))return t;for(o=void 0===o?pU:function(e=ca){if(e===ca)return pU;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(o);i>n;){if(i-n>600){let a=i-n+1,l=r-n+1,s=Math.log(a),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(a-u)/a)*(l-a/2<0?-1:1),p=Math.max(n,Math.floor(r-l*u/a+c)),f=Math.min(i,Math.floor(r+(a-l)*u/a+c));e(t,r,p,f,o)}let a=t[r],l=n,s=i;for(pL(t,n,r),o(t[i],a)>0&&pL(t,n,i);l<s;){for(pL(t,l,s),++l,--s;0>o(t[l],a);)++l;for(;o(t[s],a)>0;)--s}0===o(t[n],a)?pL(t,n,s):pL(t,++s,i),s<=r&&(n=s+1),r<=s&&(i=s-1)}return t})(e,o).subarray(0,o+1));return a+(pD(e.subarray(o+1))-a)*(i-o)}})(e,n/t))},r.copy=function(){return dL(t).domain(e)},u1.apply(r,arguments)}function dq(){var e,t,r,n,i,o,a,l=0,s=.5,u=1,c=1,p=c3,f=!1;function d(e){return isNaN(e*=1)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?n:i),p(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,p=function(e,t){void 0===t&&(t=e,e=cQ);for(var r=0,n=t.length-1,i=t[0],o=Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return o[t](e-t)}}(e,[r,n,i]),d):[p(0),p(.5),p(1)]}}return d.domain=function(a){return arguments.length?([l,s,u]=a,e=o(l*=1),t=o(s*=1),r=o(u*=1),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),c=t<e?-1:1,d):[l,s,u]},d.clamp=function(e){return arguments.length?(f=!!e,d):f},d.interpolator=function(e){return arguments.length?(p=e,d):p},d.range=h(cQ),d.rangeRound=h(c0),d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return o=a,e=a(l),t=a(s),r=a(u),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),c=t<e?-1:1,d}}function dF(){var e=pp(dq()(c3));return e.copy=function(){return dM(e,dF())},u1.apply(e,arguments)}function dG(){var e=pO(dq()).domain([.1,1,10]);return e.copy=function(){return dM(e,dG()).base(e.base())},u1.apply(e,arguments)}function dH(){var e=pS(dq());return e.copy=function(){return dM(e,dH()).constant(e.constant())},u1.apply(e,arguments)}function dB(){var e=pP(dq());return e.copy=function(){return dM(e,dB()).exponent(e.exponent())},u1.apply(e,arguments)}function dV(){return dB.apply(null,arguments).exponent(.5)}th=(td=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,l=e.months,s=e.shortMonths,u=fx(i),c=fS(i),p=fx(o),f=fS(o),d=fx(a),h=fS(a),y=fx(l),m=fS(l),g=fx(s),v=fS(s),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:f$,e:f$,f:fX,g:f7,G:de,H:fK,I:fW,j:fJ,L:fY,m:fZ,M:fQ,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:dx,s:dS,S:f0,u:f1,U:f2,V:f5,w:f6,W:f4,x:null,X:null,y:f8,Y:f9,Z:dt,"%":d_},E={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:dr,e:dr,f:ds,g:db,G:dO,H:dn,I:di,j:da,L:dl,m:du,M:dc,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:dx,s:dS,S:dp,u:df,U:dd,V:dy,w:dm,W:dg,x:null,X:null,y:dv,Y:dE,Z:dw,"%":d_},O={a:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return x(e,t,r,n)},d:fD,e:fD,f:fH,g:fM,G:fN,H:fL,I:fL,j:fU,L:fG,m:fR,M:fq,p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c.get(n[0].toLowerCase()),r+n[0].length):-1},q:fk,Q:fV,s:fz,S:fF,u:fI,U:fT,V:fC,w:fA,W:fP,x:function(e,t,n){return x(e,r,t,n)},X:function(e,t,r){return x(e,n,t,r)},y:fM,Y:fN,Z:fj,"%":fB};function w(e,t){return function(r){var n,i,o,a=[],l=-1,s=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++l<u;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=fv[n=e.charAt(++l)])?n=e.charAt(++l):i="e"===n?" ":"0",(o=t[n])&&(n=o(r,i)),a.push(n),s=l+1);return a.push(e.slice(s,l)),a.join("")}}function _(e,t){return function(r){var n,i,o=fg(1900,void 0,1);if(x(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!t||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(n=(i=(n=fm(fg(o.y,0,1))).getUTCDay())>4||0===i?p6.ceil(n):p6(n),n=fr.offset(n,(o.V-1)*7),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(n=(i=(n=fy(fg(o.y,0,1))).getDay())>4||0===i?pX.ceil(n):pX(n),n=ft.offset(n,(o.V-1)*7),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:+("W"in o)),i="Z"in o?fm(fg(o.y,0,1)).getUTCDay():fy(fg(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,fm(o)):fy(o)}}function x(e,t,r,n){for(var i,o,a=0,l=t.length,s=r.length;a<l;){if(n>=s)return -1;if(37===(i=t.charCodeAt(a++))){if(!(o=O[(i=t.charAt(a++))in fv?t.charAt(a++):i])||(n=o(e,r,n))<0)return -1}else if(i!=r.charCodeAt(n++))return -1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),E.x=w(r,E),E.X=w(n,E),E.c=w(t,E),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,td.parse,ty=td.utcFormat,td.utcParse,e.s(["scaleBand",()=>u8,"scaleDiverging",()=>dF,"scaleDivergingLog",()=>dG,"scaleDivergingPow",()=>dB,"scaleDivergingSqrt",()=>dV,"scaleDivergingSymlog",()=>dH,"scaleIdentity",()=>pd,"scaleImplicit",0,u6,"scaleLinear",()=>pf,"scaleLog",()=>pw,"scaleOrdinal",()=>u4,"scalePoint",()=>u7,"scalePow",()=>pN,"scaleQuantile",()=>pq,"scaleQuantize",()=>pF,"scaleRadial",()=>pk,"scaleSequential",()=>dj,"scaleSequentialLog",()=>dk,"scaleSequentialPow",()=>dD,"scaleSequentialQuantile",()=>dL,"scaleSequentialSqrt",()=>dU,"scaleSequentialSymlog",()=>dR,"scaleSqrt",()=>pM,"scaleSymlog",()=>pA,"scaleThreshold",()=>pG,"scaleTime",()=>dC,"scaleUtc",()=>dP,"tickFormat",()=>pc],89717),e.i(89717),e.s(["scaleBand",()=>u8,"scaleDiverging",()=>dF,"scaleDivergingLog",()=>dG,"scaleDivergingPow",()=>dB,"scaleDivergingSqrt",()=>dV,"scaleDivergingSymlog",()=>dH,"scaleIdentity",()=>pd,"scaleImplicit",0,u6,"scaleLinear",()=>pf,"scaleLog",()=>pw,"scaleOrdinal",()=>u4,"scalePoint",()=>u7,"scalePow",()=>pN,"scaleQuantile",()=>pq,"scaleQuantize",()=>pF,"scaleRadial",()=>pk,"scaleSequential",()=>dj,"scaleSequentialLog",()=>dk,"scaleSequentialPow",()=>dD,"scaleSequentialQuantile",()=>dL,"scaleSequentialSqrt",()=>dU,"scaleSequentialSymlog",()=>dR,"scaleSqrt",()=>pM,"scaleSymlog",()=>pA,"scaleThreshold",()=>pG,"scaleTime",()=>dC,"scaleUtc",()=>dP,"tickFormat",()=>pc],78776);var dz=e.i(78776),d$=e=>e.chartData,dK=am([d$],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dW=(e,t,r,n)=>n?dK(e):d$(e);function dJ(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(s4(t)&&s4(r))return!0}return!1}function dY(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dX(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,o]=e;if(s4(i))r=i;else if("function"==typeof i)return;if(s4(o))n=o;else if("function"==typeof o)return;var a=[r,n];if(dJ(a))return a}}var dZ=e.i(60600);function dQ(e){return 0===e?1:Math.floor(new dZ.default(e).abs().log(10).toNumber())+1}function d0(e,t,r){for(var n=new dZ.default(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var d1=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},d2=(e,t,r)=>{if(e.lte(0))return new dZ.default(0);var n=dQ(e.toNumber()),i=new dZ.default(10).pow(n),o=e.div(i),a=1!==n?.05:.1,l=new dZ.default(Math.ceil(o.div(a).toNumber())).add(r).mul(a).mul(i);return new dZ.default(t?l.toNumber():Math.ceil(l.toNumber()))},d3=function(e,t,r,n){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new dZ.default(0),tickMin:new dZ.default(0),tickMax:new dZ.default(0)};var a=d2(new dZ.default(t).sub(e).div(r-1),n,o),l=Math.ceil((i=e<=0&&t>=0?new dZ.default(0):(i=new dZ.default(e).add(t).div(2)).sub(new dZ.default(i).mod(a))).sub(e).div(a).toNumber()),s=Math.ceil(new dZ.default(t).sub(i).div(a).toNumber()),u=l+s+1;return u>r?d3(e,t,r,n,o+1):(u<r&&(s=t>0?s+(r-u):s,l=t>0?l:l+(r-u)),{step:a,tickMin:i.sub(new dZ.default(l).mul(a)),tickMax:i.add(new dZ.default(s).mul(a))})},d5=function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=Math.max(n,2),[a,l]=d1([t,r]);if(a===-1/0||l===1/0){var s=l===1/0?[a,...Array(n-1).fill(1/0)]:[...Array(n-1).fill(-1/0),l];return t>r?s.reverse():s}if(a===l)return((e,t,r)=>{var n=new dZ.default(1),i=new dZ.default(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new dZ.default(10).pow(dQ(e)-1),i=new dZ.default(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new dZ.default(Math.floor(e)))}else 0===e?i=new dZ.default(Math.floor((t-1)/2)):r||(i=new dZ.default(Math.floor(e)));for(var a=Math.floor((t-1)/2),l=[],s=0;s<t;s++)l.push(i.add(new dZ.default(s-a).mul(n)).toNumber());return l})(a,n,i);var{step:u,tickMin:c,tickMax:p}=d3(a,l,o,i,0),f=d0(c,p.add(new dZ.default(.1).mul(u)),u);return t>r?f.reverse():f},d6=function(e,t){var[r,n]=e,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[o,a]=d1([r,n]);if(o===-1/0||a===1/0)return[r,n];if(o===a)return[o];var l=Math.max(t,2),s=d2(new dZ.default(a).sub(o).div(l-1),i,0),u=[...d0(new dZ.default(o),new dZ.default(a),s),a];return!1===i&&(u=u.map(e=>Math.round(e))),r>n?u.reverse():u},d4=e=>e.rootProps.stackOffset,d8=e=>e.rootProps.reverseStackOrder,d7=e=>e.options.chartName,d9=e=>e.rootProps.syncId,he=e=>e.rootProps.syncMethod,ht=e=>e.options.eventEmitter;function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hi=Math.PI/180,ho=(e,t,r,n)=>({x:e+Math.cos(-hi*n)*r,y:t+Math.sin(-hi*n)*r}),ha={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hl={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:ha.axis},hs={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:ha.axis},hu=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t};function hc(e,t,r){return"auto"!==r?r:null!=e?ut(e,t)?"category":"number":void 0}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hd={allowDataOverflow:hl.allowDataOverflow,allowDecimals:hl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hl.angleAxisId,includeHidden:!1,name:void 0,reversed:hl.reversed,scale:hl.scale,tick:hl.tick,tickCount:void 0,ticks:void 0,type:hl.type,unit:void 0},hh={allowDataOverflow:hs.allowDataOverflow,allowDecimals:hs.allowDecimals,allowDuplicatedCategory:hs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hs.radiusAxisId,includeHidden:hs.includeHidden,name:void 0,reversed:hs.reversed,scale:hs.scale,tick:hs.tick,tickCount:hs.tickCount,ticks:void 0,type:hs.type,unit:void 0},hy=am([(e,t)=>{if(null!=t)return e.polarAxis.angleAxis[t]},uX],(e,t)=>{if(null!=e)return e;var r,n=null!=(r=hc(t,"angleAxis",hd.type))?r:"category";return hf(hf({},hd),{},{type:n})}),hm=am([(e,t)=>e.polarAxis.radiusAxis[t],uX],(e,t)=>{if(null!=e)return e;var r,n=null!=(r=hc(t,"radiusAxis",hh.type))?r:"category";return hf(hf({},hh),{},{type:n})}),hg=e=>e.polarOptions,hv=am([up,uf,ub],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2}),hb=am([hg,hv],(e,t)=>{if(null!=e)return lb(e.innerRadius,t,0)}),hE=am([hg,hv],(e,t)=>{if(null!=e)return lb(e.outerRadius,t,.8*t)}),hO=am([hg],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});am([hy,hO],hu);var hw=am([hv,hb,hE],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});am([hm,hw],hu);var h_=am([uJ,hg,hb,hE,up,uf],(e,t,r,n,i,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:a,cy:l,startAngle:s,endAngle:u}=t;return{cx:lb(a,i,i/2),cy:lb(l,o,o/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:u,clockWise:!1}}}),hx=(e,t)=>t,hS=(e,t,r)=>r;function hA(e){return null==e?void 0:e.id}function hI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=r,a=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:n;if(null!=r&&0!==r.length){var l=hA(e);r.forEach((t,r)=>{var n,s=null==o||i?r:String(ue(t,o,null)),u=ue(t,e.dataKey,0);Object.assign(n=a.has(s)?a.get(s):{},{[l]:u}),a.set(s,n)})}}),Array.from(a.values())}function hT(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var hC=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function hP(e,t){return!!(Array.isArray(e)&&Array.isArray(t))&&0===e.length&&0===t.length||e===t}var hN=e=>{var t=uJ(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},hM=e=>e.tooltip.settings.axisId;function hj(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(e){var t=i[0],r=i[1];return t<=r?e>=t&&e<=r:e>=r&&e<=t},bandwidth:r?()=>r.call(e):void 0,ticks:t?r=>t.call(e,r):void 0,map:(t,r)=>{var n=e(t);if(null!=n){if(e.bandwidth&&null!=r&&r.position){var i=e.bandwidth();switch(r.position){case"middle":n+=i/2;break;case"end":n+=i}}return n}}}}function hk(e,t,r){if("function"==typeof e)return hj(e.copy().domain(t).range(r));if(null!=e){var n=function(e){if(e in dz)return dz[e]();var t="scale".concat(l_(e));if(t in dz)return dz[t]()}(e);if(null!=n)return n.domain(t).range(r),hj(n)}}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hU=[0,"auto"],hL={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hq=(e,t)=>e.cartesianAxis.xAxis[t],hF=(e,t)=>{var r=hq(e,t);return null==r?hL:r},hG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hU,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},hH=(e,t)=>e.cartesianAxis.yAxis[t],hB=(e,t)=>{var r=hH(e,t);return null==r?hG:r},hV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hz=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?hV:r},h$=(e,t,r)=>{switch(t){case"xAxis":return hF(e,r);case"yAxis":return hB(e,r);case"zAxis":return hz(e,r);case"angleAxis":return hy(e,r);case"radiusAxis":return hm(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},hK=(e,t,r)=>{switch(t){case"xAxis":return hF(e,r);case"yAxis":return hB(e,r);case"angleAxis":return hy(e,r);case"radiusAxis":return hm(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},hW=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function hJ(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var hY=e=>e.graphicalItems.cartesianItems,hX=am([hx,hS],hJ),hZ=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),hQ=am([hY,h$,hX],hZ,{memoizeOptions:{resultEqualityCheck:hP}}),h0=am([hQ],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(hT)),h1=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),h2=am([hQ],h1),h3=e=>e.map(e=>e.data).filter(Boolean).flat(1),h5=am([hQ],h3,{memoizeOptions:{resultEqualityCheck:hP}}),h6=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},h4=am([h5,dW],h6),h8=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:ue(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:ue(e,t)}))):e.map(e=>({value:e})),h7=am([h4,h$,hQ],h8);function h9(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function ye(e){if(lm(e)||e instanceof Date){var t=Number(e);if(s4(t))return t}}function yt(e){if(Array.isArray(e)){var t=[ye(e[0]),ye(e[1])];return dJ(t)?t:void 0}var r=ye(e);if(null!=r)return[r,r]}function yr(e){return e.map(ye).filter(lx)}var yn=e=>{var t=hN(e),r=hM(e);return hK(e,t,r)},yi=am([yn],e=>null==e?void 0:e.dataKey),yo=am([h0,dW,yn],hI),ya=(e,t,r,n)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>{if(null==t.stackId)return e;var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{})).map(t=>{var i,o,a,[l,s]=t,u=n?[...s].reverse():s,c=u.map(hA);return[l,{stackedData:(o=null!=(i=ui[r])?i:s1,(a=(function(){var e=s0([]),t=s2,r=s1,n=s3;function i(i){var o,a,l=Array.from(e.apply(this,arguments),s5),s=l.length,u=-1;for(let e of i)for(o=0,++u;o<s;++o)(l[o][u]=[0,+n(e,l[o].key,u,i)]).data=e;for(o=0,a=sQ(t(l));o<s;++o)l[a[o]].index=o;return r(l,a),l}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:s0(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"==typeof e?e:s0(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?s2:"function"==typeof e?e:s0(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?s1:e,i):r},i})().keys(c).value((e,t)=>Number(ue(e,t,0))).order(s2).offset(o)(e)).forEach((t,r)=>{t.forEach((t,n)=>{var i=ue(e[n],c[r],0);Array.isArray(i)&&2===i.length&&ly(i[0])&&ly(i[1])&&(t[0]=i[0],t[1]=i[1])})}),a),graphicalItems:u}]})),yl=am([yo,h0,d4,d8],ya),ys=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(null==n&&"zAxis"!==r){var a=((e,t,r)=>{if(null!=e){let n;return[(n=Object.keys(e).reduce((n,i)=>{var o=e[i];if(!o)return n;var{stackedData:a}=o,l=a.reduce((e,n)=>{var i,o=[Math.min(...i=s6(n,t,r).flat(2).filter(ly)),Math.max(...i)];return s4(o[0])&&s4(o[1])?[Math.min(e[0],o[0]),Math.max(e[1],o[1])]:e},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]}})(e,i,o);if(null==a||0!==a[0]||0!==a[1])return a}},yu=am([h$],e=>e.allowDataOverflow),yc=e=>{var t;if(null==e||!("domain"in e))return hU;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var r=yr(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:hU},yp=am([h$],yc),yf=am([yp,yu],dX),yd=am([yl,d$,hx,yf],ys,{memoizeOptions:{resultEqualityCheck:hC}}),yh=e=>e.errorBars,yy=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},ym=(e,t,r,n,i)=>{var o,a;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var l,s,u=null==(l=n[r.id])?void 0:l.filter(e=>h9(i,e)),c=ue(e,null!=(s=t.dataKey)?s:r.dataKey),p=!(!u||"number"!=typeof c||ld(c))&&u.length?yr(u.flatMap(t=>{var r,n,i=ue(e,t.dataKey);if(Array.isArray(i)?[r,n]=i:r=n=i,s4(r)&&s4(n))return[c-r,c+n]})):[];if(p.length>=2){var f=Math.min(...p),d=Math.max(...p);(null==o||f<o)&&(o=f),(null==a||d>a)&&(a=d)}var h=yt(c);null!=h&&(o=null==o?h[0]:Math.min(o,h[0]),a=null==a?h[1]:Math.max(a,h[1]))})}),(null==t?void 0:t.dataKey)!=null&&e.forEach(e=>{var r=yt(ue(e,t.dataKey));null!=r&&(o=null==o?r[0]:Math.min(o,r[0]),a=null==a?r[1]:Math.max(a,r[1]))}),s4(o)&&s4(a))return[o,a]},yg=am([h4,h$,h2,yh,hx],ym,{memoizeOptions:{resultEqualityCheck:hC}});function yv(e){var{value:t}=e;if(lm(t)||t instanceof Date)return t}var yb=e=>e.referenceElements.dots,yE=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),yO=am([yb,hx,hS],yE),yw=e=>e.referenceElements.areas,y_=am([yw,hx,hS],yE),yx=e=>e.referenceElements.lines,yS=am([yx,hx,hS],yE),yA=(e,t)=>{if(null!=e){var r=yr(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},yI=am(yO,hx,yA),yT=(e,t)=>{if(null!=e){var r=yr(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},yC=am([y_,hx],yT),yP=(e,t)=>{if(null!=e){var r=e.flatMap(e=>"xAxis"===t?function(e){if(null!=e.x)return yr([e.x]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:yr(r)}(e):function(e){if(null!=e.y)return yr([e.y]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:yr(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},yN=am([yS,hx],yP),yM=am(yI,yN,yC,(e,t,r)=>yy(e,r,t)),yj=(e,t,r,n,i,o,a,l)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(dJ(n))return dY(n,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var i,o,[a,l]=e;if("auto"===a)null!=t&&(i=Math.min(...t));else if(ly(a))i=a;else if("function"==typeof a)try{null!=t&&(i=a(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof a&&ua.test(a)){var s=ua.exec(a);if(null==s||null==s[1]||null==t)i=void 0;else{var u=+s[1];i=t[0]-u}}else i=null==t?void 0:t[0];if("auto"===l)null!=t&&(o=Math.max(...t));else if(ly(l))o=l;else if("function"==typeof l)try{null!=t&&(o=l(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof l&&ul.test(l)){var c=ul.exec(l);if(null==c||null==c[1]||null==t)o=void 0;else{var p=+c[1];o=t[1]+p}}else o=null==t?void 0:t[1];var f=[i,o];if(dJ(f))return null==t?f:dY(f,t,r)}}}(t,"vertical"===a&&"xAxis"===l||"horizontal"===a&&"yAxis"===l?yy(n,o,i):yy(o,i),e.allowDataOverflow),yk=am([h$,yp,yf,yd,yg,yM,uJ,hx],yj,{memoizeOptions:{resultEqualityCheck:hC}}),yR=[0,1],yD=(e,t,r,n,i,o,a)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==a){var l,s,{dataKey:u,type:c}=e,p=ut(t,o);return p&&null==u?(0,uQ.default)(0,null!=(s=null==r?void 0:r.length)?s:0):"category"===c?(l=n.map(yv).filter(e=>null!=e),p&&(null==e.dataKey||e.allowDuplicatedCategory&&lE(l))?(0,uQ.default)(0,n.length):e.allowDuplicatedCategory?l:Array.from(new Set(l))):"expand"===i?yR:a}},yU=am([h$,uJ,h4,h7,d4,hx,yk],yD),yL=(e,t,r)=>{if(null!=e){var{scale:n,type:i}=e;if("auto"===n)return"category"===i&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":"category"===i?"band":"linear";if("string"==typeof n){var o="scale".concat(l_(n));return o in dz?o:"point"}}},yq=am([h$,hW,d7],yL);function yF(e,t,r,n){if(null!=r&&null!=n)return"function"==typeof e.scale?hk(e.scale,r,n):hk(t,r,n)}var yG=(e,t,r)=>{var n=yc(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&dJ(e))return d5(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&dJ(e))return d6(e,t.tickCount,t.allowDecimals)}},yH=am([yU,hK,yq],yG),yB=(e,t,r,n)=>{if("angleAxis"!==n&&(null==e?void 0:e.type)==="number"&&dJ(t)&&Array.isArray(r)&&r.length>0){var i,o;return[Math.min(t[0],null!=(i=r[0])?i:0),Math.max(t[1],null!=(o=r[r.length-1])?o:0)]}return t},yV=am([h$,yU,yH,hx],yB),yz=am(h7,h$,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(yr(e.map(e=>e.value))).sort((e,t)=>e-t),i=n[0],o=n[n.length-1];if(null==i||null==o)return 1/0;var a=o-i;if(0===a)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],u=n[l+1];null!=s&&null!=u&&(r=Math.min(r,u-s))}return r/a}}),y$=am(yz,uJ,e=>e.rootProps.barCategoryGap,ub,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!s4(e))return 0;var o="vertical"===t?n.height:n.width;if("gap"===i)return e*o/2;if("no-gap"===i){var a=lb(r,e*o),l=e*o/2;return l-a-(l-a)/o*a}return 0}),yK=am(hF,(e,t,r)=>{var n=hF(e,t);return null==n||"string"!=typeof n.padding?0:y$(e,"xAxis",t,r,n.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,n,{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!=(r=i.left)?r:0)+t,right:(null!=(n=i.right)?n:0)+t}}),yW=am(hB,(e,t,r)=>{var n=hB(e,t);return null==n||"string"!=typeof n.padding?0:y$(e,"yAxis",t,r,n.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,n,{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!=(r=i.top)?r:0)+t,bottom:(null!=(n=i.bottom)?n:0)+t}}),yJ=am([ub,yK,uS,ux,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:o}=n;return i?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),yY=am([ub,uJ,yW,uS,ux,(e,t,r)=>r],(e,t,r,n,i,o)=>{var{padding:a}=i;return o?[n.height-a.bottom,a.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yX=(e,t,r,n)=>{var i;switch(t){case"xAxis":return yJ(e,r,n);case"yAxis":return yY(e,r,n);case"zAxis":return null==(i=hz(e,r))?void 0:i.range;case"angleAxis":return hO(e);case"radiusAxis":return hw(e,r);default:return}},yZ=am([h$,yX],hu),yQ=am([yq,yV],(e,t)=>{if(null!=t)if("linear"!==e)return t;else{if(!dJ(t)){for(var r,n,i=0;i<t.length;i++){var o=t[i];s4(o)&&((void 0===r||o<r)&&(r=o),(void 0===n||o>n)&&(n=o))}return void 0!==r&&void 0!==n?[r,n]:void 0}return t}}),y0=am([h$,yq,yQ,yZ],yF);function y1(e,t){return e.id<t.id?-1:+(e.id>t.id)}am([hQ,yh,hx],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>h9(r,e)));var y2=(e,t)=>t,y3=(e,t,r)=>r,y5=am(uy,y2,y3,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(y1)),y6=am(um,y2,y3,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(y1)),y4=(e,t)=>({width:e.width,height:t.height}),y8=am(ub,hF,y4),y7=am(uf,ub,y5,y2,y3,(e,t,r,n,i)=>{var o,a={};return r.forEach(r=>{var l=y4(t,r);null==o&&(o=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var s="top"===n&&!i||"bottom"===n&&i;a[r.id]=o-Number(s)*l.height,o+=(s?-1:1)*l.height}),a}),y9=am(up,ub,y6,y2,y3,(e,t,r,n,i)=>{var o,a={};return r.forEach(r=>{var l={width:"number"==typeof r.width?r.width:60,height:t.height};null==o&&(o=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var s="left"===n&&!i||"right"===n&&i;a[r.id]=o-Number(s)*l.width,o+=(s?-1:1)*l.width}),a}),me=am([ub,hF,(e,t)=>{var r=hF(e,t);if(null!=r)return y7(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),mt=am([ub,hB,(e,t)=>{var r=hB(e,t);if(null!=r)return y9(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),mr=am(ub,hB,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),mn=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:o,dataKey:a}=r,l=ut(e,n),s=t.map(e=>e.value);if(a&&l&&"category"===o&&i&&lE(s))return s}},mi=am([uJ,h7,h$,hx],mn),mo=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:o}=r;if(ut(e,n)&&("number"===i||"auto"!==o))return t.map(e=>e.value)}},ma=am([uJ,h7,hK,hx],mo),ml=am([uJ,(e,t,r)=>{switch(t){case"xAxis":return hF(e,r);case"yAxis":return hB(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},yq,y0,mi,ma,yX,yH,hx],(e,t,r,n,i,o,a,l,s)=>{if(null!=t){var u=ut(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}}),ms=am([uJ,hK,yq,y0,yH,yX,mi,ma,hx],(e,t,r,n,i,o,a,l,s)=>{if(null!=t&&null!=n){var u=ut(e,s),{type:c,ticks:p,tickCount:f}=t,d="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,h="category"===c&&n.bandwidth?n.bandwidth()/d:0;h="angleAxis"===s&&null!=o&&o.length>=2?2*lf(o[0]-o[1])*h:h;var y=p||i;return y?y.map((e,t)=>{var r=a?a.indexOf(e):e,i=n.map(r);return s4(i)?{index:t,coordinate:i+h,value:e,offset:h}:null}).filter(lx):u&&l?l.map((e,t)=>{var r=n.map(e);return s4(r)?{coordinate:r+h,value:e,index:t,offset:h}:null}).filter(lx):n.ticks?n.ticks(f).map((e,t)=>{var r=n.map(e);return s4(r)?{coordinate:r+h,value:e,index:t,offset:h}:null}).filter(lx):n.domain().map((e,t)=>{var r=n.map(e);return s4(r)?{coordinate:r+h,value:a?a[e]:e,index:t,offset:h}:null}).filter(lx)}}),mu=am([uJ,hK,y0,yX,mi,ma,hx],(e,t,r,n,i,o,a)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var l=ut(e,a),{tickCount:s}=t,u=0;return(u="angleAxis"===a&&(null==n?void 0:n.length)>=2?2*lf(n[0]-n[1])*u:u,l&&o)?o.map((e,t)=>{var n=r.map(e);return s4(n)?{coordinate:n+u,value:e,index:t,offset:u}:null}).filter(lx):r.ticks?r.ticks(s).map((e,t)=>{var n=r.map(e);return s4(n)?{coordinate:n+u,value:e,index:t,offset:u}:null}).filter(lx):r.domain().map((e,t)=>{var n=r.map(e);return s4(n)?{coordinate:n+u,value:i?i[e]:e,index:t,offset:u}:null}).filter(lx)}}),mc=am(h$,y0,(e,t)=>{if(null!=e&&null!=t)return hD(hD({},e),{},{scale:t})}),mp=am([h$,yq,yU,yZ],yF);am((e,t,r)=>hz(e,r),mp,(e,t)=>{if(null!=e&&null!=t)return hD(hD({},e),{},{scale:t})});var mf=am([uJ,uy,um],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),md=e=>e.options.defaultTooltipEventType,mh=e=>e.options.validateTooltipEventTypes;function my(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function mm(e,t){return my(t,md(e),mh(e))}var mg=(e,t)=>{var r,n=Number(t);if(!ld(n)&&null!=t)return n>=0?null==e||null==(r=e[n])?void 0:r.value:void 0};function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var mE=(e,t,r,n)=>{if(null==t)return sg;var i,o,a,l=(i=e,o=t,a=r,"axis"===o?"click"===a?i.axisInteraction.click:i.axisInteraction.hover:"click"===a?i.itemInteraction.click:i.itemInteraction.hover);if(null==l)return sg;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=l.index){if(s)return mb(mb({},l),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return mb(mb({},sg),{},{coordinate:l.coordinate})},mO=(e,t,r,n)=>{var i=null==e?void 0:e.index;if(null==i)return null;var o=Number(i);if(!s4(o))return i;var a=Infinity;t.length>0&&(a=t.length-1);var l=Math.max(0,Math.min(o,a)),s=t[l];return null==s?String(l):!function(e,t,r){if(null==r||null==t)return!0;var n=ue(e,t);return!(null!=n&&dJ(r))||function(e,t){var r=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],i=t[1];if(void 0===r)return!1;var o=Math.min(n,i),a=Math.max(n,i);return r>=o&&r<=a}(n,r)}(s,r,n)?null:String(l)},mw=(e,t,r,n,i,o,a)=>{if(null!=o){var l=a[0],s=null==l?void 0:l.getPosition(o);if(null!=s)return s;var u=null==i?void 0:i[Number(o)];if(u)if("horizontal"===r)return{x:u.coordinate,y:(n.top+t)/2};else return{x:(n.left+e)/2,y:u.coordinate}}},m_=(e,t,r,n)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];if(null==(i="hover"===r?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=n){var i,o=e.tooltipItemPayloads[0];return null!=o?[o]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.graphicalItemId)===i})},mx=e=>e.options.tooltipPayloadSearcher,mS=e=>e.tooltip;function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var mT=(e,t,r,n,i,o,a)=>{if(null!=t&&null!=o){var{chartData:l,computedData:s,dataStartIndex:u,dataEndIndex:c}=r;return e.reduce((e,r)=>{var p,f,d,{dataDefinedOnItem:h,settings:y}=r,m=null!=h?h:l,g=Array.isArray(m)?s6(m,u,c):m,v=null!=(p=null==y?void 0:y.dataKey)?p:n,b=null==y?void 0:y.nameKey;return Array.isArray(f=n&&Array.isArray(g)&&!Array.isArray(g[0])&&"axis"===a?lw(g,n,i):o(g,t,s,b))?f.forEach(t=>{var r=mI(mI({},y),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(uu({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:ue(t.payload,t.dataKey),name:t.name}))}):e.push(uu({tooltipEntrySettings:y,dataKey:v,payload:f,value:ue(f,v),name:null!=(d=ue(f,b))?d:null==y?void 0:y.name})),e},[])}},mC=am([yn,hW,d7],yL),mP=am([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mN=am([hN,hM],hJ),mM=am([mP,yn,mN],hZ,{memoizeOptions:{resultEqualityCheck:hP}}),mj=am([mM],e=>e.filter(hT)),mk=am([mM],h3,{memoizeOptions:{resultEqualityCheck:hP}}),mR=am([mk,d$],h6),mD=am([mj,d$,yn],hI),mU=am([mR,yn,mM],h8),mL=am([yn],yc),mq=am([yn],e=>e.allowDataOverflow),mF=am([mL,mq],dX),mG=am([mM],e=>e.filter(hT)),mH=am([mD,mG,d4,d8],ya),mB=am([mH,d$,hN,mF],ys),mV=am([mM],h1),mz=am([mR,yn,mV,yh,hN],ym,{memoizeOptions:{resultEqualityCheck:hC}}),m$=am([yb,hN,hM],yE),mK=am([m$,hN],yA),mW=am([yw,hN,hM],yE),mJ=am([mW,hN],yT),mY=am([yx,hN,hM],yE),mX=am([mY,hN],yP),mZ=am([mK,mX,mJ],yy),mQ=am([yn,mL,mF,mB,mz,mZ,uJ,hN],yj),m0=am([yn,uJ,mR,mU,d4,hN,mQ],yD),m1=am([m0,yn,mC],yG),m2=am([yn,m0,m1,hN],yB),m3=e=>{var t=hN(e),r=hM(e);return yX(e,t,r,!1)},m5=am([yn,m3],hu),m6=am([yn,mC,m2,m5],yF),m4=am([uJ,mU,yn,hN],mn),m8=am([uJ,mU,yn,hN],mo),m7=am([uJ,yn,mC,m6,m3,m4,m8,hN],(e,t,r,n,i,o,a,l)=>{if(t){var{type:s}=t,u=ut(e,l);if(n){var c="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,p="category"===s&&n.bandwidth?n.bandwidth()/c:0;return(p="angleAxis"===l&&null!=i&&(null==i?void 0:i.length)>=2?2*lf(i[0]-i[1])*p:p,u&&a)?a.map((e,t)=>{var r=n.map(e);return s4(r)?{coordinate:r+p,value:e,index:t,offset:p}:null}).filter(lx):n.domain().map((e,t)=>{var r=n.map(e);return s4(r)?{coordinate:r+p,value:o?o[e]:e,index:t,offset:p}:null}).filter(lx)}}}),m9=am([md,mh,e=>e.tooltip.settings],(e,t,r)=>my(r.shared,e,t)),ge=e=>e.tooltip.settings.trigger,gt=e=>e.tooltip.settings.defaultIndex,gr=am([mS,m9,ge,gt],mE),gn=am([gr,mR,yi,m0],mO),gi=am([m7,gn],mg),go=am([gr],e=>{if(e)return e.dataKey});am([gr],e=>{if(e)return e.graphicalItemId});var ga=am([mS,m9,ge,gt],m_),gl=am([up,uf,uJ,ub,m7,gt,ga],mw),gs=am([gr,gl],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),gu=am([gr],e=>{var t;return null!=(t=null==e?void 0:e.active)&&t}),gc=am([ga,gn,d$,yi,gi,mx,m9],mT),gp=am([gc],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});function gf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var gh=(e,t,r,n,i)=>{var o=null!=(p=null==t?void 0:t.length)?p:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&1e-6>=Math.abs(Math.abs(i[1]-i[0])-360))for(var a=0;a<o;a++){var l=a>0?null==(f=r[a-1])?void 0:f.coordinate:null==(d=r[o-1])?void 0:d.coordinate,s=null==(h=r[a])?void 0:h.coordinate,u=a>=o-1?null==(y=r[0])?void 0:y.coordinate:null==(m=r[a+1])?void 0:m.coordinate,c=void 0;if(null!=l&&null!=s&&null!=u)if(lf(s-l)!==lf(u-s)){var p,f,d,h,y,m,g,v=[];if(lf(u-s)===lf(i[1]-i[0])){c=u;var b=s+i[1]-i[0];v[0]=Math.min(b,(b+l)/2),v[1]=Math.max(b,(b+l)/2)}else{c=l;var E=u+i[1]-i[0];v[0]=Math.min(s,(E+s)/2),v[1]=Math.max(s,(E+s)/2)}var O=[Math.min(s,(c+s)/2),Math.max(s,(c+s)/2)];if(e>O[0]&&e<=O[1]||e>=v[0]&&e<=v[1])return null==(g=r[a])?void 0:g.index}else{var w,_=Math.min(l,u),x=Math.max(l,u);if(e>(_+s)/2&&e<=(x+s)/2)return null==(w=r[a])?void 0:w.index}}else if(t)for(var S=0;S<o;S++){var A=t[S];if(null!=A){var I=t[S+1],T=t[S-1];if(0===S&&null!=I&&e<=(A.coordinate+I.coordinate)/2||S===o-1&&null!=T&&e>(A.coordinate+T.coordinate)/2||S>0&&S<o-1&&null!=T&&null!=I&&e>(A.coordinate+T.coordinate)/2&&e<=(A.coordinate+I.coordinate)/2)return A.index}}return -1},gy=(e,t)=>t,gm=(e,t,r)=>r,gg=(e,t,r,n)=>n,gv=am(m7,e=>(0,sX.default)(e,e=>e.coordinate)),gb=am([mS,gy,gm,gg],mE),gE=am([gb,mR,yi,m0],mO),gO=am([mS,gy,gm,gg],m_),gw=am([up,uf,uJ,ub,m7,gg,gO],mw),g_=am([gb,gw],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t}),gx=am([m7,gE],mg),gS=am([gO,gE,d$,yi,gx,mx,gy],mT),gA=am([gb,gE],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),gI=am([(e,t)=>t,uJ,h_,hN,m5,m7,gv,ub],(e,t,r,n,i,o,a,l)=>{if(e&&t&&n&&i&&o){if("horizontal"===t||"vertical"===t){if(!e||!n||!i||!o)return;if(function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,l)){var s=gh("horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0,a,o,n,i),u=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}})(t,o,s,e);return{activeIndex:String(s),activeCoordinate:u}}return}if(e&&n&&i&&o&&r){var c=((e,t)=>{var r,{chartX:n,chartY:i}=e,{radius:o,angle:a}=((e,t)=>{var{x:r,y:n}=e,{cx:i,cy:o}=t,a=((e,t)=>{var{x:r,y:n}=e,{x:i,y:o}=t;return Math.sqrt((r-i)**2+(n-o)**2)})({x:r,y:n},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var l=Math.acos((r-i)/a);return n>o&&(l=2*Math.PI-l),{radius:a,angle:180*l/Math.PI,angleInRadian:l}})({x:n,y:i},t),{innerRadius:l,outerRadius:s}=t;if(o<l||o>s||0===o)return null;var{startAngle:u,endAngle:c}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*n,endAngle:r-360*n}})(t),p=a;if(u<=c){for(;p>c;)p-=360;for(;p<u;)p+=360;r=p>=u&&p<=c}else{for(;p>u;)p-=360;for(;p<c;)p+=360;r=p>=c&&p<=u}return r?hn(hn({},t),{},{radius:o,angle:((e,t)=>{var{startAngle:r,endAngle:n}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(n/360))})(p,t)}):null})(e,r);if(c){var p=gh("centric"===t?c.angle:c.radius,a,o,n,i),f=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("centric"===e){var o=i.coordinate,{radius:a}=n;return gd(gd(gd({},n),ho(n.cx,n.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,{angle:s}=n;return gd(gd(gd({},n),ho(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,o,p,c);return{activeIndex:String(p),activeCoordinate:f}}return}}}),gT=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},gC=aC("mouseClick"),gP=ll();gP.startListening({actionCreator:gC,effect:(e,t)=>{var r=e.payload,n=gI(t.getState(),gT(r));(null==n?void 0:n.activeIndex)!=null&&t.dispatch(sT({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gN=aC("mouseMove"),gM=ll(),gj=null;function gk(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}gM.startListening({actionCreator:gN,effect:(e,t)=>{var r=e.payload;null!==gj&&cancelAnimationFrame(gj);var n=gT(r);gj=requestAnimationFrame(()=>{var e=t.getState();if("axis"===mm(e,e.tooltip.settings.shared)){var r=gI(e,n);(null==r?void 0:r.activeIndex)!=null?t.dispatch(sI({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(sS())}gj=null})}});var gU=aF({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ak()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ak()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ak()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ak()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ak()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ak()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ak()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ak()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ak()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var o,a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&1>=Math.abs(n-(null!=(o=a[0])?o:0)))return;var l=[...a,n].slice(-3);e.yAxis[r]=gD(gD({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:gL,replaceXAxis:gq,removeXAxis:gF,addYAxis:gG,replaceYAxis:gH,removeYAxis:gB,addZAxis:gV,replaceZAxis:gz,removeZAxis:g$,updateYAxisWidth:gK}=gU.actions,gW=gU.reducer,gJ=aF({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ak()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=o8(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:ak()},removeCartesianGraphicalItem:{reducer(e,t){var r=o8(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ak()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ak()},removePolarGraphicalItem:{reducer(e,t){var r=o8(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ak()}}}),{addCartesianGraphicalItem:gY,replaceCartesianGraphicalItem:gX,removeCartesianGraphicalItem:gZ,addPolarGraphicalItem:gQ,removePolarGraphicalItem:g0}=gJ.actions,g1=gJ.reducer,g2=aF({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=o8(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=o8(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=o8(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:g3,removeDot:g5,addArea:g6,removeArea:g4,addLine:g8,removeLine:g7}=g2.actions,g9=g2.reducer,ve={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vt=aF({name:"brush",initialState:ve,reducers:{setBrushSettings:(e,t)=>null==t.payload?ve:t.payload}}),{setBrushSettings:vr}=vt.actions,vn=vt.reducer,vi=aF({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ak()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=o8(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:ak()},removeLegendPayload:{reducer(e,t){var r=o8(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ak()}}}),{setLegendSize:vo,setLegendSettings:va,addLegendPayload:vl,replaceLegendPayload:vs,removeLegendPayload:vu}=vi.actions,vc=vi.reducer,vp={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vf=aF({name:"rootProps",initialState:vp,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:vp.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),vd=vf.reducer,{updateOptions:vh}=vf.actions,vy=aF({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:vm,removeRadiusAxis:vg,addAngleAxis:vv,removeAngleAxis:vb}=vy.actions,vE=vy.reducer,vO=aF({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vw}=vO.actions,v_=vO.reducer,vx=aC("keyDown"),vS=aC("focus"),vA=ll();vA.startListening({actionCreator:vx,effect:(e,t)=>{var r=t.getState();if(!1===r.rootProps.accessibilityLayer)return;var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var o=mO(n,mR(r),yi(r),m0(r)),a=null==o?-1:Number(o);if(Number.isFinite(a)&&!(a<0)){var l=m7(r);if("Enter"===i){var s=gw(r,"axis","hover",String(n.index));t.dispatch(sP({active:!n.active,activeIndex:n.index,activeCoordinate:s}));return}var u=a+("ArrowRight"===i?1:-1)*("left-to-right"===mf(r)?1:-1);if(null!=l&&!(u>=l.length)&&!(u<0)){var c=gw(r,"axis","hover",String(u));t.dispatch(sP({active:!0,activeIndex:u.toString(),activeCoordinate:c}))}}}}}),vA.startListening({actionCreator:vS,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=gw(r,"axis","hover",String("0"));t.dispatch(sP({active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var vI=aC("externalEvent"),vT=ll(),vC=new Map;vT.startListening({actionCreator:vI,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var i=n.type,o=vC.get(i);void 0!==o&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var e=t.getState(),o={activeCoordinate:gs(e),activeDataKey:go(e),activeIndex:gn(e),activeLabel:gi(e),activeTooltipIndex:gn(e),isTooltipActive:gu(e)};r(o,n)}finally{vC.delete(i)}});vC.set(i,a)}}});var vP=am([mS],e=>e.tooltipItemPayloads),vN=am([vP,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(null!=t){var n=e.find(e=>e.settings.graphicalItemId===r);if(null!=n){var{getPosition:i}=n;if(null!=i)return i(t)}}}),vM=aC("touchMove"),vj=ll();vj.startListening({actionCreator:vM,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),i=mm(n,n.tooltip.settings.shared);if("axis"===i){var o=r.touches[0];if(null==o)return;var a=gI(n,gT({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));(null==a?void 0:a.activeIndex)!=null&&t.dispatch(sI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var l,s=r.touches[0];if(null==document.elementFromPoint||null==s)return;var u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute("data-recharts-item-index"),p=null!=(l=u.getAttribute("data-recharts-item-id"))?l:void 0,f=mM(n).find(e=>e.id===p);if(null==c||null==f||null==p)return;var{dataKey:d}=f,h=vN(n,c,p);t.dispatch(s_({activeDataKey:d,activeIndex:c,activeCoordinate:h,activeGraphicalItemId:p}))}}}});var vk=aF({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:vR,replaceErrorBar:vD,removeErrorBar:vU}=vk.actions,vL=vk.reducer,vq={devToolsEnabled:!0,isSsr:!("u">typeof window&&window.document&&window.document.createElement&&window.setTimeout)};function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var vH={zIndexMap:Object.values(ha).reduce((e,t)=>vG(vG({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},vB=new Set(Object.values(ha)),vV=aF({name:"zIndex",initialState:vH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ak()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!vB.has(r)&&delete e.zIndexMap[r])},prepare:ak()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:ak()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ak()}}}),{registerZIndexPortal:vz,unregisterZIndexPortal:v$,registerZIndexPortalElement:vK,unregisterZIndexPortalElement:vW}=vV.actions,vJ=a_({brush:vn,cartesianAxis:gW,chartData:sD,errorBars:vL,graphicalItems:g1,layout:sH,legend:vc,options:lT,polarAxis:vE,polarOptions:v_,referenceElements:g9,rootProps:vd,tooltip:sN,zIndex:vV.reducer}),vY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,n,i=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{},o=new aP;return t&&("boolean"==typeof t?o.push(aI):o.push(aA(t.extraArgument))),o},{reducer:o,middleware:a,devTools:l=!0,duplicateMiddlewareCheck:s=!0,preloadedState:u,enhancers:c}=e||{};if("function"==typeof o)t=o;else if(aw(o))t=a_(o);else throw Error(ls(1));r="function"==typeof a?a(i):i();let p=ax;l&&(p=aT({trace:!1,..."object"==typeof l&&l}));let f=(n=function(...e){return t=>(r,n)=>{let i=t(r,n),o=()=>{throw Error(av(15))},a={getState:i.getState,dispatch:(e,...t)=>o(e,...t)};return o=ax(...e.map(e=>e(a)))(i.dispatch),{...i,dispatch:o}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new aP(n);return t&&r.push(aD("object"==typeof t?t:void 0)),r});return function e(t,r,n){if("function"!=typeof t)throw Error(av(2));if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(av(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(av(1));return n(e)(t,r)}let i=t,o=r,a=new Map,l=a,s=0,u=!1;function c(){l===a&&(l=new Map,a.forEach((e,t)=>{l.set(t,e)}))}function p(){if(u)throw Error(av(3));return o}function f(e){if("function"!=typeof e)throw Error(av(4));if(u)throw Error(av(5));let t=!0;c();let r=s++;return l.set(r,e),function(){if(t){if(u)throw Error(av(6));t=!1,c(),l.delete(r),a=null}}}function d(e){if(!aw(e))throw Error(av(7));if(void 0===e.type)throw Error(av(8));if("string"!=typeof e.type)throw Error(av(17));if(u)throw Error(av(9));try{u=!0,o=i(o,e)}finally{u=!1}return(a=l).forEach(e=>{e()}),e}return d({type:aO.INIT}),{dispatch:d,subscribe:f,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw Error(av(10));i=e,d({type:aO.REPLACE})},[ab]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(av(11));function t(){e.next&&e.next(p())}return t(),{unsubscribe:f(t)}},[ab](){return this}}}}}(t,u,p(..."function"==typeof c?c(f):f()))}({reducer:vJ,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([gP.middleware,gM.middleware,vA.middleware,vT.middleware,vj.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(aD({type:"raf"}))},devTools:vq.devToolsEnabled&&{serialize:{replacer:gk},name:"recharts-".concat(t)}})};function vX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=u_(),o=(0,tR.useRef)(null);return i?r:(null==o.current&&(o.current=vY(t,n)),tR.createElement(lL,{context:sV,store:o.current},r))}var vZ=e=>{var{chartData:t}=e,r=s$(),n=u_();return(0,tR.useEffect)(()=>n?()=>{}:(r(sj(t)),()=>{r(sj(void 0))}),[t,r,n]),null},vQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function v0(e,t){for(var r of new Set([...Object.keys(e),...Object.keys(t)]))if(vQ.has(r)){if(null==e[r]&&null==t[r])continue;if(!function(e,t){if(lk(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!lk(e[r[n]],t[r[n]]))return!1;return!0}(e[r],t[r]))return!1}else{var n,i;if(n=e[r],i=t[r],(null!=n||null!=i)&&("number"==typeof n&&"number"==typeof i?n!==i&&(n==n||i==i):n!==i))return!1}return!0}var v1=(0,tR.memo)(function(e){var{layout:t,margin:r}=e,n=s$(),i=u_();return(0,tR.useEffect)(()=>{i||(n(sq(t)),n(sL(r)))},[n,i,t,r]),null},v0);function v2(e){var t=s$();return(0,tR.useEffect)(()=>{t(vh(e))},[t,e]),null}var v3=()=>{var e;return null==(e=sY(e=>e.rootProps.accessibilityLayer))||e},v5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v6(e){return"string"==typeof e&&v5.includes(e)}var v4=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function v8(e){return"string"==typeof e&&v4.has(e)}function v7(e){return"string"==typeof e&&e.startsWith("data-")}function v9(e){if("object"!=typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(v8(r)||v7(r))&&(t[r]=e[r]);return t}function be(e){return null==e?null:(0,tR.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?v9(e.props):"object"!=typeof e||Array.isArray(e)?null:v9(e)}function bt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(v8(r)||v7(r)||v6(r))&&(t[r]=e[r]);return t}var br=["children","width","height","viewBox","className","style","title","desc"];function bn(){return(bn=Object.assign.bind()).apply(null,arguments)}var bi=(0,tR.forwardRef)((e,t)=>{var{children:r,width:n,height:i,viewBox:o,className:a,style:l,title:s,desc:u}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,br),p=o||{width:n,height:i,x:0,y:0},f=uA("recharts-surface",a);return tR.createElement("svg",bn({},bt(c),{className:f,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),tR.createElement("title",null,s),tR.createElement("desc",null,u),r)}),bo=am(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElement:n.element}}),ba=am(e=>e.zIndex.zIndexMap,e=>Array.from(new Set(Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(ha)))).sort((e,t)=>e-t),{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function bl(e){var{zIndex:t,isPanorama:r}=e,n=(0,tR.useRef)(null),i=s$();return(0,tR.useLayoutEffect)(()=>(n.current&&i(vK({zIndex:t,element:n.current,isPanorama:r})),()=>{i(vW({zIndex:t,isPanorama:r}))}),[i,t,r]),tR.createElement("g",{tabIndex:-1,ref:n})}function bs(e){var{children:t,isPanorama:r}=e,n=sY(ba);if(!n||0===n.length)return t;var i=n.filter(e=>e<0),o=n.filter(e=>e>0);return tR.createElement(tR.Fragment,null,i.map(e=>tR.createElement(bl,{key:e,zIndex:e,isPanorama:r})),t,o.map(e=>tR.createElement(bl,{key:e,zIndex:e,isPanorama:r})))}var bu=["children"];function bc(){return(bc=Object.assign.bind()).apply(null,arguments)}var bp={width:"100%",height:"100%",display:"block"},bf=(0,tR.forwardRef)((e,t)=>{var r,n,i=sY(up),o=sY(uf),a=v3();if(!s8(i)||!s8(o))return null;var{children:l,otherAttributes:s,title:u,desc:c}=e;return null!=s&&(r="number"==typeof s.tabIndex?s.tabIndex:a?0:void 0,n="string"==typeof s.role?s.role:a?"application":void 0),tR.createElement(bi,bc({},s,{title:u,desc:c,role:n,tabIndex:r,width:i,height:o,style:bp,ref:t}),l)}),bd=e=>{var{children:t}=e,r=sY(uS);if(!r)return null;var{width:n,height:i,y:o,x:a}=r;return tR.createElement(bi,{width:n,height:i,x:a,y:o},t)},bh=(0,tR.forwardRef)((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,bu);return u_()?tR.createElement(bd,null,tR.createElement(bs,{isPanorama:!0},r)):tR.createElement(bf,bc({ref:t},n),tR.createElement(bs,{isPanorama:!1},r))}),by=new(e.i(71650)).default,bm="recharts.syncEvent.tooltip",bg="recharts.syncEvent.brush";function bv(e){return e.tooltip.syncInteraction}var bb=["x","y"];function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var bw=(0,tR.createContext)(null),b_=(0,tR.createContext)(null);function bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bS(){return(bS=Object.assign.bind()).apply(null,arguments)}var bA=()=>{var e,t,r,n,i,o,a,l,s,u,c,p;return e=s$(),(0,tR.useEffect)(()=>{e(lC())},[e]),t=sY(d9),r=sY(ht),n=s$(),i=sY(he),o=sY(m7),a=sY(uJ),l=u$(),s=sY(e=>e.rootProps.className),(0,tR.useEffect)(()=>{if(null==t)return lS;var e=(e,s,u)=>{if(r!==u&&t===e){if("index"===i){if(l&&null!=s&&null!=(c=s.payload)&&c.coordinate&&s.payload.sourceViewBox){var c,p,f=s.payload.coordinate,{x:d,y:h}=f,y=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(f,bb),{x:m,y:g,width:v,height:b}=s.payload.sourceViewBox,E=bO(bO({},y),{},{x:l.x+(v?(d-m)/v:0)*l.width,y:l.y+(b?(h-g)/b:0)*l.height});n(bO(bO({},s),{},{payload:bO(bO({},s.payload),{},{coordinate:E})}))}else n(s);return}if(null!=o){if("function"==typeof i){var O=i(o,{activeTooltipIndex:null==s.payload.index?void 0:Number(s.payload.index),isTooltipActive:s.payload.active,activeIndex:null==s.payload.index?void 0:Number(s.payload.index),activeLabel:s.payload.label,activeDataKey:s.payload.dataKey,activeCoordinate:s.payload.coordinate});p=o[O]}else"value"===i&&(p=o.find(e=>String(e.value)===s.payload.label));var{coordinate:w}=s.payload;if(null==p||!1===s.payload.active||null==w||null==l)return void n(sC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));var{x:_,y:x}=w,S=Math.min(_,l.x+l.width),A=Math.min(x,l.y+l.height),I={x:"horizontal"===a?p.coordinate:S,y:"horizontal"===a?A:p.coordinate};n(sC({active:s.payload.active,coordinate:I,dataKey:s.payload.dataKey,index:String(p.index),label:s.payload.label,sourceViewBox:s.payload.sourceViewBox,graphicalItemId:s.payload.graphicalItemId}))}}};return by.on(bm,e),()=>{by.off(bm,e)}},[s,n,r,t,i,o,a,l]),u=sY(d9),c=sY(ht),p=s$(),(0,tR.useEffect)(()=>{if(null==u)return lS;var e=(e,t,r)=>{c!==r&&u===e&&p(sk(t))};return by.on(bg,e),()=>{by.off(bg,e)}},[p,c,u]),null};function bI(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bT=(0,tR.forwardRef)((e,t)=>{var r,n,i=(0,tR.useRef)(null),[o,a]=(0,tR.useState)({containerWidth:bI(null==(r=e.style)?void 0:r.width),containerHeight:bI(null==(n=e.style)?void 0:n.height)}),l=(0,tR.useCallback)((e,t)=>{a(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),s=(0,tR.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e&&"u">typeof ResizeObserver){var{width:r,height:n}=e.getBoundingClientRect();l(r,n);var o=new ResizeObserver(e=>{var t=e[0];if(null!=t){var{width:r,height:n}=t.contentRect;l(r,n)}});o.observe(e),i.current=o}},[t,l]);return(0,tR.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[l]),tR.createElement(tR.Fragment,null,tR.createElement(uZ,{width:o.containerWidth,height:o.containerHeight}),tR.createElement("div",bS({ref:s},e)))}),bC=(0,tR.forwardRef)((e,t)=>{var{width:r,height:n}=e,[i,o]=(0,tR.useState)({containerWidth:bI(r),containerHeight:bI(n)}),a=(0,tR.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,tR.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();a(r,n)}},[t,a]);return tR.createElement(tR.Fragment,null,tR.createElement(uZ,{width:i.containerWidth,height:i.containerHeight}),tR.createElement("div",bS({ref:l},e)))}),bP=(0,tR.forwardRef)((e,t)=>{var{width:r,height:n}=e;return tR.createElement(tR.Fragment,null,tR.createElement(uZ,{width:r,height:n}),tR.createElement("div",bS({ref:t},e)))}),bN=(0,tR.forwardRef)((e,t)=>{var{width:r,height:n}=e;return"string"==typeof r||"string"==typeof n?tR.createElement(bC,bS({},e,{ref:t})):"number"==typeof r&&"number"==typeof n?tR.createElement(bP,bS({},e,{width:r,height:n,ref:t})):tR.createElement(tR.Fragment,null,tR.createElement(uZ,{width:r,height:n}),tR.createElement("div",bS({ref:t},e)))}),bM=(0,tR.forwardRef)((e,t)=>{var{children:r,className:n,height:i,onClick:o,onContextMenu:a,onDoubleClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:c,onMouseMove:p,onMouseUp:f,onTouchEnd:d,onTouchMove:h,onTouchStart:y,style:m,width:g,responsive:v,dispatchTouchEvents:b=!0}=e,E=(0,tR.useRef)(null),O=s$(),[w,_]=(0,tR.useState)(null),[x,S]=(0,tR.useState)(null),A=function(){var e=s$(),[t,r]=(0,tR.useState)(null),n=sY(ud);return(0,tR.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;s4(r)&&r!==n&&e(sG(r))}},[t,e,n]),r}(),I=uH(),T=(null==I?void 0:I.width)>0?I.width:g,C=(null==I?void 0:I.height)>0?I.height:i,P=(0,tR.useCallback)(e=>{A(e),"function"==typeof t&&t(e),_(e),S(e),null!=e&&(E.current=e)},[A,t,_,S]),N=(0,tR.useCallback)(e=>{O(gC(e)),O(vI({handler:o,reactEvent:e}))},[O,o]),M=(0,tR.useCallback)(e=>{O(gN(e)),O(vI({handler:u,reactEvent:e}))},[O,u]),j=(0,tR.useCallback)(e=>{O(sS()),O(vI({handler:c,reactEvent:e}))},[O,c]),k=(0,tR.useCallback)(e=>{O(gN(e)),O(vI({handler:p,reactEvent:e}))},[O,p]),R=(0,tR.useCallback)(()=>{O(vS())},[O]),D=(0,tR.useCallback)(e=>{O(vx(e.key))},[O]),U=(0,tR.useCallback)(e=>{O(vI({handler:a,reactEvent:e}))},[O,a]),L=(0,tR.useCallback)(e=>{O(vI({handler:l,reactEvent:e}))},[O,l]),q=(0,tR.useCallback)(e=>{O(vI({handler:s,reactEvent:e}))},[O,s]),F=(0,tR.useCallback)(e=>{O(vI({handler:f,reactEvent:e}))},[O,f]),G=(0,tR.useCallback)(e=>{O(vI({handler:y,reactEvent:e}))},[O,y]),H=(0,tR.useCallback)(e=>{b&&O(vM(e)),O(vI({handler:h,reactEvent:e}))},[O,b,h]),B=(0,tR.useCallback)(e=>{O(vI({handler:d,reactEvent:e}))},[O,d]);return tR.createElement(bw.Provider,{value:w},tR.createElement(b_.Provider,{value:x},tR.createElement(v?bT:bN,{width:null!=T?T:null==m?void 0:m.width,height:null!=C?C:null==m?void 0:m.height,className:uA("recharts-wrapper",n),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bx(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:T,height:C},m),onClick:N,onContextMenu:U,onDoubleClick:L,onFocus:R,onKeyDown:D,onMouseDown:q,onMouseEnter:M,onMouseLeave:j,onMouseMove:k,onMouseUp:F,onTouchEnd:B,onTouchMove:H,onTouchStart:G,ref:P},tR.createElement(bA,null),r)))}),bj=am([ub],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bk=am([bj,up,uf],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bR=(0,tR.createContext)(void 0),bD=e=>{var{children:t}=e,[r]=(0,tR.useState)("".concat(lv("recharts"),"-clip")),n=sY(bk);if(null==n)return null;var{x:i,y:o,width:a,height:l}=n;return tR.createElement(bR.Provider,{value:r},tR.createElement("defs",null,tR.createElement("clipPath",{id:r},tR.createElement("rect",{x:i,y:o,height:l,width:a}))),t)},bU=["width","height","responsive","children","className","style","compact","title","desc"],bL=(0,tR.forwardRef)((e,t)=>{var{width:r,height:n,responsive:i,children:o,className:a,style:l,compact:s,title:u,desc:c}=e,p=v9(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,bU));return s?tR.createElement(tR.Fragment,null,tR.createElement(uZ,{width:r,height:n}),tR.createElement(bh,{otherAttributes:p,title:u,desc:c},o)):tR.createElement(bM,{className:a,style:l,width:r,height:n,responsive:null!=i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},tR.createElement(bh,{otherAttributes:p,title:u,desc:c,ref:t},tR.createElement(bD,null,o)))});function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bF(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}function bG(){return(bG=Object.assign.bind()).apply(null,arguments)}var bH={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},bB=(0,tR.forwardRef)(function(e,t){var r,n=bF(e.categoricalChartProps,bH),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,categoricalChartProps:s}=e;return tR.createElement(vX,{preloadedState:{options:{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,eventEmitter:void 0}},reduxStoreName:null!=(r=s.id)?r:i},tR.createElement(vZ,{chartData:s.data}),tR.createElement(v1,{layout:n.layout,margin:n.margin}),tR.createElement(v2,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),tR.createElement(bL,bG({},n,{ref:t})))}),bV=["axis"],bz=(0,tR.forwardRef)((e,t)=>tR.createElement(bB,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bV,tooltipPayloadSearcher:lA,categoricalChartProps:e,ref:t})),b$=tR;function bK(e){this._context=e}function bW(e){return new bK(e)}bK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};let bJ=Math.PI,bY=2*bJ,bX=bY-1e-6;function bZ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class bQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?bZ:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return bZ;let r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,o){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,r,n,i){if(e*=1,t*=1,r*=1,n*=1,(i*=1)<0)throw Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,l=r-e,s=n-t,u=o-e,c=a-t,p=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(p>1e-6)if(Math.abs(c*l-s*u)>1e-6&&i){let f=r-o,d=n-a,h=l*l+s*s,y=Math.sqrt(h),m=Math.sqrt(p),g=i*Math.tan((bJ-Math.acos((h+p-(f*f+d*d))/(2*y*m)))/2),v=g/m,b=g/y;Math.abs(v-1)>1e-6&&this._append`L${e+v*u},${t+v*c}`,this._append`A${i},${i},0,0,${+(c*f>u*d)},${this._x1=e+b*l},${this._y1=t+b*s}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,n,i,o){if(e*=1,t*=1,r*=1,o=!!o,r<0)throw Error(`negative radius: ${r}`);let a=r*Math.cos(n),l=r*Math.sin(n),s=e+a,u=t+l,c=1^o,p=o?n-i:i-n;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${s},${u}`,r&&(p<0&&(p=p%bY+bY),p>bX?this._append`A${r},${r},0,1,${c},${e-a},${t-l}A${r},${r},0,1,${c},${this._x1=s},${this._y1=u}`:p>1e-6&&this._append`A${r},${r},0,${+(p>=bJ)},${c},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+n}h${-r}Z`}toString(){return this._}}function b0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new bQ(t)}function b1(e){return e[0]}function b2(e){return e[1]}function b3(e,t){var r=s0(!0),n=null,i=bW,o=null,a=b0(l);function l(l){var s,u,c,p=(l=sQ(l)).length,f=!1;for(null==n&&(o=i(c=a())),s=0;s<=p;++s)!(s<p&&r(u=l[s],s,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,s,l),+t(u,s,l));if(c)return o=null,c+""||null}return e="function"==typeof e?e:void 0===e?b1:s0(e),t="function"==typeof t?t:void 0===t?b2:s0(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:s0(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:s0(+e),l):t},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:s0(!!e),l):r},l.curve=function(e){return arguments.length?(i=e,null!=n&&(o=i(n)),l):i},l.context=function(e){return arguments.length?(null==e?n=o=null:o=i(n=e),l):n},l}function b5(e,t,r){var n=null,i=s0(!0),o=null,a=bW,l=null,s=b0(u);function u(u){var c,p,f,d,h,y=(u=sQ(u)).length,m=!1,g=Array(y),v=Array(y);for(null==o&&(l=a(h=s())),c=0;c<=y;++c){if(!(c<y&&i(d=u[c],c,u))===m)if(m=!m)p=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=p;--f)l.point(g[f],v[f]);l.lineEnd(),l.areaEnd()}m&&(g[c]=+e(d,c,u),v[c]=+t(d,c,u),l.point(n?+n(d,c,u):g[c],r?+r(d,c,u):v[c]))}if(h)return l=null,h+""||null}function c(){return b3().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?b1:s0(+e),t="function"==typeof t?t:void 0===t?s0(0):s0(+t),r="function"==typeof r?r:void 0===r?b2:s0(+r),u.x=function(t){return arguments.length?(e="function"==typeof t?t:s0(+t),n=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:s0(+t),u):e},u.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:s0(+e),u):n},u.y=function(e){return arguments.length?(t="function"==typeof e?e:s0(+e),r=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:s0(+e),u):t},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:s0(+e),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:s0(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(l=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=l=null:l=a(o=e),u):o},u}function b6(){}function b4(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function b8(e){this._context=e}function b7(e){this._context=e}function b9(e){this._context=e}bQ.prototype,b8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:b4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:b4(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},b7.prototype={areaStart:b6,areaEnd:b6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:b4(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},b9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:b4(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Ee{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Et(e){this._context=e}Et.prototype={areaStart:b6,areaEnd:b6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e*=1,t*=1,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Er(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0);return((o<0?-1:1)+(a<0?-1:1))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs((o*i+a*n)/(n+i)))||0}function En(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ei(e,t,r){var n=e._x0,i=e._y0,o=e._x1,a=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,i+l*t,o-l,a-l*r,o,a)}function Eo(e){this._context=e}function Ea(e){this._context=new El(e)}function El(e){this._context=e}function Es(e){this._context=e}function Eu(e){var t,r,n=e.length-1,i=Array(n),o=Array(n),a=Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(t=0,o[n-1]=(e[n]+i[n-1])/2;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ec(e,t){this._context=e,this._t=t}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ei(this,this._t0,En(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t*=1,(e*=1)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ei(this,En(this,r=Er(this,e,t)),r);break;default:Ei(this,this._t0,r=Er(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Ea.prototype=Object.create(Eo.prototype)).point=function(e,t){Eo.prototype.point.call(this,t,e)},El.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}},Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Eu(e),i=Eu(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Ep=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Ef=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,tR.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{v6(e)&&(n[e]=t||(t=>r[e](r,t)))}),n};function Ed(){return(Ed=Object.assign.bind()).apply(null,arguments)}function Eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Em={curveBasisClosed:function(e){return new b7(e)},curveBasisOpen:function(e){return new b9(e)},curveBasis:function(e){return new b8(e)},curveBumpX:function(e){return new Ee(e,!0)},curveBumpY:function(e){return new Ee(e,!1)},curveLinearClosed:function(e){return new Et(e)},curveLinear:bW,curveMonotoneX:function(e){return new Eo(e)},curveMonotoneY:function(e){return new Ea(e)},curveNatural:function(e){return new Es(e)},curveStep:function(e){return new Ec(e,.5)},curveStepAfter:function(e){return new Ec(e,1)},curveStepBefore:function(e){return new Ec(e,0)}},Eg=e=>s4(e.x)&&s4(e.y),Ev=e=>null!=e.base&&Eg(e.base)&&Eg(e),Eb=e=>e.x,EE=e=>e.y,EO=e=>{var{className:t,points:r,path:n,pathRef:i}=e,o=sY(uJ);if((!r||!r.length)&&!n)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=r&&r.length?(e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:o=!1}=e,a=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(l_(e));if(("curveMonotone"===r||"curveBump"===r)&&t){var n=Em["".concat(r).concat("vertical"===t?"Y":"X")];if(n)return n}return Em[r]||bW})(t,i),l=o?r.filter(Eg):r;if(Array.isArray(n)){var s=r.map((e,t)=>Ey(Ey({},e),{},{base:n[t]}));return("vertical"===i?b5().y(EE).x1(Eb).x0(e=>e.base.x):b5().x(Eb).y1(EE).y0(e=>e.base.y)).defined(Ev).curve(a)(o?s.filter(Ev):s)}return("vertical"===i&&ly(n)?b5().y(EE).x1(Eb).x0(n):ly(n)?b5().x(Eb).y1(EE).y0(n):b3().x(Eb).y(EE)).defined(Eg).curve(a)(l)})(a):n;return tR.createElement("path",Ed({},v9(e),Ef(e),{className:uA("recharts-curve",t),d:null===l?void 0:l,ref:i}))},Ew=["children","className"];function E_(){return(E_=Object.assign.bind()).apply(null,arguments)}var Ex=tR.forwardRef((e,t)=>{var{children:r,className:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ew),o=uA("recharts-layer",n);return tR.createElement("g",E_({className:o},bt(i),{ref:t}),r)}),ES=e.i(1755);function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var EI=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),ET=new class{constructor(e){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(EI.cacheSize),EC={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EP="recharts_measurement_span",EN=(e,t)=>{try{var r=document.getElementById(EP);r||((r=document.createElement("span")).setAttribute("id",EP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,EC,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(e){return{width:0,height:0}}},EM=function(e){var t,r,n,i,o,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||vq.isSsr)return{width:0,height:0};if(!EI.enableCache)return EN(e,l);var s=(t=l.fontSize||"",r=l.fontFamily||"",n=l.fontWeight||"",i=l.fontStyle||"",o=l.letterSpacing||"",a=l.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(a)),u=ET.get(s);if(u)return u;var c=EN(e,l);return ET.set(s,c),c},Ej=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ek=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ER=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ED=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},EL=["cm","mm","pt","pc","in","Q","px"];class Eq{static parse(e){var t,[,r,n]=null!=(t=ED.exec(e))?t:[];return null==r?Eq.NaN:new Eq(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ld(e)&&(this.unit=""),""===t||ER.test(t)||(this.num=NaN,this.unit=""),function(e){return EL.includes(e)}(t)&&(this.num=function(e,t){return e*EU[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Eq(NaN,""):new Eq(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Eq(NaN,""):new Eq(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Eq(NaN,""):new Eq(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Eq(NaN,""):new Eq(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ld(this.num)}}function EF(e){if(null==e||e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,o]=null!=(r=Ej.exec(t))?r:[],a=Eq.parse(null!=n?n:""),l=Eq.parse(null!=o?o:""),s="*"===i?a.multiply(l):a.divide(l);if(s.isNaN())return"NaN";t=t.replace(Ej,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,p,f]=null!=(u=Ek.exec(t))?u:[],d=Eq.parse(null!=c?c:""),h=Eq.parse(null!=f?f:""),y="+"===p?d.add(h):d.subtract(h);if(y.isNaN())return"NaN";t=t.replace(Ek,y.toString())}return t}ep="NaN",ef=new Eq(NaN,""),(ep="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(ep,"string"))?a:a+"")in Eq?Object.defineProperty(Eq,ep,{value:ef,enumerable:!0,configurable:!0,writable:!0}):Eq[ep]=ef;var EG=/\(([^()]*)\)/;function EH(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=EG.exec(r));){var[,n]=t;r=r.replace(EG,EF(n))}return r}(t),t=EF(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var EB=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EV=["dx","dy","angle","className","breakAll"];function Ez(){return(Ez=Object.assign.bind()).apply(null,arguments)}function E$(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var EK=/[ \f\n\r\t\v\u2028\u2029]+/,EW=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];null!=t&&(i=r?t.toString().split(""):t.toString().split(EK));var o=i.map(e=>({word:e,width:EM(e,n).width})),a=r?0:EM("",n).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch(e){return null}},EJ=(e,t,r,n)=>e.reduce((e,i)=>{var{word:o,width:a}=i,l=e[e.length-1];return l&&null!=a&&(null==t||n||l.width+a+r<Number(t))?(l.words.push(o),l.width+=a+r):e.push({words:[o],width:a}),e},[]),EY=e=>e.reduce((e,t)=>e.width>t.width?e:t),EX=(e,t,r,n,i,o,a,l)=>{var s=EW({breakAll:r,style:n,children:e.slice(0,t)+""});if(!s)return[!1,[]];var u=EJ(s.wordsWithComputedWidth,o,a,l);return[u.length>i||EY(u).width>Number(o),u]},EZ=e=>[{words:null==e?[]:e.toString().split(EK),width:void 0}],EQ="#808080",E0={angle:0,breakAll:!1,capHeight:"0.71em",fill:EQ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},E1=(0,tR.forwardRef)((e,t)=>{var r,n=bF(e,E0),{x:i,y:o,lineHeight:a,capHeight:l,fill:s,scaleToFit:u,textAnchor:c,verticalAnchor:p}=n,f=E$(n,EB),d=(0,tR.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:o,maxLines:a}=e;if((t||r)&&!vq.isSsr){var l=EW({breakAll:o,children:n,style:i});if(!l)return EZ(n);var{wordsWithComputedWidth:s,spaceWidth:u}=l;return((e,t,r,n,i)=>{var o,{maxLines:a,children:l,style:s,breakAll:u}=e,c=ly(a),p=String(l),f=EJ(t,n,r,i);if(!c||i||!(f.length>a||EY(f).width>Number(n)))return f;for(var d=0,h=p.length-1,y=0;d<=h&&y<=p.length-1;){var m=Math.floor((d+h)/2),[g,v]=EX(p,m-1,u,s,a,n,r,i),[b]=EX(p,m,u,s,a,n,r,i);if(g||b||(d=m+1),g&&b&&(h=m-1),!g&&b){o=v;break}y++}return o||f})({breakAll:o,children:n,maxLines:a,style:i},s,u,t,!!r)}return EZ(n)})({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:h,dy:y,angle:m,className:g,breakAll:v}=f,b=E$(f,EV);if(!lm(i)||!lm(o)||0===d.length)return null;var E=Number(i)+(ly(h)?h:0),O=Number(o)+(ly(y)?y:0);if(!s4(E)||!s4(O))return null;switch(p){case"start":r=EH("calc(".concat(l,")"));break;case"middle":r=EH("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:r=EH("calc(".concat(d.length-1," * -").concat(a,")"))}var w=[],_=d[0];if(u&&null!=_){var x=_.width,{width:S}=f;w.push("scale(".concat(ly(S)&&ly(x)?S/x:1,")"))}return m&&w.push("rotate(".concat(m,", ").concat(E,", ").concat(O,")")),w.length&&(b.transform=w.join(" ")),tR.createElement("text",Ez({},bt(b),{ref:t,x:E,y:O,className:uA("recharts-text",g),textAnchor:c,fill:s.includes("url")?EQ:s}),d.map((e,t)=>{var n=e.words.join(v?"":" ");return tR.createElement("tspan",{x:E,dy:0===t?r:a,key:"".concat(n,"-").concat(t)},n)}))});E1.displayName="Text";var E2=e.i(65596);function E3(e){var{zIndex:t,children:r}=e,n=void 0!==sY(uJ)&&void 0!==t&&0!==t,i=u_(),o=s$();(0,tR.useLayoutEffect)(()=>n?(o(vz({zIndex:t})),()=>{o(v$({zIndex:t}))}):lS,[o,t,n]);var a=sY(e=>bo(e,t,i));return n?a?(0,E2.createPortal)(r,a):null:r}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var E4=["labelRef"],E8=["content"];function E7(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E9(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ot(){return(Ot=Object.assign.bind()).apply(null,arguments)}var Or=(0,tR.createContext)(null),On=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:o,height:a,children:l}=e,s=(0,tR.useMemo)(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:o,height:a}),[t,r,n,i,o,a]);return tR.createElement(Or.Provider,{value:s},l)},Oi=()=>{var e=(0,tR.useContext)(Or),t=u$();return e||(t?uz(t):void 0)},Oo=(0,tR.createContext)(null),Oa=e=>null!=e&&"function"==typeof e,Ol=e=>null!=e&&"cx"in e&&ly(e.cx),Os={angle:0,offset:5,zIndex:ha.label,position:"middle",textBreakAll:!1};function Ou(e){var t,r,n,i,o,a,l=bF(e,Os),{viewBox:s,parentViewBox:u,position:c,value:p,children:f,content:d,className:h="",textBreakAll:y,labelRef:m}=l,g=(t=(0,tR.useContext)(Oo),r=sY(h_),t||r),v=Oi(),b=function(e){if(!Ol(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=2*n;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}(i=null==s?"center"===c?v:null!=g?g:v:Ol(s)?s:uz(s));if(!i||null==p&&null==f&&!(0,tR.isValidElement)(d)&&"function"!=typeof d)return null;var E=Oe(Oe({},l),{},{viewBox:i});if((0,tR.isValidElement)(d)){var{labelRef:O}=E,w=E7(E,E4);return(0,tR.cloneElement)(d,w)}if("function"==typeof d){var{content:_}=E,x=E7(E,E8);if(o=(0,tR.createElement)(d,x),(0,tR.isValidElement)(o))return o}else o=(e=>{var{value:t,formatter:r}=e,n=null==e.children?t:e.children;return"function"==typeof r?r(n):n})(l);var S=bt(l);if(Ol(i)){if("insideStart"===c||"insideEnd"===c||"end"===c)return((e,t,r,n,i)=>{var o,a,{offset:l,className:s}=e,{cx:u,cy:c,innerRadius:p,outerRadius:f,startAngle:d,endAngle:h,clockWise:y}=i,m=(p+f)/2,g=lf(h-d)*Math.min(Math.abs(h-d),360),v=g>=0?1:-1;switch(t){case"insideStart":o=d+v*l,a=y;break;case"insideEnd":o=h-v*l,a=!y;break;case"end":o=h+v*l,a=y;break;default:throw Error("Unsupported position ".concat(t))}a=g<=0?a:!a;var b=ho(u,c,m,o),E=ho(u,c,m,o+(a?1:-1)*359),O="M".concat(b.x,",").concat(b.y,"\n    A").concat(m,",").concat(m,",0,1,").concat(+!a,",\n    ").concat(E.x,",").concat(E.y),w=null==e.id?lv("recharts-radial-line-"):e.id;return tR.createElement("text",Ot({},n,{dominantBaseline:"central",className:uA("recharts-radial-bar-label",s)}),tR.createElement("defs",null,tR.createElement("path",{id:w,d:O})),tR.createElement("textPath",{xlinkHref:"#".concat(w)},r))})(l,c,o,S,i);a=((e,t,r)=>{var{cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:l,endAngle:s}=e,u=(l+s)/2;if("outside"===r){var{x:c,y:p}=ho(n,i,a+t,u);return{x:c,y:p,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var{x:f,y:d}=ho(n,i,(o+a)/2,u);return{x:f,y:d,textAnchor:"middle",verticalAnchor:"middle"}})(i,l.offset,l.position)}else{if(!b)return null;var A=(e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i,clamp:o}=e,{x:a,y:l,height:s,upperWidth:u,lowerWidth:c}=uz(t),p=a+(u-c)/2,f=(a+p)/2,d=(u+c)/2,h=s>=0?1:-1,y=h*n,m=h>0?"end":"start",g=h>0?"start":"end",v=u>=0?1:-1,b=v*n,E=v>0?"end":"start",O=v>0?"start":"end";if("top"===r){var w={x:a+u/2,y:l-y,horizontalAnchor:"middle",verticalAnchor:m};return o&&i&&(w.height=Math.max(l-i.y,0),w.width=u),w}if("bottom"===r){var _={x:p+c/2,y:l+s+y,horizontalAnchor:"middle",verticalAnchor:g};return o&&i&&(_.height=Math.max(i.y+i.height-(l+s),0),_.width=c),_}if("left"===r){var x={x:f-b,y:l+s/2,horizontalAnchor:E,verticalAnchor:"middle"};return o&&i&&(x.width=Math.max(x.x-i.x,0),x.height=s),x}if("right"===r){var S={x:f+d+b,y:l+s/2,horizontalAnchor:O,verticalAnchor:"middle"};return o&&i&&(S.width=Math.max(i.x+i.width-S.x,0),S.height=s),S}var A=o&&i?{width:d,height:s}:{};return"insideLeft"===r?E6({x:f+b,y:l+s/2,horizontalAnchor:O,verticalAnchor:"middle"},A):"insideRight"===r?E6({x:f+d-b,y:l+s/2,horizontalAnchor:E,verticalAnchor:"middle"},A):"insideTop"===r?E6({x:a+u/2,y:l+y,horizontalAnchor:"middle",verticalAnchor:g},A):"insideBottom"===r?E6({x:p+c/2,y:l+s-y,horizontalAnchor:"middle",verticalAnchor:m},A):"insideTopLeft"===r?E6({x:a+b,y:l+y,horizontalAnchor:O,verticalAnchor:g},A):"insideTopRight"===r?E6({x:a+u-b,y:l+y,horizontalAnchor:E,verticalAnchor:g},A):"insideBottomLeft"===r?E6({x:p+b,y:l+s-y,horizontalAnchor:O,verticalAnchor:m},A):"insideBottomRight"===r?E6({x:p+c-b,y:l+s-y,horizontalAnchor:E,verticalAnchor:m},A):r&&"object"==typeof r&&(ly(r.x)||lh(r.x))&&(ly(r.y)||lh(r.y))?E6({x:a+lb(r.x,d),y:l+lb(r.y,s),horizontalAnchor:"end",verticalAnchor:"end"},A):E6({x:a+u/2,y:l+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},A)})({viewBox:b,position:c,offset:l.offset,parentViewBox:Ol(u)?void 0:u,clamp:!0});a=Oe(Oe({x:A.x,y:A.y,textAnchor:A.horizontalAnchor,verticalAnchor:A.verticalAnchor},void 0!==A.width?{width:A.width}:{}),void 0!==A.height?{height:A.height}:{})}return tR.createElement(E3,{zIndex:l.zIndex},tR.createElement(E1,Ot({ref:m,className:uA("recharts-label",h)},S,a,{textAnchor:"start"===(n=S.textAnchor)||"middle"===n||"end"===n||"inherit"===n?S.textAnchor:a.textAnchor,breakAll:y}),o))}function Oc(e){var{label:t,labelRef:r}=e;return((e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?tR.createElement(Ou,Ot({key:"label-implicit"},n)):lm(e)?tR.createElement(Ou,Ot({key:"label-implicit",value:e},n)):(0,tR.isValidElement)(e)?e.type===Ou?(0,tR.cloneElement)(e,Oe({key:"label-implicit"},n)):tR.createElement(Ou,Ot({key:"label-implicit",content:e},n)):Oa(e)?tR.createElement(Ou,Ot({key:"label-implicit",content:e},n)):e&&"object"==typeof e?tR.createElement(Ou,Ot({},e,{key:"label-implicit"},n)):null})(t,Oi(),r)||null}Ou.displayName="Label";var Op=["valueAccessor"],Of=["dataKey","clockWise","id","textBreakAll","zIndex"];function Od(){return(Od=Object.assign.bind()).apply(null,arguments)}function Oh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Oy=e=>Array.isArray(e.value)?(0,ES.default)(e.value):e.value,Om=(0,tR.createContext)(void 0),Og=Om.Provider,Ov=(0,tR.createContext)(void 0);function Ob(e){var{valueAccessor:t=Oy}=e,r=Oh(e,Op),{dataKey:n,clockWise:i,id:o,textBreakAll:a,zIndex:l}=r,s=Oh(r,Of),u=(0,tR.useContext)(Om),c=(0,tR.useContext)(Ov),p=u||c;return p&&p.length?tR.createElement(E3,{zIndex:null!=l?l:ha.label},tR.createElement(Ex,{className:"recharts-label-list"},p.map((e,i)=>{var l,u=null==n?t(e,i):ue(e.payload,n),c=null==o?{}:{id:"".concat(o,"-").concat(i)};return tR.createElement(Ou,Od({key:"label-".concat(i)},bt(e),s,c,{fill:null!=(l=r.fill)?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:a,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function OE(e){var{label:t}=e;return t?!0===t?tR.createElement(Ob,{key:"labelList-implicit"}):tR.isValidElement(t)||Oa(t)?tR.createElement(Ob,{key:"labelList-implicit",content:t}):"object"==typeof t?tR.createElement(Ob,Od({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function OO(){return(OO=Object.assign.bind()).apply(null,arguments)}Ov.Provider,Ob.displayName="LabelList";var Ow=e=>{var{cx:t,cy:r,r:n,className:i}=e,o=uA("recharts-dot",i);return ly(t)&&ly(r)&&ly(n)?tR.createElement("circle",OO({},v9(e),Ef(e),{className:o,cx:t,cy:r,r:n})):null},O_=(e.i(47707),e=>!e||"object"!=typeof e||!("clipDot"in e)||!!e.clipDot),Ox=["points"];function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OI(){return(OI=Object.assign.bind()).apply(null,arguments)}function OT(e){var{option:t,dotProps:r,className:n}=e;if((0,tR.isValidElement)(t))return(0,tR.cloneElement)(t,r);if("function"==typeof t)return t(r);var i=uA(n,"boolean"!=typeof t?t.className:""),o=null!=r?r:{},{points:a}=o,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(o,Ox);return tR.createElement(Ow,OI({},l,{className:i}))}function OC(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:o,baseProps:a,needClip:l,clipPathId:s,zIndex:u=ha.scatter}=e;if(null==t||!r&&1!==t.length)return null;var c=O_(r),p=null==r?null:(0,tR.isValidElement)(r)?bt(r.props):"object"!=typeof r||Array.isArray(r)?null:bt(r),f=t.map((e,n)=>{var l,s,u=OA(OA(OA({r:3},a),p),{},{index:n,cx:null!=(l=e.x)?l:void 0,cy:null!=(s=e.y)?s:void 0,dataKey:o,value:e.value,payload:e.payload,points:t});return tR.createElement(OT,{key:"dot-".concat(n),option:r,dotProps:u,className:i})}),d={};return l&&null!=s&&(d.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(s,")")),tR.createElement(E3,{zIndex:u},tR.createElement(Ex,OI({className:n},d),f))}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var OM=e=>{var t,{point:r,childIndex:n,mainColor:i,activeDot:o,dataKey:a,clipPath:l}=e;if(!1===o||null==r.x||null==r.y)return null;var s=ON(ON(ON({},{index:n,dataKey:a,cx:r.x,cy:r.y,r:4,fill:null!=i?i:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value}),be(o)),Ef(o));return t=(0,tR.isValidElement)(o)?(0,tR.cloneElement)(o,s):"function"==typeof o?o(s):tR.createElement(Ow,s),tR.createElement(Ex,{className:"recharts-active-dot",clipPath:l},t)};function Oj(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:o,zIndex:a=ha.activeDot}=e,l=sY(gn),s=sY(gp);if(null==t||null==s)return null;var u=t.find(e=>s.includes(e.payload));return null==u?null:tR.createElement(E3,{zIndex:a},tR.createElement(OM,{point:u,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:o}))}function Ok(e){var{tooltipEntrySettings:t}=e,r=s$(),n=u_(),i=(0,tR.useRef)(null);return(0,tR.useLayoutEffect)(()=>{n||(null===i.current?r(sb(t)):i.current!==t&&r(sE({prev:i.current,next:t})),i.current=t)},[t,r,n]),(0,tR.useLayoutEffect)(()=>()=>{i.current&&(r(sO(i.current)),i.current=null)},[r]),null}function OR(e,t){var r,n,i=sY(t=>hF(t,e)),o=sY(e=>hB(e,t)),a=null!=(r=null==i?void 0:i.allowDataOverflow)?r:hL.allowDataOverflow,l=null!=(n=null==o?void 0:o.allowDataOverflow)?n:hG.allowDataOverflow;return{needClip:a||l,needClipX:a,needClipY:l}}function OD(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=sY(bk),{needClipX:o,needClipY:a,needClip:l}=OR(t,r);if(!l||!i)return null;var{x:s,y:u,width:c,height:p}=i;return tR.createElement("clipPath",{id:"clipPath-".concat(n)},tR.createElement("rect",{x:o?s:s-c/2,y:a?u:u-p/2,width:o?c:2*c,height:a?p:2*p}))}function OU(e,t){var r,n;return null!=(r=null==(n=e.graphicalItems.cartesianItems.find(e=>e.id===t))?void 0:n.xAxisId)?r:0}function OL(e,t){var r,n;return null!=(r=null==(n=e.graphicalItems.cartesianItems.find(e=>e.id===t))?void 0:n.yAxisId)?r:0}var Oq=(e,t,r)=>mc(e,"xAxis",OU(e,t),r),OF=(e,t,r)=>mu(e,"xAxis",OU(e,t),r),OG=(e,t,r)=>mc(e,"yAxis",OL(e,t),r),OH=(e,t,r)=>mu(e,"yAxis",OL(e,t),r),OB=am([uJ,Oq,OG,OF,OH],(e,t,r,n,i)=>ut(e,"xAxis")?us(t,n,!1):us(r,i,!1)),OV=am([hY,(e,t)=>t],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),Oz=e=>ut(uJ(e),"xAxis")?"yAxis":"xAxis",O$=am([OV,(e,t,r)=>yl(e,Oz(e),"yAxis"===Oz(e)?OL(e,t):OU(e,t),r)],(e,t)=>{if(null!=e&&null!=t){var r,{stackId:n}=e,i=hA(e);if(null!=n&&null!=i){var o=null==(r=t[n])?void 0:r.stackedData,a=null==o?void 0:o.find(e=>e.key===i);if(null!=a)return a.map(e=>[e[0],e[1]])}}}),OK=am([uJ,Oq,OG,OF,OH,O$,(e,t,r)=>r?dK(e):d$(e),OB,OV,e=>e.rootProps.baseValue],(e,t,r,n,i,o,a,l,s,u)=>{var c,{chartData:p,dataStartIndex:f,dataEndIndex:d}=a;if(null!=s&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=l){var{data:h}=s;if(null!=(c=h&&h.length>0?h:null==p?void 0:p.slice(f,d+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:i},stackedData:o,layout:a,chartBaseValue:l,xAxis:s,yAxis:u,displayedData:c,dataStartIndex:p,xAxisTicks:f,yAxisTicks:d,bandSize:h}=e,y=o&&o.length,m=((e,t,r,n,i)=>{var o=null!=r?r:t;if(ly(o))return o;var a="horizontal"===e?i:n,l=a.scale.domain();if("number"===a.type){var s=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return"dataMin"===o?u:"dataMax"===o||s<0?s:Math.max(Math.min(l[0],l[1]),0)}return"dataMin"===o?l[0]:"dataMax"===o?l[1]:l[0]})(a,l,n,s,u),g="horizontal"===a,v=!1,b=c.map((e,t)=>{if(y)c=o[p+t];else{var n,a,l,c,b,E=ue(e,i);Array.isArray(E)?(c=E,v=!0):c=[m,E]}var O=null!=(n=null==(a=c)?void 0:a[1])?n:null,w=null==O||y&&!r&&null==ue(e,i);return g?{x:uo({axis:s,ticks:f,bandSize:h,entry:e,index:t}),y:w?null:null!=(b=u.scale.map(O))?b:null,value:c,payload:e}:{x:w?null:null!=(l=s.scale.map(O))?l:null,y:uo({axis:u,ticks:d,bandSize:h,entry:e,index:t}),value:c,payload:e}});return t=y||v?b.map(e=>{var t,r,n=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=n&&null!=e.y&&null!=(r=u.scale.map(n))?r:null,payload:e.payload}:{x:null!=n&&null!=(t=s.scale.map(n))?t:null,y:e.y,payload:e.payload}}):g?u.scale.map(m):s.scale.map(m),{points:b,baseLine:null!=t?t:0,isRange:v}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:s,stackedData:o,displayedData:c,chartBaseValue:u,bandSize:l})}});function OW(e){var{legendPayload:t}=e,r=s$(),n=u_(),i=(0,tR.useRef)(null);return(0,tR.useLayoutEffect)(()=>{n||(null===i.current?r(vl(t)):i.current!==t&&r(vs({prev:i.current,next:t})),i.current=t)},[r,n,t]),(0,tR.useLayoutEffect)(()=>()=>{i.current&&(r(vu(i.current)),i.current=null)},[r]),null}function OJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,tR.useRef)(lv(t)),n=(0,tR.useRef)(e);return n.current!==e&&(r.current=lv(t),n.current=e),r.current}var OY=null!=(tm=tR["useId".toString()])?tm:()=>{var[e]=tR.useState(()=>lv("uid-"));return e},OX=(0,tR.createContext)(void 0),OZ=e=>{var t,r,{id:n,type:i,children:o}=e,a=(t="recharts-".concat(i),r=OY(),n||(t?"".concat(t,"-").concat(r):r));return tR.createElement(OX.Provider,{value:a},o(a))},OQ=(0,tR.memo)(e=>{var t=s$(),r=(0,tR.useRef)(null);return(0,tR.useLayoutEffect)(()=>{null===r.current?t(gY(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[t,e]),(0,tR.useLayoutEffect)(()=>()=>{r.current&&(t(gZ(r.current)),r.current=null)},[t]),null});function O0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O0(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O2=(e,t)=>Object.keys(t).reduce((r,n)=>O1(O1({},r),{},{[n]:e(n,t[n])}),{});function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O6=(e,t,r)=>e+(t-e)*r,O4=e=>{var{from:t,to:r}=e;return t!==r},O8=(e,t,r)=>{var n=O2((t,r)=>{if(O4(r)){var[n,i]=e(r.from,r.to,r.velocity);return O5(O5({},r),{},{from:n,velocity:i})}return r},t);return r<1?O2((e,t)=>O4(t)&&null!=n[e]?O5(O5({},t),{},{velocity:O6(t.velocity,n[e].velocity,r),from:O6(t.from,n[e].from,r)}):t,t):O8(e,n,r-1)},O7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],O9=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),we=(e,t)=>r=>O9(O7(e,t),r),wt=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n=(e=>{var t,r=e.split("(");if(2!==r.length||"cubic-bezier"!==r[0])return null;var n=null==(t=r[1])||null==(t=t.split(")")[0])?void 0:t.split(",");if(null==n||4!==n.length)return null;var i=n.map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]})(t[0]);if(n)return n}return 4===t.length?t:[0,0,1,1]},wr=function(){return((e,t,r,n)=>{var i=we(e,r),o=we(t,n),a=t=>O9([...O7(e,r).map((e,t)=>e*t).slice(1),0],t),l=e=>e>1?1:e<0?0:e,s=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var s=i(r)-t,u=a(r);if(1e-4>Math.abs(s-t)||u<1e-4)break;r=l(r-s/u)}return o(r)};return s.isStepper=!1,s})(...wt(...arguments))},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,o)=>{var a=o+(-(e-i)*t-o*r)*n/1e3,l=o*n/1e3+e;return 1e-4>Math.abs(l-i)&&1e-4>Math.abs(a)?[i,0]:[l,a]};return i.isStepper=!0,i.dt=n,i};class wi{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=o=>{o-r>=t?e(o):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{null!=n&&cancelAnimationFrame(n)}}}var wo=(0,tR.createContext)(function(){var e,t,r,n,i;return e=new wi,t=()=>null,r=!1,n=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var[a,...l]=o;if("number"==typeof a){n=e.setTimeout(i.bind(null,l),a);return}i(a),n=e.setTimeout(i.bind(null,l));return}"string"==typeof o&&t(o),"object"==typeof o&&t(o),"function"==typeof o&&o()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}),wa={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wl={t:0},ws={t:1};function wu(e){var t,r,n,i=bF(e,wa),{isActive:o,canBegin:a,duration:l,easing:s,begin:u,onAnimationEnd:c,onAnimationStart:p,children:f}=i,d="auto"===o?!vq.isSsr:o,h=(t=i.animationId,r=i.animationManager,n=(0,tR.useContext)(wo),(0,tR.useMemo)(()=>null!=r?r:n(t),[t,r,n])),[y,m]=(0,tR.useState)(d?wl:ws),g=(0,tR.useRef)(null);return(0,tR.useEffect)(()=>{d||m(ws)},[d]),(0,tR.useEffect)(()=>{if(!d||!a)return lS;var e=((e,t,r,n,i,o)=>{var a,l,s,u,c,p,f,d,h=[Object.keys(e),Object.keys(t)].reduce((e,t)=>e.filter(e=>t.includes(e)));return null==r?()=>(i(O5(O5({},e),t)),()=>{}):!0===r.isStepper?(l=h.reduce((r,n)=>O5(O5({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),s=null,u=n=>{a||(a=n);var c=(n-a)/r.dt;l=O8(r,l,c),i(O5(O5(O5({},e),t),O2((e,t)=>t.from,l))),a=n,Object.values(l).filter(O4).length&&(s=o.setTimeout(u))},()=>(s=o.setTimeout(u),()=>{var e;null==(e=s)||e()})):(p=null,f=h.reduce((r,n)=>{var i=e[n],o=t[n];return null==i||null==o?r:O5(O5({},r),{},{[n]:[i,o]})},{}),d=a=>{c||(c=a);var l=(a-c)/n,s=O2((e,t)=>O6(...t,r(l)),f);if(i(O5(O5(O5({},e),t),s)),l<1)p=o.setTimeout(d);else{var u=O2((e,t)=>O6(...t,r(1)),f);i(O5(O5(O5({},e),t),u))}},()=>(p=o.setTimeout(d),()=>{var e;null==(e=p)||e()}))})(wl,ws,(e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wr(e);case"spring":return wn();default:if("cubic-bezier"===e.split("(")[0])return wr(e)}return"function"==typeof e?e:null})(s),l,m,h.getTimeoutController());return h.start([p,u,()=>{g.current=e()},l,c]),()=>{h.stop(),g.current&&g.current(),c()}},[d,a,l,s,u,p,c,h]),f(y.t)}var wc=["id"],wp=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function wf(){return(wf=Object.assign.bind()).apply(null,arguments)}function wd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wh(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wm(e,t){return e&&"none"!==e?e:t}var wg=b$.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:o,name:a,hide:l,unit:s,tooltipType:u,id:c}=e,p={dataDefinedOnItem:r,getPosition:lS,settings:{stroke:n,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:uc(a,t),hide:l,type:u,color:wm(n,o),unit:s,graphicalItemId:c}};return b$.createElement(Ok,{tooltipEntrySettings:p})});function wv(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:o,dataKey:a}=n,l=v9(n);return b$.createElement(OC,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:t})}function wb(e){var{showLabels:t,children:r,points:n}=e,i=n.map(e=>{var t,r,n={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wy(wy({},n),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:n,fill:void 0})});return b$.createElement(Og,{value:t?i:void 0},r)}function wE(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:o}=e,{layout:a,type:l,stroke:s,connectNulls:u,isRange:c}=o,{id:p}=o,f=wd(o,wc),d=v9(f),h=bt(f);return b$.createElement(b$.Fragment,null,(null==t?void 0:t.length)>1&&b$.createElement(Ex,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},b$.createElement(EO,wf({},h,{id:p,points:t,connectNulls:u,type:l,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==s&&b$.createElement(EO,wf({},d,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:t})),"none"!==s&&c&&b$.createElement(EO,wf({},d,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:r}))),b$.createElement(wv,{points:t,props:f,clipPathId:i}))}function wO(e){var t,r,{alpha:n,baseLine:i,points:o,strokeWidth:a}=e,l=null==(t=o[0])?void 0:t.y,s=null==(r=o[o.length-1])?void 0:r.y;if(!s4(l)||!s4(s))return null;var u=n*Math.abs(l-s),c=Math.max(...o.map(e=>e.x||0));return(ly(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(e=>e.x||0),c)),ly(c))?b$.createElement("rect",{x:0,y:l<s?l:l-u,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function ww(e){var t,r,{alpha:n,baseLine:i,points:o,strokeWidth:a}=e,l=null==(t=o[0])?void 0:t.x,s=null==(r=o[o.length-1])?void 0:r.x;if(!s4(l)||!s4(s))return null;var u=n*Math.abs(l-s),c=Math.max(...o.map(e=>e.y||0));return(ly(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(e=>e.y||0),c)),ly(c))?b$.createElement("rect",{x:l<s?l:l-u,y:0,width:u,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function w_(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:o}=e;return"vertical"===r?b$.createElement(wO,{alpha:t,points:n,baseLine:i,strokeWidth:o}):b$.createElement(ww,{alpha:t,points:n,baseLine:i,strokeWidth:o})}function wx(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:o}=e,{points:a,baseLine:l,isAnimationActive:s,animationBegin:u,animationDuration:c,animationEasing:p,onAnimationStart:f,onAnimationEnd:d}=n,h=OJ((0,b$.useMemo)(()=>({points:a,baseLine:l}),[a,l]),"recharts-area-"),y=uY(),[m,g]=(0,b$.useState)(!1),v=(0,b$.useCallback)(()=>{"function"==typeof d&&d(),g(!1)},[d]),b=(0,b$.useCallback)(()=>{"function"==typeof f&&f(),g(!0)},[f]);if(null==y)return null;var E=i.current,O=o.current;return b$.createElement(wb,{showLabels:!m,points:a},n.children,b$.createElement(wu,{animationId:h,begin:u,duration:c,isActive:s,easing:p,onAnimationEnd:v,onAnimationStart:b,key:h},e=>{if(E){var u,c=E.length/a.length,p=1===e?a:a.map((t,r)=>{var n=Math.floor(r*c);if(E[n]){var i=E[n];return wy(wy({},t),{},{x:lO(i.x,t.x,e),y:lO(i.y,t.y,e)})}return t});if(ly(l))u=lO(O,l,e);else u=null==l||ld(l)?lO(O,0,e):l.map((t,r)=>{var n=Math.floor(r*c);if(Array.isArray(O)&&O[n]){var i=O[n];return wy(wy({},t),{},{x:lO(i.x,t.x,e),y:lO(i.y,t.y,e)})}return t});return e>0&&(i.current=p,o.current=u),b$.createElement(wE,{points:p,baseLine:u,needClip:t,clipPathId:r,props:n})}return e>0&&(i.current=a,o.current=l),b$.createElement(Ex,null,s&&b$.createElement("defs",null,b$.createElement("clipPath",{id:"animationClipPath-".concat(r)},b$.createElement(w_,{alpha:e,points:a,baseLine:l,layout:y,strokeWidth:n.strokeWidth}))),b$.createElement(Ex,{clipPath:"url(#animationClipPath-".concat(r,")")},b$.createElement(wE,{points:a,baseLine:l,needClip:t,clipPathId:r,props:n})))}),b$.createElement(OE,{label:n.label}))}function wS(e){var{needClip:t,clipPathId:r,props:n}=e,i=(0,b$.useRef)(null),o=(0,b$.useRef)();return b$.createElement(wx,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:o})}class wA extends b$.PureComponent{render(){var{hide:e,dot:t,points:r,className:n,top:i,left:o,needClip:a,xAxisId:l,yAxisId:s,width:u,height:c,id:p,baseLine:f,zIndex:d}=this.props;if(e)return null;var h=uA("recharts-area",n),{r:y,strokeWidth:m}=function(e){var t=be(e);if(null!=t){var{r,strokeWidth:n}=t,i=Number(r),o=Number(n);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(o)||o<0)&&(o=2),{r:i,strokeWidth:o}}return{r:3,strokeWidth:2}}(t),g=O_(t),v=2*y+m,b=a?"url(#clipPath-".concat(g?"":"dots-").concat(p,")"):void 0;return b$.createElement(E3,{zIndex:d},b$.createElement(Ex,{className:h},a&&b$.createElement("defs",null,b$.createElement(OD,{clipPathId:p,xAxisId:l,yAxisId:s}),!g&&b$.createElement("clipPath",{id:"clipPath-dots-".concat(p)},b$.createElement("rect",{x:o-v/2,y:i-v/2,width:u+v,height:c+v}))),b$.createElement(wS,{needClip:a,clipPathId:p,props:this.props})),b$.createElement(Oj,{points:r,mainColor:wm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:b}),this.props.isRange&&Array.isArray(f)&&b$.createElement(Oj,{points:f,mainColor:wm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:b}))}}var wI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ha.area};function wT(e){var t,r=bF(e,wI),{activeDot:n,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:l,dot:s,fill:u,fillOpacity:c,hide:p,isAnimationActive:f,legendType:d,stroke:h,xAxisId:y,yAxisId:m}=r,g=wd(r,wp),v=sY(uJ),b=sY(d7),{needClip:E}=OR(y,m),O=u_(),{points:w,isRange:_,baseLine:x}=null!=(t=sY(t=>OK(t,e.id,O)))?t:{},S=sY(bk);if("horizontal"!==v&&"vertical"!==v||null==S||"AreaChart"!==b&&"ComposedChart"!==b)return null;var{height:A,width:I,x:T,y:C}=S;return w&&w.length?b$.createElement(wA,wf({},g,{activeDot:n,animationBegin:i,animationDuration:o,animationEasing:a,baseLine:x,connectNulls:l,dot:s,fill:u,fillOpacity:c,height:A,hide:p,layout:v,isAnimationActive:"auto"===f?!vq.isSsr:f,isRange:_,legendType:d,needClip:E,points:w,stroke:h,width:I,left:T,top:C,xAxisId:y,yAxisId:m})):null}var wC=b$.memo(function(e){var t=bF(e,wI),r=u_();return b$.createElement(OZ,{id:t.id,type:"area"},e=>{var n;return b$.createElement(b$.Fragment,null,b$.createElement(OW,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:wm(n,i),value:uc(r,t),payload:e}]})(t)}),b$.createElement(wg,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),b$.createElement(OQ,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:null==(n=t.stackId)?void 0:String(n),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),b$.createElement(wT,wf({},t,{id:e})))})},v0);wC.displayName="Area";var wP=function(e){var{width:t,height:r}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(n%180+180)%180*Math.PI/180,o=Math.atan(r/t);return Math.abs(i>o&&i<Math.PI-o?r/Math.sin(i):t/Math.cos(i))};function wN(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];void 0!==i&&r.push(i)}return r}function wM(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wR(e,t,r){var n,{tick:i,ticks:o,viewBox:a,minTickGap:l,orientation:s,interval:u,tickFormatter:c,unit:p,angle:f}=e;if(!o||!o.length||!i)return[];if(ly(u)||vq.isSsr)return null!=(n=wN(o,(ly(u)?u:0)+1))?n:[];var d="top"===s||"bottom"===s?"width":"height",h=p&&"width"===d?EM(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(e,n)=>{var i,o="function"==typeof c?c(e.value,n):e.value;return"width"===d?(i=EM(o,{fontSize:t,letterSpacing:r}),wP({width:i.width+h.width,height:i.height+h.height},f)):EM(o,{fontSize:t,letterSpacing:r})[d]},m=o[0],g=o[1],v=o.length>=2&&null!=m&&null!=g?lf(g.coordinate-m.coordinate):1,b=function(e,t,r){var n="width"===r,{x:i,y:o,width:a,height:l}=e;return 1===t?{start:n?i:o,end:n?i+a:o+l}:{start:n?i+a:o+l,end:n?i:o}}(a,v,d);return"equidistantPreserveStart"===u?function(e,t,r,n,i){for(var o,a=(n||[]).slice(),{start:l,end:s}=t,u=0,c=1,p=l;c<=a.length;)if(o=function(){var t,o=null==n?void 0:n[u];if(void 0===o)return{v:wN(n,c)};var a=u,f=()=>(void 0===t&&(t=r(o,a)),t),d=o.coordinate,h=0===u||wM(e,d,f,p,s);h||(u=0,p=l,c+=1),h&&(p=d+e*(f()/2+i),u+=c)}())return o.v;return[]}(v,b,y,o,l):"equidistantPreserveEnd"===u?function(e,t,r,n,i){var o=(n||[]).slice().length;if(0===o)return[];for(var{start:a,end:l}=t,s=1;s<=o;s++){for(var u,c=(o-1)%s,p=a,f=!0,d=c;d<o&&(0===(u=function(){var t,o=n[d];if(null==o)return 0;var a=d,s=()=>(void 0===t&&(t=r(o,a)),t),u=o.coordinate,h=d===c||wM(e,u,s,p,l);if(!h)return f=!1,1;h&&(p=u+e*(s()/2+i))}())||1!==u);d+=s);if(f){for(var h=[],y=c;y<o;y+=s){var m=n[y];null!=m&&h.push(m)}return h}}return[]}(v,b,y,o,l):("preserveStart"===u||"preserveStartEnd"===u?function(e,t,r,n,i,o){var a=(n||[]).slice(),l=a.length,{start:s,end:u}=t;if(o){var c=n[l-1];if(null!=c){var p=r(c,l-1),f=e*(c.coordinate+e*p/2-u);a[l-1]=c=wk(wk({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate}),null!=c.tickCoord&&wM(e,c.tickCoord,()=>p,s,u)&&(u=c.tickCoord-e*(p/2+i),a[l-1]=wk(wk({},c),{},{isShow:!0}))}}for(var d=o?l-1:l,h=function(t){var n,o=a[t];if(null==o)return 1;var l=o,c=()=>(void 0===n&&(n=r(o,t)),n);if(0===t){var p=e*(l.coordinate-e*c()/2-s);a[t]=l=wk(wk({},l),{},{tickCoord:p<0?l.coordinate-p*e:l.coordinate})}else a[t]=l=wk(wk({},l),{},{tickCoord:l.coordinate});null!=l.tickCoord&&wM(e,l.tickCoord,c,s,u)&&(s=l.tickCoord+e*(c()/2+i),a[t]=wk(wk({},l),{},{isShow:!0}))},y=0;y<d;y++)if(h(y))continue;return a}(v,b,y,o,l,"preserveStartEnd"===u):function(e,t,r,n,i){for(var o=(n||[]).slice(),a=o.length,{start:l}=t,{end:s}=t,u=function(t){var n,u=o[t];if(null==u)return 1;var c=u,p=()=>(void 0===n&&(n=r(u,t)),n);if(t===a-1){var f=e*(c.coordinate+e*p()/2-s);o[t]=c=wk(wk({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate})}else o[t]=c=wk(wk({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&wM(e,c.tickCoord,p,l,s)&&(s=c.tickCoord-e*(p()/2+i),o[t]=wk(wk({},c),{},{isShow:!0}))},c=a-1;c>=0;c--)if(u(c))continue;return o}(v,b,y,o,l)).filter(e=>e.isShow)}var wD=["axisLine","width","height","className","hide","ticks","axisType"];function wU(){return(wU=Object.assign.bind()).apply(null,arguments)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var wF={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ha.axis};function wG(e){var{x:t,y:r,width:n,height:i,orientation:o,mirror:a,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var u=wq(wq(wq({},s),v9(l)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);u=wq(wq({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var p=+("left"===o&&!a||"right"===o&&a);u=wq(wq({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return tR.createElement("line",wU({},u,{className:uA("recharts-cartesian-axis-line",(0,lu.default)(l,"className"))}))}function wH(e){var t,{option:r,tickProps:n,value:i}=e,o=uA(n.className,"recharts-cartesian-axis-tick-value");if(tR.isValidElement(r))t=tR.cloneElement(r,wq(wq({},n),{},{className:o}));else if("function"==typeof r)t=r(wq(wq({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!=typeof r&&(a=uA(a,r&&"object"==typeof r&&"className"in r&&"string"==typeof r.className?r.className:"")),t=tR.createElement(E1,wU({},n,{className:a}),i)}return t}var wB=(0,tR.forwardRef)((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:o,tickFormatter:a,unit:l,padding:s,tickTextProps:u,orientation:c,mirror:p,x:f,y:d,width:h,height:y,tickSize:m,tickMargin:g,fontSize:v,letterSpacing:b,getTicksConfig:E,events:O,axisType:w}=e,_=wR(wq(wq({},E),{},{ticks:r}),v,b),x=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(c,p),S=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(c,p),A=v9(E),I=be(n),T={};"object"==typeof i&&(T=i);var C=wq(wq({},A),{},{fill:"none"},T),P=_.map(e=>wq({entry:e},function(e,t,r,n,i,o,a,l,s){var u,c,p,f,d,h,y=l?-1:1,m=e.tickSize||a,g=ly(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=(p=(f=r+!l*i)-y*m)-y*s,d=g;break;case"left":p=f=e.coordinate,d=(u=(c=t+!l*n)-y*m)-y*s,h=g;break;case"right":p=f=e.coordinate,d=(u=(c=t+l*n)+y*m)+y*s,h=g;break;default:u=c=e.coordinate,h=(p=(f=r+l*i)+y*m)+y*s,d=g}return{line:{x1:u,y1:p,x2:c,y2:f},tick:{x:d,y:h}}}(e,f,d,h,y,c,m,p,g))),N=P.map(e=>{var{entry:t,line:r}=e;return tR.createElement(Ex,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},i&&tR.createElement("line",wU({},C,r,{className:uA("recharts-cartesian-axis-tick-line",(0,lu.default)(i,"className"))})))}),M=P.map((e,t)=>{var r,i,{entry:c,tick:p}=e,f=wq(wq(wq(wq({verticalAnchor:S},A),{},{textAnchor:x,stroke:"none",fill:o},p),{},{index:t,payload:c,visibleTicksCount:_.length,tickFormatter:a,padding:s},u),{},{angle:null!=(r=null!=(i=null==u?void 0:u.angle)?i:A.angle)?r:0}),d=wq(wq({},f),I);return tR.createElement(Ex,wU({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(c.value,"-").concat(c.coordinate,"-").concat(c.tickCoord)},((e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var o=e[i];v6(i)&&"function"==typeof o&&(n||(n={}),n[i]=e=>(o(t,r,e),null))}),n})(O,c,t)),n&&tR.createElement(wH,{option:n,tickProps:d,value:"".concat("function"==typeof a?a(c.value,t):c.value).concat(l||"")}))});return tR.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},M.length>0&&tR.createElement(E3,{zIndex:ha.label},tR.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:t},M)),N.length>0&&tR.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},N))}),wV=(0,tR.forwardRef)((e,t)=>{var{axisLine:r,width:n,height:i,className:o,hide:a,ticks:l,axisType:s}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,wD),[c,p]=(0,tR.useState)(""),[f,d]=(0,tR.useState)(""),h=(0,tR.useRef)(null);(0,tR.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>a&&(a=t.width)}});var l=r?r.getBoundingClientRect().width:0;return Math.round(a+(i+o)+l+(r?n:0))}return 0})({ticks:h.current,label:null==(t=e.labelRef)?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=(0,tR.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),i=n.fontSize,o=n.letterSpacing;(i!==c||o!==f)&&(p(i),d(o))}}},[c,f]);return a||null!=n&&n<=0||null!=i&&i<=0?null:tR.createElement(E3,{zIndex:e.zIndex},tR.createElement(Ex,{className:uA("recharts-cartesian-axis",o)},tR.createElement(wG,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:v9(e)}),tR.createElement(wB,{ref:y,axisType:s,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),tR.createElement(On,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},tR.createElement(Oc,{label:e.label,labelRef:e.labelRef}),e.children)))}),wz=tR.forwardRef((e,t)=>{var r=bF(e,wF);return tR.createElement(wV,wU({},r,{ref:t}))});wz.displayName="CartesianAxis";var w$=["domain","range"],wK=["domain","range"];function wW(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(e,t){return e===t||!!(Array.isArray(e)&&2===e.length&&Array.isArray(t))&&2===t.length&&e[0]===t[0]&&e[1]===t[1]}function wY(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=wW(e,w$),{domain:o,range:a}=t,l=wW(t,wK);return!!wJ(r,o)&&!!wJ(n,a)&&v0(i,l)}var wX=["type"],wZ=["dangerouslySetInnerHTML","ticks","scale"],wQ=["id","scale"];function w0(){return(w0=Object.assign.bind()).apply(null,arguments)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w3(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w5(e){var t=s$(),r=(0,tR.useRef)(null),n=uY(),{type:i}=e,o=w3(e,wX),a=hc(n,"xAxis",i),l=(0,tR.useMemo)(()=>{if(null!=a)return w2(w2({},o),{},{type:a})},[o,a]);return(0,tR.useLayoutEffect)(()=>{null!=l&&(null===r.current?t(gL(l)):r.current!==l&&t(gq({prev:r.current,next:l})),r.current=l)},[l,t]),(0,tR.useLayoutEffect)(()=>()=>{r.current&&(t(gF(r.current)),r.current=null)},[t]),null}var w6=e=>{var{xAxisId:t,className:r}=e,n=sY(uO),i=u_(),o="xAxis",a=sY(e=>ms(e,o,t,i)),l=sY(e=>y8(e,t)),s=sY(e=>me(e,t)),u=sY(e=>hq(e,t));if(null==l||null==s||null==u)return null;var{dangerouslySetInnerHTML:c,ticks:p,scale:f}=e,d=w3(e,wZ),{id:h,scale:y}=u,m=w3(u,wQ);return tR.createElement(wz,w0({},d,m,{x:s.x,y:s.y,width:l.width,height:l.height,className:uA("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:a,axisType:o}))},w4={allowDataOverflow:hL.allowDataOverflow,allowDecimals:hL.allowDecimals,allowDuplicatedCategory:hL.allowDuplicatedCategory,angle:hL.angle,axisLine:wF.axisLine,height:hL.height,hide:!1,includeHidden:hL.includeHidden,interval:hL.interval,label:!1,minTickGap:hL.minTickGap,mirror:hL.mirror,orientation:hL.orientation,padding:hL.padding,reversed:hL.reversed,scale:hL.scale,tick:hL.tick,tickCount:hL.tickCount,tickLine:wF.tickLine,tickSize:wF.tickSize,type:hL.type,xAxisId:0},w8=tR.memo(e=>{var t=bF(e,w4);return tR.createElement(tR.Fragment,null,tR.createElement(w5,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),tR.createElement(w6,t))},wY);w8.displayName="XAxis";var w7=["type"],w9=["dangerouslySetInnerHTML","ticks","scale"],_e=["id","scale"];function _t(){return(_t=Object.assign.bind()).apply(null,arguments)}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _o(e){var t=s$(),r=(0,tR.useRef)(null),n=uY(),{type:i}=e,o=_i(e,w7),a=hc(n,"yAxis",i),l=(0,tR.useMemo)(()=>{if(null!=a)return _n(_n({},o),{},{type:a})},[a,o]);return(0,tR.useLayoutEffect)(()=>{null!=l&&(null===r.current?t(gG(l)):r.current!==l&&t(gH({prev:r.current,next:l})),r.current=l)},[l,t]),(0,tR.useLayoutEffect)(()=>()=>{r.current&&(t(gB(r.current)),r.current=null)},[t]),null}function _a(e){var{yAxisId:t,className:r,width:n,label:i}=e,o=(0,tR.useRef)(null),a=(0,tR.useRef)(null),l=sY(uO),s=u_(),u=s$(),c="yAxis",p=sY(e=>mr(e,t)),f=sY(e=>mt(e,t)),d=sY(e=>ms(e,c,t,s)),h=sY(e=>hH(e,t));if((0,tR.useLayoutEffect)(()=>{if(!("auto"!==n||!p||Oa(i)||(0,tR.isValidElement)(i))&&null!=h){var e=o.current;if(e){var r=e.getCalculatedWidth();Math.round(p.width)!==Math.round(r)&&u(gK({id:t,width:r}))}}},[d,p,u,i,t,n,h]),null==p||null==f||null==h)return null;var{dangerouslySetInnerHTML:y,ticks:m,scale:g}=e,v=_i(e,w9),{id:b,scale:E}=h,O=_i(h,_e);return tR.createElement(wz,_t({},v,O,{ref:o,labelRef:a,x:f.x,y:f.y,tickTextProps:"auto"===n?{width:void 0}:{width:n},width:p.width,height:p.height,className:uA("recharts-".concat(c," ").concat(c),r),viewBox:l,ticks:d,axisType:c}))}var _l={allowDataOverflow:hG.allowDataOverflow,allowDecimals:hG.allowDecimals,allowDuplicatedCategory:hG.allowDuplicatedCategory,angle:hG.angle,axisLine:wF.axisLine,hide:!1,includeHidden:hG.includeHidden,interval:hG.interval,label:!1,minTickGap:hG.minTickGap,mirror:hG.mirror,orientation:hG.orientation,padding:hG.padding,reversed:hG.reversed,scale:hG.scale,tick:hG.tick,tickCount:hG.tickCount,tickLine:wF.tickLine,tickSize:wF.tickSize,type:hG.type,width:hG.width,yAxisId:0},_s=tR.memo(e=>{var t=bF(e,_l);return tR.createElement(tR.Fragment,null,tR.createElement(_o,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),tR.createElement(_a,t))},wY);_s.displayName="YAxis";var _u=["x1","y1","x2","y2","key"],_c=["offset"],_p=["xAxisId","yAxisId"],_f=["xAxisId","yAxisId"];function _d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _y(){return(_y=Object.assign.bind()).apply(null,arguments)}function _m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _g=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:n,y:i,width:o,height:a,ry:l}=e;return tR.createElement("rect",{x:n,y:i,ry:l,width:o,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _v(e){var{option:t,lineItemProps:r}=e;if(tR.isValidElement(t))n=tR.cloneElement(t,r);else if("function"==typeof t)n=t(r);else{var n,i,{x1:o,y1:a,x2:l,y2:s,key:u}=r,c=null!=(i=v9(_m(r,_u)))?i:{},{offset:p}=c,f=_m(c,_c);n=tR.createElement("line",_y({},f,{x1:o,y1:a,x2:l,y2:s,fill:"none",key:u}))}return n}function _b(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,l=_m(e,_p),s=i.map((e,i)=>{var o=_h(_h({},l),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(i),index:i});return tR.createElement(_v,{key:"line-".concat(i),option:n,lineItemProps:o})});return tR.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function _E(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,l=_m(e,_f),s=i.map((e,i)=>{var o=_h(_h({},l),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(i),index:i});return tR.createElement(_v,{option:n,lineItemProps:o,key:"line-".concat(i)})});return tR.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _O(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:o,height:a,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||null==l)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var c=u.map((e,l)=>{var s=u[l+1],c=null==s?i+a-e:s-e;if(c<=0)return null;var p=l%t.length;return tR.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:o,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return tR.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function _w(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:o,width:a,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var u=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var c=u.map((e,t)=>{var s=u[t+1],c=null==s?i+a-e:s-e;if(c<=0)return null;var p=t%r.length;return tR.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:c,height:l,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return tR.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var __=(e,t)=>{var{xAxis:r,width:n,height:i,offset:o}=e;return ur(wR(_h(_h(_h({},wF),r),{},{ticks:un(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,t)},_x=(e,t)=>{var{yAxis:r,width:n,height:i,offset:o}=e;return ur(wR(_h(_h(_h({},wF),r),{},{ticks:un(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,t)},_S={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ha.grid};function _A(e){var t=sY(up),r=sY(uf),n=uW(),i=_h(_h({},bF(e,_S)),{},{x:ly(e.x)?e.x:n.left,y:ly(e.y)?e.y:n.top,width:ly(e.width)?e.width:n.width,height:ly(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:a,x:l,y:s,width:u,height:c,syncWithTicks:p,horizontalValues:f,verticalValues:d}=i,h=u_(),y=sY(e=>ml(e,"xAxis",o,h)),m=sY(e=>ml(e,"yAxis",a,h));if(!s8(u)||!s8(c)||!ly(l)||!ly(s))return null;var g=i.verticalCoordinatesGenerator||__,v=i.horizontalCoordinatesGenerator||_x,{horizontalPoints:b,verticalPoints:E}=i;if((!b||!b.length)&&"function"==typeof v){var O=f&&f.length,w=v({yAxis:m?_h(_h({},m),{},{ticks:O?f:m.ticks}):void 0,width:null!=t?t:u,height:null!=r?r:c,offset:n},!!O||p);uT(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(b=w)}if((!E||!E.length)&&"function"==typeof g){var _=d&&d.length,x=g({xAxis:y?_h(_h({},y),{},{ticks:_?d:y.ticks}):void 0,width:null!=t?t:u,height:null!=r?r:c,offset:n},!!_||p);uT(Array.isArray(x),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof x,"]")),Array.isArray(x)&&(E=x)}return tR.createElement(E3,{zIndex:i.zIndex},tR.createElement("g",{className:"recharts-cartesian-grid"},tR.createElement(_g,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),tR.createElement(_O,_y({},i,{horizontalPoints:b})),tR.createElement(_w,_y({},i,{verticalPoints:E})),tR.createElement(_b,_y({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:m})),tR.createElement(_E,_y({},i,{offset:n,verticalPoints:E,xAxis:y,yAxis:m}))))}function _I(){return(_I=Object.assign.bind()).apply(null,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _P(e){return Array.isArray(e)&&lm(e[0])&&lm(e[1])?e.join(" ~ "):e}_A.displayName="CartesianGrid";var _N={margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},_M={display:"block",paddingTop:4,paddingBottom:4,color:"#000"},_j={},_k=e=>{var{separator:t=" : ",contentStyle:r,itemStyle:n,labelStyle:i=_j,payload:o,formatter:a,itemSorter:l,wrapperClassName:s,labelClassName:u,label:c,labelFormatter:p,accessibilityLayer:f=!1}=e,d=_C(_C({},_N),r),h=_C({margin:0},i),y=null!=c,m=y?c:"",g=uA("recharts-default-tooltip",s),v=uA("recharts-tooltip-label",u);return y&&p&&null!=o&&(m=p(c,o)),tR.createElement("div",_I({className:g,style:d},f?{role:"status","aria-live":"assertive"}:{}),tR.createElement("p",{className:v,style:h},tR.isValidElement(m)?m:"".concat(m)),(()=>{if(o&&o.length){var e=(l?(0,sX.default)(o,l):o).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||a||_P,{value:l,name:s}=e,u=l,c=s,p=i(l,s,e,r,o);if(Array.isArray(p))[u,c]=p;else{if(null==p)return null;u=p}var f=_C(_C({},_M),{},{color:e.color||_M.color},n);return tR.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},lm(c)?tR.createElement("span",{className:"recharts-tooltip-item-name"},c):null,lm(c)?tR.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,tR.createElement("span",{className:"recharts-tooltip-item-value"},u),tR.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return tR.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},_R=tR,_D="recharts-tooltip-wrapper",_U={visibility:"hidden"};function _L(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:o,reverseDirection:a,tooltipDimension:l,viewBox:s,viewBoxDimension:u}=e;if(o&&ly(o[n]))return o[n];var c=r[n]-l-(i>0?i:0),p=r[n]+i;if(t[n])return a[n]?c:p;var f=s[n];return null==f?0:a[n]?c<f?Math.max(p,f):Math.max(c,f):null==u?0:p+l>f+u?Math.max(c,f):Math.max(p,f)}function _q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_q(Object(r),!0).forEach(function(t){_G(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _G(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _H extends _R.PureComponent{constructor(){super(...arguments),_G(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_G(this,"handleKeyDown",e=>{if("Escape"===e.key){var t,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(t=null==(r=this.props.coordinate)?void 0:r.x)?t:0,y:null!=(n=null==(i=this.props.coordinate)?void 0:i.y)?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null==(e=this.props.coordinate)?void 0:e.x)!==this.state.dismissedAtCoordinate.x||(null==(t=this.props.coordinate)?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:i,coordinate:o,hasPayload:a,isAnimationActive:l,offset:s,position:u,reverseDirection:c,useTranslate3d:p,viewBox:f,wrapperStyle:d,lastBoundingBox:h,innerRef:y,hasPortalFromProps:m}=this.props,{cssClasses:g,cssProperties:v}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:o,offsetTop:a,offsetLeft:l,position:s,reverseDirection:u,tooltipBox:c,useTranslate3d:p,viewBox:f}=e;return{cssProperties:t=c.height>0&&c.width>0&&o?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=_L({allowEscapeViewBox:i,coordinate:o,key:"x",offset:l,position:s,reverseDirection:u,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),translateY:n=_L({allowEscapeViewBox:i,coordinate:o,key:"y",offset:a,position:s,reverseDirection:u,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),useTranslate3d:p}):_U,cssClasses:function(e){var{coordinate:t,translateX:r,translateY:n}=e;return uA(_D,{["".concat(_D,"-right")]:ly(r)&&t&&ly(t.x)&&r>=t.x,["".concat(_D,"-left")]:ly(r)&&t&&ly(t.x)&&r<t.x,["".concat(_D,"-bottom")]:ly(n)&&t&&ly(t.y)&&n>=t.y,["".concat(_D,"-top")]:ly(n)&&t&&ly(t.y)&&n<t.y})}({translateX:r,translateY:n,coordinate:o})}}({allowEscapeViewBox:t,coordinate:o,offsetLeft:"number"==typeof s?s:s.x,offsetTop:"number"==typeof s?s:s.y,position:u,reverseDirection:c,tooltipBox:{height:h.height,width:h.width},useTranslate3d:p,viewBox:f}),b=m?{}:_F(_F({transition:l&&e?"transform ".concat(r,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),E=_F(_F({},b),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},d);return _R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:E,ref:y},i)}}var _B=e.i(2798),_V=["x","y","top","left","width","height","className"];function _z(){return(_z=Object.assign.bind()).apply(null,arguments)}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var _K=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:o=0,height:a=0,className:l}=e,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:i,width:o,height:a},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,_V));return ly(t)&&ly(r)&&ly(o)&&ly(a)&&ly(n)&&ly(i)?tR.createElement("path",_z({},bt(s),{className:uA("recharts-cross",l),d:"M".concat(t,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(o)})):null},_W=["radius"],_J=["radius"];function _Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_Y(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _Z(){return(_Z=Object.assign.bind()).apply(null,arguments)}function _Q(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _1=(e,t,r,n,i)=>{var o=lc(r),a=lc(n),l=Math.min(Math.abs(o)/2,Math.abs(a)/2),s=a>=0?1:-1,u=o>=0?1:-1,c=+(a>=0&&o>=0||a<0&&o<0);if(l>0&&Array.isArray(i)){for(var p=[0,0,0,0],f=0;f<4;f++){var d,h,y=null!=(h=i[f])?h:0;p[f]=y>l?l:y}d=lp(tg||(tg=_0(["M",",",""])),e,t+s*p[0]),p[0]>0&&(d+=lp(tv||(tv=_0(["A ",",",",0,0,",",",",",""])),p[0],p[0],c,e+u*p[0],t)),d+=lp(tb||(tb=_0(["L ",",",""])),e+r-u*p[1],t),p[1]>0&&(d+=lp(tE||(tE=_0(["A ",",",",0,0,",",\n        ",",",""])),p[1],p[1],c,e+r,t+s*p[1])),d+=lp(tO||(tO=_0(["L ",",",""])),e+r,t+n-s*p[2]),p[2]>0&&(d+=lp(tw||(tw=_0(["A ",",",",0,0,",",\n        ",",",""])),p[2],p[2],c,e+r-u*p[2],t+n)),d+=lp(t_||(t_=_0(["L ",",",""])),e+u*p[3],t+n),p[3]>0&&(d+=lp(tx||(tx=_0(["A ",",",",0,0,",",\n        ",",",""])),p[3],p[3],c,e,t+n-s*p[3])),d+="Z"}else if(l>0&&i===+i&&i>0){var m=Math.min(l,i);d=lp(tS||(tS=_0(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+s*m,m,m,c,e+u*m,t,e+r-u*m,t,m,m,c,e+r,t+s*m,e+r,t+n-s*m,m,m,c,e+r-u*m,t+n,e+u*m,t+n,m,m,c,e,t+n-s*m)}else d=lp(tA||(tA=_0(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},_2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_3=e=>{let t,r;var n=bF(e,_2),i=(0,tR.useRef)(null),[o,a]=(0,tR.useState)(-1);(0,tR.useEffect)(()=>{if(i.current&&i.current.getTotalLength)try{var e=i.current.getTotalLength();e&&a(e)}catch(e){}},[]);var{x:l,y:s,width:u,height:c,radius:p,className:f}=n,{animationEasing:d,animationDuration:h,animationBegin:y,isAnimationActive:m,isUpdateAnimationActive:g}=n,v=(0,tR.useRef)(u),b=(0,tR.useRef)(c),E=(0,tR.useRef)(l),O=(0,tR.useRef)(s),w=OJ((0,tR.useMemo)(()=>({x:l,y:s,width:u,height:c,radius:p}),[l,s,u,c,p]),"rectangle-");if(l!==+l||s!==+s||u!==+u||c!==+c||0===u||0===c)return null;var _=uA("recharts-rectangle",f);if(!g){var x=bt(n),{radius:S}=x,A=_Q(x,_W);return tR.createElement("path",_Z({},A,{x:lc(l),y:lc(s),width:lc(u),height:lc(c),radius:"number"==typeof p?p:void 0,className:_,d:_1(l,s,u,c,p)}))}var I=v.current,T=b.current,C=E.current,P=O.current,N="0px ".concat(-1===o?1:o,"px"),M="".concat(o,"px 0px"),j=(t=["strokeDasharray"],r="string"==typeof d?d:_2.animationEasing,t.map(e=>"".concat(e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))," ").concat(h,"ms ").concat(r)).join(","));return tR.createElement(wu,{animationId:w,key:w,canBegin:o>0,duration:h,easing:d,isActive:g,begin:y},e=>{var t,r=lO(I,u,e),o=lO(T,c,e),a=lO(C,l,e),f=lO(P,s,e);i.current&&(v.current=r,b.current=o,E.current=a,O.current=f),t=m?e>0?{transition:j,strokeDasharray:M}:{strokeDasharray:N}:{strokeDasharray:M};var d=bt(n),{radius:h}=d,y=_Q(d,_J);return tR.createElement("path",_Z({},y,{radius:"number"==typeof p?p:void 0,className:_,d:_1(a,f,r,o,p),ref:i,style:_X(_X({},t),n.style)}))})};function _5(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:o}=e;return{points:[ho(t,r,n,i),ho(t,r,n,o)],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function _6(){return(_6=Object.assign.bind()).apply(null,arguments)}function _4(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _8=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:o,isExternal:a,cornerRadius:l,cornerIsExternal:s}=e,u=l*(a?1:-1)+n,c=Math.asin(l/u)/hi,p=s?i:i+o*c,f=ho(t,r,u,p);return{center:f,circleTangency:ho(t,r,n,p),lineTangency:ho(t,r,u*Math.cos(c*hi),s?i-o*c:i),theta:c}},_7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:o,endAngle:a}=e,l=lf(a-o)*Math.min(Math.abs(a-o),359.999),s=o+l,u=ho(t,r,i,o),c=ho(t,r,i,s),p=lp(tI||(tI=_4(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),u.x,u.y,i,i,+(Math.abs(l)>180),+(o>s),c.x,c.y);if(n>0){var f=ho(t,r,n,o),d=ho(t,r,n,s);p+=lp(tT||(tT=_4(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),d.x,d.y,n,n,+(Math.abs(l)>180),+(o<=s),f.x,f.y)}else p+=lp(tC||(tC=_4(["L ",","," Z"])),t,r);return p},_9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xe=e=>{var t,r=bF(e,_9),{cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:l,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:p,className:f}=r;if(a<o||c===p)return null;var d=uA("recharts-sector",f),h=a-o,y=lb(l,h,0,!0);return t=y>0&&360>Math.abs(c-p)?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:s,endAngle:u}=e,c=lf(u-s),{circleTangency:p,lineTangency:f,theta:d}=_8({cx:t,cy:r,radius:i,angle:s,sign:c,cornerRadius:o,cornerIsExternal:l}),{circleTangency:h,lineTangency:y,theta:m}=_8({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:l}),g=l?Math.abs(s-u):Math.abs(s-u)-d-m;if(g<0)return a?lp(tP||(tP=_4(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),f.x,f.y,o,o,2*o,o,o,-(2*o)):_7({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:u});var v=lp(tN||(tN=_4(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),f.x,f.y,o,o,+(c<0),p.x,p.y,i,i,+(g>180),+(c<0),h.x,h.y,o,o,+(c<0),y.x,y.y);if(n>0){var{circleTangency:b,lineTangency:E,theta:O}=_8({cx:t,cy:r,radius:n,angle:s,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:w,lineTangency:_,theta:x}=_8({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=l?Math.abs(s-u):Math.abs(s-u)-O-x;if(S<0&&0===o)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=lp(tM||(tM=_4(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),_.x,_.y,o,o,+(c<0),w.x,w.y,n,n,+(S>180),+(c>0),b.x,b.y,o,o,+(c<0),E.x,E.y)}else v+=lp(tj||(tj=_4(["L",",","Z"])),t,r);return v})({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,h/2),forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:p}):_7({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:p}),tR.createElement("path",_6({},bt(r),{className:d,d:t}))};function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xn(){return(xn=Object.assign.bind()).apply(null,arguments)}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xa(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return(0,tR.isValidElement)(t)?(0,tR.cloneElement)(t,n):(0,tR.createElement)(r,n)}function xl(e){var t,r,n,i,o,{coordinate:a,payload:l,index:s,offset:u,tooltipAxisBandSize:c,layout:p,cursor:f,tooltipEventType:d,chartName:h}=e;if(!f||!a||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=a,i=_K,o=ha.cursorLine;else if("BarChart"===h)t=c/2,n={stroke:"none",fill:"#ccc",x:"horizontal"===p?a.x-t:u.left+.5,y:"horizontal"===p?u.top+.5:a.y-t,width:"horizontal"===p?c:u.width-1,height:"horizontal"===p?u.height-1:c},i=_3,o=ha.cursorRectangle;else if("radial"===p&&Ep(a)){var{cx:y,cy:m,radius:g,startAngle:v,endAngle:b}=_5(a);n={cx:y,cy:m,startAngle:v,endAngle:b,innerRadius:g,outerRadius:g},i=xe,o=ha.cursorLine}else n={points:function(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Ep(t)){if("centric"===e){var{cx:n,cy:i,innerRadius:o,outerRadius:a,angle:l}=t,s=ho(n,i,o,l),u=ho(n,i,a,l);return[{x:s.x,y:s.y},{x:u.x,y:u.y}]}return _5(t)}}(p,a,u)},i=EO,o=ha.cursorLine;var E="object"==typeof f&&"className"in f?f.className:void 0,O=xo(xo(xo(xo({stroke:"#ccc",pointerEvents:"none"},u),n),be(f)),{},{payload:l,payloadIndex:s,className:uA("recharts-tooltip-cursor",E)});return tR.createElement(E3,{zIndex:null!=(r=e.zIndex)?r:o},tR.createElement(xa,{cursor:f,cursorComp:i,cursorProps:O}))}function xs(e){var t,r,n,i=(t=sY(yn),r=sY(m7),n=sY(m6),t&&n?us(xr(xr({},t),{},{scale:n}),r):us(void 0,r)),o=uW(),a=sY(uJ),l=sY(d7);return null==i||null==o||null==a||null==l?null:tR.createElement(xl,xn({},e,{offset:o,layout:a,tooltipAxisBandSize:i,chartName:l}))}function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xp(e){return e.dataKey}var xf=[],xd={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xh(e){var t,r,n,i,o,a,l,s,u,c,p,f=bF(e,xd),{active:d,allowEscapeViewBox:h,animationDuration:y,animationEasing:m,content:g,filterNull:v,isAnimationActive:b,offset:E,payloadUniqBy:O,position:w,reverseDirection:_,useTranslate3d:x,wrapperStyle:S,cursor:A,shared:I,trigger:T,defaultIndex:C,portal:P,axisId:N}=f,M=s$(),j="number"==typeof C?String(C):C;(0,tR.useEffect)(()=>{M(sw({shared:I,trigger:T,axisId:N,active:d,defaultIndex:j}))},[M,I,T,N,d,j]);var k=u$(),R=v3(),D=sY(e=>mm(e,I)),{activeIndex:U,isActive:L}=null!=(c=sY(e=>gA(e,D,T,j)))?c:{},q=sY(e=>gS(e,D,T,j)),F=sY(e=>gx(e,D,T,j)),G=sY(e=>g_(e,D,T,j)),H=(0,tR.useContext)(bw),B=null!=(p=null!=d?d:L)&&p,[V,z]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,tR.useState)({height:0,left:0,top:0,width:0}),n=(0,tR.useCallback)(e=>{if(null!=e){var n=e.getBoundingClientRect(),i={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}([q,B]),$="axis"===D?F:void 0;t=sY(e=>((e,t,r)=>{if(null!=t){var n=mS(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(e,D,T)),r=sY(ht),n=sY(d9),i=sY(he),a=null==(o=sY(bv))?void 0:o.active,l=u$(),(0,tR.useEffect)(()=>{if(!a&&null!=n&&null!=r){var e=sC({active:B,coordinate:G,dataKey:t,index:U,label:"number"==typeof $?String($):$,sourceViewBox:l,graphicalItemId:void 0});by.emit(bm,n,e,r)}},[a,G,t,U,$,r,n,i,B,l]);var K=null!=P?P:H;if(null==K||null==k||null==D)return null;var W=null!=q?q:xf;B||(W=xf),v&&W.length&&(s=W.filter(e=>null!=e.value&&(!0!==e.hide||f.includeHidden)),W=!0===O?(0,_B.default)(s,xp):"function"==typeof O?(0,_B.default)(s,O):s);var J=W.length>0,Y=tR.createElement(_H,{allowEscapeViewBox:h,animationDuration:y,animationEasing:m,isAnimationActive:b,active:B,coordinate:G,hasPayload:J,offset:E,position:w,reverseDirection:_,useTranslate3d:x,viewBox:k,wrapperStyle:S,lastBoundingBox:V,innerRef:z,hasPortalFromProps:!!P},(u=xc(xc({},f),{},{payload:W,label:$,active:B,activeIndex:U,coordinate:G,accessibilityLayer:R}),tR.isValidElement(g)?tR.cloneElement(g,u):"function"==typeof g?tR.createElement(g,u):tR.createElement(_k,u)));return tR.createElement(tR.Fragment,null,(0,E2.createPortal)(Y,K),B&&tR.createElement(xs,{cursor:A,tooltipEventType:D,coordinate:G,payload:W,index:U}))}e.s(["default",0,()=>{let e=(0,tD.useParams)(),t=e?.id,[r,n]=(0,tR.useState)(null),[i,o]=(0,tR.useState)("overview"),[a,l]=(0,tR.useState)([]),[s,u]=(0,tR.useState)(""),[c,p]=(0,tR.useState)(!1),f=(0,tR.useRef)(null);(0,tR.useEffect)(()=>{let e=tL.MOCK_PROJECTS.find(e=>e.id===t);e&&(n(e),l([{role:"model",text:`// SYSTEM ONLINE
// ANALYZING ${e.title.toUpperCase()} SPECIFICATIONS...
// READY FOR QUERY.`,timestamp:Date.now()}]))},[t]),(0,tR.useEffect)(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[a]);let d=async()=>{if(!s.trim()||!r)return;let e={role:"user",text:s,timestamp:Date.now()};l(t=>[...t,e]),u(""),p(!0);let t=await or(r,s);p(!1),l(e=>[...e,{role:"model",text:t,timestamp:Date.now()}])};if(!r)return(0,tk.jsx)("div",{className:"min-h-screen flex items-center justify-center font-mono text-pcb-primary-light animate-pulse",children:"LOADING_DATA_STREAM..."});let h=r.downloads.map((e,t)=>({name:`Day ${t+1}`,downloads:e}));return(0,tk.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-[1400px]",children:[(0,tk.jsxs)(tU.default,{href:"/",className:"inline-flex items-center gap-2 text-zinc-500 hover:text-pcb-primary-light mb-6 transition-colors font-mono text-xs uppercase tracking-wider group",children:[(0,tk.jsx)(tW,{className:"w-3 h-3 group-hover:-translate-x-1 transition-transform"})," ","Back to Index"]}),(0,tk.jsx)("div",{className:"w-full bg-yellow-500/10 border border-yellow-500/20 p-2 mb-4 text-center",children:(0,tk.jsx)("p",{className:"text-yellow-500 text-xs font-mono font-bold uppercase tracking-widest",children:" SIMULATION_MODE // THIS_PROJECT_IS_A_PROP "})}),(0,tk.jsxs)("div",{className:"grid grid-cols-12 gap-6 h-[85vh]",children:[(0,tk.jsxs)("div",{className:"col-span-12 lg:col-span-3 flex flex-col gap-4",children:[(0,tk.jsxs)("div",{className:"bg-pcb-panel border border-pcb-border p-5 flex flex-col gap-4",children:[(0,tk.jsxs)("div",{className:"aspect-video w-full bg-black border border-zinc-800 overflow-hidden relative group",children:[(0,tk.jsx)("img",{src:r.imageUrl,alt:"preview",className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity"}),(0,tk.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-2",children:(0,tk.jsx)("div",{className:"font-mono text-[10px] text-pcb-primary-light",children:"REV. 1.0.4"})})]}),(0,tk.jsxs)("div",{children:[(0,tk.jsx)("h1",{className:"text-xl font-bold text-white leading-tight mb-2",children:r.title}),(0,tk.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-500 font-mono border-b border-zinc-800 pb-3 mb-3",children:[(0,tk.jsx)("img",{src:r.author.avatarUrl,className:"w-4 h-4 rounded-sm grayscale"}),(0,tk.jsx)("span",{className:"uppercase",children:r.author.username})]})]}),(0,tk.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,tk.jsxs)("button",{className:"w-full bg-pcb-primary text-white font-bold font-mono text-xs py-3 px-4 uppercase tracking-wide hover:bg-white hover:text-pcb-dark transition-colors flex items-center justify-center gap-2",children:["Free"===r.price?(0,tk.jsx)(tB,{className:"w-3 h-3"}):(0,tk.jsx)(tq.ShieldCheck,{className:"w-3 h-3"}),"Free"===r.price?"PULL_FILES":"MINT_LICENSE"]}),(0,tk.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,tk.jsxs)("button",{className:"bg-black border border-zinc-800 text-zinc-400 hover:text-white hover:border-zinc-600 py-2 text-xs font-mono uppercase flex items-center justify-center gap-2 transition-all",children:[(0,tk.jsx)(tG.Star,{className:"w-3 h-3"})," ",r.stars]}),(0,tk.jsxs)("button",{className:"bg-black border border-zinc-800 text-zinc-400 hover:text-white hover:border-zinc-600 py-2 text-xs font-mono uppercase flex items-center justify-center gap-2 transition-all",children:[(0,tk.jsx)(tF.GitFork,{className:"w-3 h-3"})," ",r.forks]})]})]}),r.siliconSeal&&(0,tk.jsxs)("div",{className:"mt-2 bg-gold-seal/5 border border-gold-seal/20 text-gold-seal p-3 text-xs font-mono flex items-center gap-2",children:[(0,tk.jsx)(tq.ShieldCheck,{className:"w-4 h-4"}),(0,tk.jsxs)("div",{children:[(0,tk.jsx)("div",{className:"font-bold",children:"SILICON SEAL"}),(0,tk.jsx)("div",{className:"text-[10px] opacity-70",children:"0x892...28a Verified"})]})]})]}),(0,tk.jsxs)("div",{className:"bg-pcb-panel border border-pcb-border p-4",children:[(0,tk.jsx)("div",{className:"text-[10px] text-zinc-500 font-mono uppercase mb-3",children:"Capabilities"}),(0,tk.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map(e=>(0,tk.jsx)("span",{className:"px-2 py-1 bg-zinc-900 border border-zinc-800 text-zinc-400 text-[10px] font-mono uppercase",children:e},e))})]})]}),(0,tk.jsxs)("div",{className:"col-span-12 lg:col-span-6 flex flex-col bg-pcb-panel border border-pcb-border overflow-hidden",children:[(0,tk.jsx)("div",{className:"flex border-b border-pcb-border bg-black",children:[{id:"overview",icon:tY,label:"README.md"},{id:"bom",icon:tJ,label:"BOM.csv"},{id:"schematic",icon:tX,label:"VIEWER.json"}].map(e=>(0,tk.jsxs)("button",{onClick:()=>o(e.id),className:`px-4 py-3 flex items-center gap-2 text-xs font-mono border-r border-pcb-border transition-colors ${i===e.id?"bg-pcb-panel text-white border-t-2 border-t-pcb-primary":"bg-black text-zinc-600 hover:text-zinc-300 hover:bg-zinc-900"}`,children:[(0,tk.jsx)(e.icon,{className:"w-3 h-3"}),e.label]},e.id))}),(0,tk.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-[#0c0c0c] custom-scrollbar",children:["overview"===i&&(0,tk.jsxs)("div",{className:"max-w-none prose prose-invert prose-headings:font-sans prose-p:text-zinc-400 prose-p:font-light prose-strong:text-white prose-code:text-pcb-primary-light prose-code:bg-zinc-900 prose-code:px-1 prose-code:py-0.5 prose-code:rounded-sm",children:[(0,tk.jsx)("h2",{className:"text-xl font-bold mb-4",children:r.description}),(0,tk.jsx)("div",{className:"grid grid-cols-2 gap-4 my-8",children:r.specs.map(e=>(0,tk.jsxs)("div",{className:"bg-zinc-900/50 border border-zinc-800 p-3",children:[(0,tk.jsx)("div",{className:"text-[10px] text-zinc-500 uppercase font-mono mb-1",children:e.key}),(0,tk.jsx)("div",{className:"text-sm text-pcb-primary-light font-mono",children:e.value})]},e.key))}),(0,tk.jsxs)("div",{className:"border border-zinc-800 bg-black/50 p-4 mt-8",children:[(0,tk.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-xs font-mono text-zinc-500 uppercase",children:[(0,tk.jsx)(tz,{className:"w-4 h-4"})," Download_Metrics"]}),(0,tk.jsx)("div",{className:"h-40",children:(0,tk.jsx)(uV,{width:"100%",height:"100%",children:(0,tk.jsxs)(bz,{data:h,children:[(0,tk.jsx)("defs",{children:(0,tk.jsxs)("linearGradient",{id:"colorDown",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,tk.jsx)("stop",{offset:"5%",stopColor:"#0038df",stopOpacity:.2}),(0,tk.jsx)("stop",{offset:"95%",stopColor:"#0038df",stopOpacity:0})]})}),(0,tk.jsx)(_A,{strokeDasharray:"3 3",stroke:"#1f1f1f",vertical:!1}),(0,tk.jsx)(w8,{dataKey:"name",hide:!0}),(0,tk.jsx)(_s,{hide:!0}),(0,tk.jsx)(xh,{contentStyle:{backgroundColor:"#000",border:"1px solid #333",color:"#fff",fontSize:"12px"},itemStyle:{color:"#4c7dff"}}),(0,tk.jsx)(wC,{type:"monotone",dataKey:"downloads",stroke:"#0038df",strokeWidth:1,fill:"url(#colorDown)"})]})})})]})]}),"bom"===i&&(0,tk.jsxs)("div",{className:"font-mono text-xs",children:[(0,tk.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tk.jsx)("h3",{className:"text-sm font-bold text-white",children:"COMPONENT_LIST"}),(0,tk.jsx)("button",{className:"text-pcb-primary-light border border-pcb-primary/30 px-3 py-1 hover:bg-pcb-primary/10",children:"EXPORT.CSV"})]}),(0,tk.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,tk.jsx)("thead",{className:"text-zinc-500 border-b border-zinc-800",children:(0,tk.jsxs)("tr",{children:[(0,tk.jsx)("th",{className:"py-2 pr-4 font-normal",children:"PART_NO"}),(0,tk.jsx)("th",{className:"py-2 pr-4 font-normal",children:"MFG"}),(0,tk.jsx)("th",{className:"py-2 pr-4 font-normal",children:"DESC"}),(0,tk.jsx)("th",{className:"py-2 font-normal text-right",children:"QTY"})]})}),(0,tk.jsx)("tbody",{className:"divide-y divide-zinc-900",children:r.bom.map((e,t)=>(0,tk.jsxs)("tr",{className:"text-zinc-400 hover:bg-zinc-900/50 hover:text-white transition-colors",children:[(0,tk.jsx)("td",{className:"py-3 pr-4 text-pcb-primary-light",children:e.partNumber}),(0,tk.jsx)("td",{className:"py-3 pr-4",children:e.manufacturer}),(0,tk.jsx)("td",{className:"py-3 pr-4 text-zinc-500 truncate max-w-[200px]",children:e.description}),(0,tk.jsx)("td",{className:"py-3 text-right",children:e.quantity})]},t))})]})]}),"schematic"===i&&(0,tk.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-zinc-600 gap-4 border-2 border-dashed border-zinc-800 rounded",children:[(0,tk.jsx)(tV.Cpu,{className:"w-12 h-12 opacity-20"}),(0,tk.jsx)("p",{className:"font-mono text-xs",children:"RENDERER_NOT_INITIALIZED"})]})]})]}),(0,tk.jsxs)("div",{className:"col-span-12 lg:col-span-3 flex flex-col bg-black border border-pcb-border h-full",children:[(0,tk.jsxs)("div",{className:"p-3 border-b border-pcb-border flex items-center gap-2 bg-zinc-900/30",children:[(0,tk.jsx)(t$,{className:"w-4 h-4 text-pcb-primary-light"}),(0,tk.jsx)("span",{className:"text-xs font-mono font-bold text-zinc-400 uppercase tracking-wider",children:"Ai_Consultant"})]}),(0,tk.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar font-mono text-xs",ref:f,children:[a.map((e,t)=>(0,tk.jsxs)("div",{className:`flex flex-col gap-1 ${"user"===e.role?"items-end":"items-start"}`,children:[(0,tk.jsx)("span",{className:"text-[10px] text-zinc-700 uppercase",children:"user"===e.role?"USR_INPUT":"SYS_OUTPUT"}),(0,tk.jsx)("div",{className:`max-w-[90%] p-3 border ${"user"===e.role?"bg-zinc-900 border-zinc-700 text-white":"bg-black border-pcb-primary/30 text-pcb-primary-light shadow-[0_0_15px_-5px_rgba(0,56,223,0.15)]"}`,children:(0,tk.jsx)("div",{className:"whitespace-pre-wrap leading-relaxed",children:"model"===e.role?e.text.replace(/\*\*/g,"").replace(/^/gm,"> "):e.text})})]},t)),c&&(0,tk.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,tk.jsx)("span",{className:"text-[10px] text-zinc-700 uppercase",children:"SYS_PROCESS"}),(0,tk.jsxs)("div",{className:"text-pcb-primary-light animate-pulse",children:[">"," PROCESSING_REQUEST..."]})]})]}),(0,tk.jsx)("div",{className:"p-3 border-t border-pcb-border bg-zinc-900/20",children:(0,tk.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,tk.jsx)("span",{className:"text-pcb-primary-light font-mono",children:">"}),(0,tk.jsx)("input",{type:"text",value:s,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&d(),placeholder:"QUERY_SPEC...",className:"w-full bg-transparent border-none text-xs font-mono text-white focus:ring-0 placeholder:text-zinc-700",disabled:c,autoFocus:!0}),(0,tk.jsx)("button",{onClick:d,disabled:!s.trim()||c,className:"text-zinc-500 hover:text-pcb-primary-light disabled:opacity-30 transition-colors",children:(0,tk.jsx)(tK,{className:"w-4 h-4"})})]})})]})]})]})}],30154)}]);